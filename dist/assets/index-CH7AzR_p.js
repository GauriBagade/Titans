var Y0=t=>{throw TypeError(t)};var $p=(t,e,n)=>e.has(t)||Y0("Cannot "+n);var F=(t,e,n)=>($p(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?Y0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>($p(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),zt=(t,e,n)=>($p(t,e,"access private method"),n);var rd=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return F(t,e,r)}});function YP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vb={exports:{}},wf={},wb={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.element"),ZP=Symbol.for("react.portal"),XP=Symbol.for("react.fragment"),JP=Symbol.for("react.strict_mode"),eR=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),sR=Symbol.for("react.suspense"),iR=Symbol.for("react.memo"),oR=Symbol.for("react.lazy"),Z0=Symbol.iterator;function aR(t){return t===null||typeof t!="object"?null:(t=Z0&&t[Z0]||t["@@iterator"],typeof t=="function"?t:null)}var xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_b=Object.assign,Eb={};function fl(t,e,n){this.props=t,this.context=e,this.refs=Eb,this.updater=n||xb}fl.prototype.isReactComponent={};fl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bb(){}bb.prototype=fl.prototype;function Uy(t,e,n){this.props=t,this.context=e,this.refs=Eb,this.updater=n||xb}var $y=Uy.prototype=new bb;$y.constructor=Uy;_b($y,fl.prototype);$y.isPureReactComponent=!0;var X0=Array.isArray,Sb=Object.prototype.hasOwnProperty,zy={current:null},Tb={key:!0,ref:!0,__self:!0,__source:!0};function Cb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Sb.call(e,r)&&!Tb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Eu,type:t,key:i,ref:o,props:s,_owner:zy.current}}function lR(t,e){return{$$typeof:Eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function By(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eu}function cR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J0=/\/+/g;function zp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cR(""+t.key):e.toString(36)}function Vd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Eu:case ZP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+zp(o,0):r,X0(s)?(n="",t!=null&&(n=t.replace(J0,"$&/")+"/"),Vd(s,e,n,"",function(c){return c})):s!=null&&(By(s)&&(s=lR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(J0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",X0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+zp(i,a);o+=Vd(i,e,n,l,s)}else if(l=aR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+zp(i,a++),o+=Vd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(t,e,n){if(t==null)return t;var r=[],s=0;return Vd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function uR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Fd={transition:null},dR={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:zy};function Ab(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!By(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=fl;Te.Fragment=XP;Te.Profiler=eR;Te.PureComponent=Uy;Te.StrictMode=JP;Te.Suspense=sR;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;Te.act=Ab;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_b({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Sb.call(e,l)&&!Tb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Eu,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:nR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tR,_context:t},t.Consumer=t};Te.createElement=Cb;Te.createFactory=function(t){var e=Cb.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:rR,render:t}};Te.isValidElement=By;Te.lazy=function(t){return{$$typeof:oR,_payload:{_status:-1,_result:t},_init:uR}};Te.memo=function(t,e){return{$$typeof:iR,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Fd.transition;Fd.transition={};try{t()}finally{Fd.transition=e}};Te.unstable_act=Ab;Te.useCallback=function(t,e){return sn.current.useCallback(t,e)};Te.useContext=function(t){return sn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return sn.current.useEffect(t,e)};Te.useId=function(){return sn.current.useId()};Te.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return sn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Te.useRef=function(t){return sn.current.useRef(t)};Te.useState=function(t){return sn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return sn.current.useTransition()};Te.version="18.3.1";wb.exports=Te;var y=wb.exports;const q=yb(y),xf=YP({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=y,fR=Symbol.for("react.element"),pR=Symbol.for("react.fragment"),mR=Object.prototype.hasOwnProperty,gR=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function Ib(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mR.call(e,r)&&!yR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:fR,type:t,key:i,ref:o,props:s,_owner:gR.current}}wf.Fragment=pR;wf.jsx=Ib;wf.jsxs=Ib;vb.exports=wf;var d=vb.exports,kb={exports:{}},An={},Nb={exports:{}},Pb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var Q=V.length;V.push(U);e:for(;0<Q;){var ce=Q-1>>>1,re=V[ce];if(0<s(re,U))V[ce]=U,V[Q]=re,Q=ce;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],Q=V.pop();if(Q!==U){V[0]=Q;e:for(var ce=0,re=V.length,ge=re>>>1;ce<ge;){var fe=2*(ce+1)-1,Ue=V[fe],He=fe+1,G=V[He];if(0>s(Ue,Q))He<re&&0>s(G,Ue)?(V[ce]=G,V[He]=Q,ce=He):(V[ce]=Ue,V[fe]=Q,ce=fe);else if(He<re&&0>s(G,Q))V[ce]=G,V[He]=Q,ce=He;else break e}}return U}function s(V,U){var Q=V.sortIndex-U.sortIndex;return Q!==0?Q:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,g=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=V)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function I(V){if(v=!1,b(V),!S)if(n(l)!==null)S=!0,J(P);else{var U=n(c);U!==null&&oe(I,U.startTime-V)}}function P(V,U){S=!1,v&&(v=!1,_(C),C=-1),g=!0;var Q=p;try{for(b(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!j());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var re=ce(f.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),b(U)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var fe=n(c);fe!==null&&oe(I,fe.startTime-U),ge=!1}return ge}finally{f=null,p=Q,g=!1}}var D=!1,T=null,C=-1,A=5,N=-1;function j(){return!(t.unstable_now()-N<A)}function O(){if(T!==null){var V=t.unstable_now();N=V;var U=!0;try{U=T(!0,V)}finally{U?R():(D=!1,T=null)}}else D=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=O,R=function(){ne.postMessage(null)}}else R=function(){E(O,0)};function J(V){T=V,D||(D=!0,R())}function oe(V,U){C=E(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,J(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Q=p;p=U;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return U()}finally{p=Q}},t.unstable_scheduleCallback=function(V,U,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,V){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,V={id:h++,callback:U,priorityLevel:V,startTime:Q,expirationTime:re,sortIndex:-1},Q>ce?(V.sortIndex=Q,e(c,V),n(l)===null&&V===n(c)&&(v?(_(C),C=-1):v=!0,oe(I,Q-ce))):(V.sortIndex=re,e(l,V),S||g||(S=!0,J(P))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var U=p;return function(){var Q=p;p=U;try{return V.apply(this,arguments)}finally{p=Q}}}})(Pb);Nb.exports=Pb;var vR=Nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=y,Tn=vR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rb=new Set,Nc={};function Po(t,e){Ba(t,e),Ba(t+"Capture",e)}function Ba(t,e){for(Nc[t]=e,t=0;t<e.length;t++)Rb.add(e[t])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=Object.prototype.hasOwnProperty,xR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ex={},tx={};function _R(t){return zm.call(tx,t)?!0:zm.call(ex,t)?!1:xR.test(t)?tx[t]=!0:(ex[t]=!0,!1)}function ER(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bR(t,e,n,r){if(e===null||typeof e>"u"||ER(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wy,Hy);Ft[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wy,Hy);Ft[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wy,Hy);Ft[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bR(e,n,s,r)&&(n=null),r||s===null?_R(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ws=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),ia=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),jb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),Db=Symbol.for("react.offscreen"),nx=Symbol.iterator;function Wl(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Bp;function tc(t){if(Bp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bp=e&&e[1]||""}return`
`+Bp+t}var Wp=!1;function Hp(t,e){if(!t||Wp)return"";Wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function SR(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=Hp(t.type,!1),t;case 11:return t=Hp(t.type.render,!1),t;case 1:return t=Hp(t.type,!0),t;default:return""}}function qm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case ia:return"Portal";case Bm:return"Profiler";case Ky:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ob:return(t.displayName||"Context")+".Consumer";case jb:return(t._context.displayName||"Context")+".Provider";case Gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qy:return e=t.displayName||null,e!==null?e:qm(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return qm(t(e))}catch{}}return null}function TR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(e);case 8:return e===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CR(t){var e=Lb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=CR(t))}function Mb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Km(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vb(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function Gm(t,e){Vb(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qm(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qm(t,e,n){(e!=="number"||hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function wa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ym(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ix(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(nc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function Fb(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ox(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ub(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ub(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ad,$b=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AR=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(t){AR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fc[e]=fc[t]})});function zb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fc.hasOwnProperty(t)&&fc[t]?(""+e).trim():e+"px"}function Bb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var IR=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xm(t,e){if(e){if(IR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,xa=null,_a=null;function ax(t){if(t=Tu(t)){if(typeof tg!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Tf(e),tg(t.stateNode,t.type,e))}}function Wb(t){xa?_a?_a.push(t):_a=[t]:xa=t}function Hb(){if(xa){var t=xa,e=_a;if(_a=xa=null,ax(t),e)for(t=0;t<e.length;t++)ax(e[t])}}function qb(t,e){return t(e)}function Kb(){}var qp=!1;function Gb(t,e,n){if(qp)return t(e,n);qp=!0;try{return qb(t,e,n)}finally{qp=!1,(xa!==null||_a!==null)&&(Kb(),Hb())}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=Tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var ng=!1;if(cs)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){ng=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{ng=!1}function kR(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var pc=!1,fh=null,ph=!1,rg=null,NR={onError:function(t){pc=!0,fh=t}};function PR(t,e,n,r,s,i,o,a,l){pc=!1,fh=null,kR.apply(NR,arguments)}function RR(t,e,n,r,s,i,o,a,l){if(PR.apply(this,arguments),pc){if(pc){var c=fh;pc=!1,fh=null}else throw Error(W(198));ph||(ph=!0,rg=c)}}function Ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lx(t){if(Ro(t)!==t)throw Error(W(188))}function jR(t){var e=t.alternate;if(!e){if(e=Ro(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lx(s),t;if(i===r)return lx(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Yb(t){return t=jR(t),t!==null?Zb(t):null}function Zb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zb(t);if(e!==null)return e;t=t.sibling}return null}var Xb=Tn.unstable_scheduleCallback,cx=Tn.unstable_cancelCallback,OR=Tn.unstable_shouldYield,DR=Tn.unstable_requestPaint,ht=Tn.unstable_now,LR=Tn.unstable_getCurrentPriorityLevel,Zy=Tn.unstable_ImmediatePriority,Jb=Tn.unstable_UserBlockingPriority,mh=Tn.unstable_NormalPriority,MR=Tn.unstable_LowPriority,eS=Tn.unstable_IdlePriority,_f=null,Pr=null;function VR(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(_f,t,void 0,(t.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:$R,FR=Math.log,UR=Math.LN2;function $R(t){return t>>>=0,t===0?32:31-(FR(t)/UR|0)|0}var ld=64,cd=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rc(a):(i&=o,i!==0&&(r=rc(i)))}else o=n&~s,o!==0?r=rc(o):i!==0&&(r=rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),s=1<<n,r|=t[n],e&=~s;return r}function zR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=zR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tS(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function Kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rr(e),t[e]=n}function WR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $e=0;function nS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rS,Jy,sS,iS,oS,ig=!1,ud=[],ni=null,ri=null,si=null,jc=new Map,Oc=new Map,Ms=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ux(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function ql(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tu(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qR(t,e,n,r,s){switch(e){case"focusin":return ni=ql(ni,t,e,n,r,s),!0;case"dragenter":return ri=ql(ri,t,e,n,r,s),!0;case"mouseover":return si=ql(si,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jc.set(i,ql(jc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oc.set(i,ql(Oc.get(i)||null,t,e,n,r,s)),!0}return!1}function aS(t){var e=Zi(t.target);if(e!==null){var n=Ro(e);if(n!==null){if(e=n.tag,e===13){if(e=Qb(n),e!==null){t.blockedOn=e,oS(t.priority,function(){sS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=og(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eg=r,n.target.dispatchEvent(r),eg=null}else return e=Tu(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function dx(t,e,n){Ud(t)&&n.delete(e)}function KR(){ig=!1,ni!==null&&Ud(ni)&&(ni=null),ri!==null&&Ud(ri)&&(ri=null),si!==null&&Ud(si)&&(si=null),jc.forEach(dx),Oc.forEach(dx)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,ig||(ig=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,KR)))}function Dc(t){function e(s){return Kl(s,t)}if(0<ud.length){Kl(ud[0],t);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&Kl(ni,t),ri!==null&&Kl(ri,t),si!==null&&Kl(si,t),jc.forEach(e),Oc.forEach(e),n=0;n<Ms.length;n++)r=Ms[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ms.length&&(n=Ms[0],n.blockedOn===null);)aS(n),n.blockedOn===null&&Ms.shift()}var Ea=ws.ReactCurrentBatchConfig,yh=!0;function GR(t,e,n,r){var s=$e,i=Ea.transition;Ea.transition=null;try{$e=1,ev(t,e,n,r)}finally{$e=s,Ea.transition=i}}function QR(t,e,n,r){var s=$e,i=Ea.transition;Ea.transition=null;try{$e=4,ev(t,e,n,r)}finally{$e=s,Ea.transition=i}}function ev(t,e,n,r){if(yh){var s=og(t,e,n,r);if(s===null)rm(t,e,r,vh,n),ux(t,r);else if(qR(s,t,e,n,r))r.stopPropagation();else if(ux(t,r),e&4&&-1<HR.indexOf(t)){for(;s!==null;){var i=Tu(s);if(i!==null&&rS(i),i=og(t,e,n,r),i===null&&rm(t,e,r,vh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rm(t,e,r,null,n)}}var vh=null;function og(t,e,n,r){if(vh=null,t=Yy(r),t=Zi(t),t!==null)if(e=Ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function lS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LR()){case Zy:return 1;case Jb:return 4;case mh:case MR:return 16;case eS:return 536870912;default:return 16}default:return 16}}var Zs=null,tv=null,$d=null;function cS(){if($d)return $d;var t,e=tv,n=e.length,r,s="value"in Zs?Zs.value:Zs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $d=s.slice(t,1<r?1-r:void 0)}function zd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function hx(){return!1}function In(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dd:hx,this.isPropagationStopped=hx,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=In(pl),Su=ot({},pl,{view:0,detail:0}),YR=In(Su),Gp,Qp,Gl,Ef=ot({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(Gp=t.screenX-Gl.screenX,Qp=t.screenY-Gl.screenY):Qp=Gp=0,Gl=t),Gp)},movementY:function(t){return"movementY"in t?t.movementY:Qp}}),fx=In(Ef),ZR=ot({},Ef,{dataTransfer:0}),XR=In(ZR),JR=ot({},Su,{relatedTarget:0}),Yp=In(JR),e2=ot({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),t2=In(e2),n2=ot({},pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r2=In(n2),s2=ot({},pl,{data:0}),px=In(s2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a2[t])?!!e[t]:!1}function rv(){return l2}var c2=ot({},Su,{key:function(t){if(t.key){var e=i2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rv,charCode:function(t){return t.type==="keypress"?zd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u2=In(c2),d2=ot({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=In(d2),h2=ot({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rv}),f2=In(h2),p2=ot({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),m2=In(p2),g2=ot({},Ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y2=In(g2),v2=[9,13,27,32],sv=cs&&"CompositionEvent"in window,mc=null;cs&&"documentMode"in document&&(mc=document.documentMode);var w2=cs&&"TextEvent"in window&&!mc,uS=cs&&(!sv||mc&&8<mc&&11>=mc),gx=" ",yx=!1;function dS(t,e){switch(t){case"keyup":return v2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var aa=!1;function x2(t,e){switch(t){case"compositionend":return hS(e);case"keypress":return e.which!==32?null:(yx=!0,gx);case"textInput":return t=e.data,t===gx&&yx?null:t;default:return null}}function _2(t,e){if(aa)return t==="compositionend"||!sv&&dS(t,e)?(t=cS(),$d=tv=Zs=null,aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E2[t.type]:e==="textarea"}function fS(t,e,n,r){Wb(r),e=wh(e,"onChange"),0<e.length&&(n=new nv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gc=null,Lc=null;function b2(t){SS(t,0)}function bf(t){var e=ua(t);if(Mb(e))return t}function S2(t,e){if(t==="change")return e}var pS=!1;if(cs){var Zp;if(cs){var Xp="oninput"in document;if(!Xp){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),Xp=typeof wx.oninput=="function"}Zp=Xp}else Zp=!1;pS=Zp&&(!document.documentMode||9<document.documentMode)}function xx(){gc&&(gc.detachEvent("onpropertychange",mS),Lc=gc=null)}function mS(t){if(t.propertyName==="value"&&bf(Lc)){var e=[];fS(e,Lc,t,Yy(t)),Gb(b2,e)}}function T2(t,e,n){t==="focusin"?(xx(),gc=e,Lc=n,gc.attachEvent("onpropertychange",mS)):t==="focusout"&&xx()}function C2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bf(Lc)}function A2(t,e){if(t==="click")return bf(e)}function I2(t,e){if(t==="input"||t==="change")return bf(e)}function k2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:k2;function Mc(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zm.call(e,s)||!or(t[s],e[s]))return!1}return!0}function _x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ex(t,e){var n=_x(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_x(n)}}function gS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yS(){for(var t=window,e=hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N2(t){var e=yS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gS(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ex(n,i);var o=Ex(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P2=cs&&"documentMode"in document&&11>=document.documentMode,la=null,ag=null,yc=null,lg=!1;function bx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lg||la==null||la!==hh(r)||(r=la,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yc&&Mc(yc,r)||(yc=r,r=wh(ag,"onSelect"),0<r.length&&(e=new nv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=la)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Jp={},vS={};cs&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Sf(t){if(Jp[t])return Jp[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return Jp[t]=e[n];return t}var wS=Sf("animationend"),xS=Sf("animationiteration"),_S=Sf("animationstart"),ES=Sf("transitionend"),bS=new Map,Sx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){bS.set(t,e),Po(e,[t])}for(var em=0;em<Sx.length;em++){var tm=Sx[em],R2=tm.toLowerCase(),j2=tm[0].toUpperCase()+tm.slice(1);Pi(R2,"on"+j2)}Pi(wS,"onAnimationEnd");Pi(xS,"onAnimationIteration");Pi(_S,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(ES,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Tx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RR(r,e,void 0,t),t.currentTarget=null}function SS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Tx(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Tx(s,a,c),i=l}}}if(ph)throw t=rg,ph=!1,rg=null,t}function Ze(t,e){var n=e[fg];n===void 0&&(n=e[fg]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function nm(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[fd]){t[fd]=!0,Rb.forEach(function(n){n!=="selectionchange"&&(O2.has(n)||nm(n,!1,t),nm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,nm("selectionchange",!1,e))}}function TS(t,e,n,r){switch(lS(e)){case 1:var s=GR;break;case 4:s=QR;break;default:s=ev}n=s.bind(null,e,n,t),s=void 0,!ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Gb(function(){var c=i,h=Yy(n),f=[];e:{var p=bS.get(t);if(p!==void 0){var g=nv,S=t;switch(t){case"keypress":if(zd(n)===0)break e;case"keydown":case"keyup":g=u2;break;case"focusin":S="focus",g=Yp;break;case"focusout":S="blur",g=Yp;break;case"beforeblur":case"afterblur":g=Yp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=f2;break;case wS:case xS:case _S:g=t2;break;case ES:g=m2;break;case"scroll":g=YR;break;case"wheel":g=y2;break;case"copy":case"cut":case"paste":g=r2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mx}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var w=c,b;w!==null;){b=w;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,_!==null&&(I=Rc(w,_),I!=null&&v.push(Fc(w,I,b)))),E)break;w=w.return}0<v.length&&(p=new g(p,S,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==eg&&(S=n.relatedTarget||n.fromElement)&&(Zi(S)||S[us]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=c,S=S?Zi(S):null,S!==null&&(E=Ro(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=c),g!==S)){if(v=fx,I="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=mx,I="onPointerLeave",_="onPointerEnter",w="pointer"),E=g==null?p:ua(g),b=S==null?p:ua(S),p=new v(I,w+"leave",g,n,h),p.target=E,p.relatedTarget=b,I=null,Zi(h)===c&&(v=new v(_,w+"enter",S,n,h),v.target=b,v.relatedTarget=E,I=v),E=I,g&&S)t:{for(v=g,_=S,w=0,b=v;b;b=Go(b))w++;for(b=0,I=_;I;I=Go(I))b++;for(;0<w-b;)v=Go(v),w--;for(;0<b-w;)_=Go(_),b--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=Go(v),_=Go(_)}v=null}else v=null;g!==null&&Cx(f,p,g,v,!1),S!==null&&E!==null&&Cx(f,E,S,v,!0)}}e:{if(p=c?ua(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=S2;else if(vx(p))if(pS)P=I2;else{P=C2;var D=T2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=A2);if(P&&(P=P(t,c))){fS(f,P,n,h);break e}D&&D(t,p,c),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Qm(p,"number",p.value)}switch(D=c?ua(c):window,t){case"focusin":(vx(D)||D.contentEditable==="true")&&(la=D,ag=c,yc=null);break;case"focusout":yc=ag=la=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,bx(f,n,h);break;case"selectionchange":if(P2)break;case"keydown":case"keyup":bx(f,n,h)}var T;if(sv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else aa?dS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(uS&&n.locale!=="ko"&&(aa||C!=="onCompositionStart"?C==="onCompositionEnd"&&aa&&(T=cS()):(Zs=h,tv="value"in Zs?Zs.value:Zs.textContent,aa=!0)),D=wh(c,C),0<D.length&&(C=new px(C,t,null,n,h),f.push({event:C,listeners:D}),T?C.data=T:(T=hS(n),T!==null&&(C.data=T)))),(T=w2?x2(t,n):_2(t,n))&&(c=wh(c,"onBeforeInput"),0<c.length&&(h=new px("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}SS(f,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rc(t,n),i!=null&&r.unshift(Fc(t,i,s)),i=Rc(t,e),i!=null&&r.push(Fc(t,i,s))),t=t.return}return r}function Go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Rc(n,i),l!=null&&o.unshift(Fc(n,l,a))):s||(l=Rc(n,i),l!=null&&o.push(Fc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var D2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Ax(t){return(typeof t=="string"?t:""+t).replace(D2,`
`).replace(L2,"")}function pd(t,e,n){if(e=Ax(e),Ax(t)!==e&&n)throw Error(W(425))}function xh(){}var cg=null,ug=null;function dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,V2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(t){return Ix.resolve(null).then(t).catch(F2)}:hg;function F2(t){setTimeout(function(){throw t})}function sm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dc(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Ir="__reactFiber$"+ml,Uc="__reactProps$"+ml,us="__reactContainer$"+ml,fg="__reactEvents$"+ml,U2="__reactListeners$"+ml,$2="__reactHandles$"+ml;function Zi(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[us]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kx(t);t!==null;){if(n=t[Ir])return n;t=kx(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[Ir]||t[us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Tf(t){return t[Uc]||null}var pg=[],da=-1;function Ri(t){return{current:t}}function Je(t){0>da||(t.current=pg[da],pg[da]=null,da--)}function Ke(t,e){da++,pg[da]=t.current,t.current=e}var vi={},Yt=Ri(vi),pn=Ri(!1),ho=vi;function Wa(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function _h(){Je(pn),Je(Yt)}function Nx(t,e,n){if(Yt.current!==vi)throw Error(W(168));Ke(Yt,e),Ke(pn,n)}function CS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,TR(t)||"Unknown",s));return ot({},n,r)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,ho=Yt.current,Ke(Yt,t),Ke(pn,pn.current),!0}function Px(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=CS(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,Je(pn),Je(Yt),Ke(Yt,t)):Je(pn),Ke(pn,n)}var es=null,Cf=!1,im=!1;function AS(t){es===null?es=[t]:es.push(t)}function z2(t){Cf=!0,AS(t)}function ji(){if(!im&&es!==null){im=!0;var t=0,e=$e;try{var n=es;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,Cf=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),Xb(Zy,ji),s}finally{$e=e,im=!1}}return null}var ha=[],fa=0,bh=null,Sh=0,jn=[],On=0,fo=null,ns=1,rs="";function Gi(t,e){ha[fa++]=Sh,ha[fa++]=bh,bh=t,Sh=e}function IS(t,e,n){jn[On++]=ns,jn[On++]=rs,jn[On++]=fo,fo=t;var r=ns;t=rs;var s=32-rr(r)-1;r&=~(1<<s),n+=1;var i=32-rr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ns=1<<32-rr(e)+s|n<<s|r,rs=i+t}else ns=1<<i|n<<s|r,rs=t}function ov(t){t.return!==null&&(Gi(t,1),IS(t,1,0))}function av(t){for(;t===bh;)bh=ha[--fa],ha[fa]=null,Sh=ha[--fa],ha[fa]=null;for(;t===fo;)fo=jn[--On],jn[On]=null,rs=jn[--On],jn[On]=null,ns=jn[--On],jn[On]=null}var bn=null,En=null,tt=!1,er=null;function kS(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,En=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:ns,overflow:rs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,En=null,!0):!1;default:return!1}}function mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gg(t){if(tt){var e=En;if(e){var n=e;if(!Rx(t,e)){if(mg(t))throw Error(W(418));e=ii(n.nextSibling);var r=bn;e&&Rx(t,e)?kS(r,n):(t.flags=t.flags&-4097|2,tt=!1,bn=t)}}else{if(mg(t))throw Error(W(418));t.flags=t.flags&-4097|2,tt=!1,bn=t}}}function jx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function md(t){if(t!==bn)return!1;if(!tt)return jx(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dg(t.type,t.memoizedProps)),e&&(e=En)){if(mg(t))throw NS(),Error(W(418));for(;e;)kS(t,e),e=ii(e.nextSibling)}if(jx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=bn?ii(t.stateNode.nextSibling):null;return!0}function NS(){for(var t=En;t;)t=ii(t.nextSibling)}function Ha(){En=bn=null,tt=!1}function lv(t){er===null?er=[t]:er.push(t)}var B2=ws.ReactCurrentBatchConfig;function Ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ox(t){var e=t._init;return e(t._payload)}function PS(t){function e(_,w){if(t){var b=_.deletions;b===null?(_.deletions=[w],_.flags|=16):b.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=ci(_,w),_.index=0,_.sibling=null,_}function i(_,w,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<w?(_.flags|=2,w):b):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,b,I){return w===null||w.tag!==6?(w=hm(b,_.mode,I),w.return=_,w):(w=s(w,b),w.return=_,w)}function l(_,w,b,I){var P=b.type;return P===oa?h(_,w,b.props.children,I,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Os&&Ox(P)===w.type)?(I=s(w,b.props),I.ref=Ql(_,w,b),I.return=_,I):(I=Qd(b.type,b.key,b.props,null,_.mode,I),I.ref=Ql(_,w,b),I.return=_,I)}function c(_,w,b,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=fm(b,_.mode,I),w.return=_,w):(w=s(w,b.children||[]),w.return=_,w)}function h(_,w,b,I,P){return w===null||w.tag!==7?(w=lo(b,_.mode,I,P),w.return=_,w):(w=s(w,b),w.return=_,w)}function f(_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hm(""+w,_.mode,b),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case id:return b=Qd(w.type,w.key,w.props,null,_.mode,b),b.ref=Ql(_,null,w),b.return=_,b;case ia:return w=fm(w,_.mode,b),w.return=_,w;case Os:var I=w._init;return f(_,I(w._payload),b)}if(nc(w)||Wl(w))return w=lo(w,_.mode,b,null),w.return=_,w;gd(_,w)}return null}function p(_,w,b,I){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(_,w,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case id:return b.key===P?l(_,w,b,I):null;case ia:return b.key===P?c(_,w,b,I):null;case Os:return P=b._init,p(_,w,P(b._payload),I)}if(nc(b)||Wl(b))return P!==null?null:h(_,w,b,I,null);gd(_,b)}return null}function g(_,w,b,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(b)||null,a(w,_,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case id:return _=_.get(I.key===null?b:I.key)||null,l(w,_,I,P);case ia:return _=_.get(I.key===null?b:I.key)||null,c(w,_,I,P);case Os:var D=I._init;return g(_,w,b,D(I._payload),P)}if(nc(I)||Wl(I))return _=_.get(b)||null,h(w,_,I,P,null);gd(w,I)}return null}function S(_,w,b,I){for(var P=null,D=null,T=w,C=w=0,A=null;T!==null&&C<b.length;C++){T.index>C?(A=T,T=null):A=T.sibling;var N=p(_,T,b[C],I);if(N===null){T===null&&(T=A);break}t&&T&&N.alternate===null&&e(_,T),w=i(N,w,C),D===null?P=N:D.sibling=N,D=N,T=A}if(C===b.length)return n(_,T),tt&&Gi(_,C),P;if(T===null){for(;C<b.length;C++)T=f(_,b[C],I),T!==null&&(w=i(T,w,C),D===null?P=T:D.sibling=T,D=T);return tt&&Gi(_,C),P}for(T=r(_,T);C<b.length;C++)A=g(T,_,C,b[C],I),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),w=i(A,w,C),D===null?P=A:D.sibling=A,D=A);return t&&T.forEach(function(j){return e(_,j)}),tt&&Gi(_,C),P}function v(_,w,b,I){var P=Wl(b);if(typeof P!="function")throw Error(W(150));if(b=P.call(b),b==null)throw Error(W(151));for(var D=P=null,T=w,C=w=0,A=null,N=b.next();T!==null&&!N.done;C++,N=b.next()){T.index>C?(A=T,T=null):A=T.sibling;var j=p(_,T,N.value,I);if(j===null){T===null&&(T=A);break}t&&T&&j.alternate===null&&e(_,T),w=i(j,w,C),D===null?P=j:D.sibling=j,D=j,T=A}if(N.done)return n(_,T),tt&&Gi(_,C),P;if(T===null){for(;!N.done;C++,N=b.next())N=f(_,N.value,I),N!==null&&(w=i(N,w,C),D===null?P=N:D.sibling=N,D=N);return tt&&Gi(_,C),P}for(T=r(_,T);!N.done;C++,N=b.next())N=g(T,_,C,N.value,I),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?C:N.key),w=i(N,w,C),D===null?P=N:D.sibling=N,D=N);return t&&T.forEach(function(O){return e(_,O)}),tt&&Gi(_,C),P}function E(_,w,b,I){if(typeof b=="object"&&b!==null&&b.type===oa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case id:e:{for(var P=b.key,D=w;D!==null;){if(D.key===P){if(P=b.type,P===oa){if(D.tag===7){n(_,D.sibling),w=s(D,b.props.children),w.return=_,_=w;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Os&&Ox(P)===D.type){n(_,D.sibling),w=s(D,b.props),w.ref=Ql(_,D,b),w.return=_,_=w;break e}n(_,D);break}else e(_,D);D=D.sibling}b.type===oa?(w=lo(b.props.children,_.mode,I,b.key),w.return=_,_=w):(I=Qd(b.type,b.key,b.props,null,_.mode,I),I.ref=Ql(_,w,b),I.return=_,_=I)}return o(_);case ia:e:{for(D=b.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(_,w.sibling),w=s(w,b.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=fm(b,_.mode,I),w.return=_,_=w}return o(_);case Os:return D=b._init,E(_,w,D(b._payload),I)}if(nc(b))return S(_,w,b,I);if(Wl(b))return v(_,w,b,I);gd(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,b),w.return=_,_=w):(n(_,w),w=hm(b,_.mode,I),w.return=_,_=w),o(_)):n(_,w)}return E}var qa=PS(!0),RS=PS(!1),Th=Ri(null),Ch=null,pa=null,cv=null;function uv(){cv=pa=Ch=null}function dv(t){var e=Th.current;Je(Th),t._currentValue=e}function yg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ba(t,e){Ch=t,cv=pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(cv!==t)if(t={context:t,memoizedValue:e,next:null},pa===null){if(Ch===null)throw Error(W(308));pa=t,Ch.dependencies={lanes:0,firstContext:t}}else pa=pa.next=t;return e}var Xi=null;function hv(t){Xi===null?Xi=[t]:Xi.push(t)}function jS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ds(t,r)}function ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ds=!1;function fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ds(t,n)}return s=r.interleaved,s===null?(e.next=e,hv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ds(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}function Dx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ah(t,e,n,r){var s=t.updateQueue;Ds=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,v=a;switch(p=e,g=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=ot({},f,p);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mo|=o,t.lanes=o,t.memoizedState=f}}function Lx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Cu={},Rr=Ri(Cu),$c=Ri(Cu),zc=Ri(Cu);function Ji(t){if(t===Cu)throw Error(W(174));return t}function pv(t,e){switch(Ke(zc,e),Ke($c,t),Ke(Rr,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zm(e,t)}Je(Rr),Ke(Rr,e)}function Ka(){Je(Rr),Je($c),Je(zc)}function DS(t){Ji(zc.current);var e=Ji(Rr.current),n=Zm(e,t.type);e!==n&&(Ke($c,t),Ke(Rr,n))}function mv(t){$c.current===t&&(Je(Rr),Je($c))}var rt=Ri(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var om=[];function gv(){for(var t=0;t<om.length;t++)om[t]._workInProgressVersionPrimary=null;om.length=0}var Wd=ws.ReactCurrentDispatcher,am=ws.ReactCurrentBatchConfig,po=0,it=null,Et=null,Rt=null,kh=!1,vc=!1,Bc=0,W2=0;function Bt(){throw Error(W(321))}function yv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function vv(t,e,n,r,s,i){if(po=i,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wd.current=t===null||t.memoizedState===null?G2:Q2,t=n(r,s),vc){i=0;do{if(vc=!1,Bc=0,25<=i)throw Error(W(301));i+=1,Rt=Et=null,e.updateQueue=null,Wd.current=Y2,t=n(r,s)}while(vc)}if(Wd.current=Nh,e=Et!==null&&Et.next!==null,po=0,Rt=Et=it=null,kh=!1,e)throw Error(W(300));return t}function wv(){var t=Bc!==0;return Bc=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?it.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Un(){if(Et===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Rt===null?it.memoizedState:Rt.next;if(e!==null)Rt=e,Et=t;else{if(t===null)throw Error(W(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Rt===null?it.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Wc(t,e){return typeof e=="function"?e(t):e}function lm(t){var e=Un(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((po&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,it.lanes|=h,mo|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,or(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,it.lanes|=i,mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cm(t){var e=Un(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);or(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LS(){}function MS(t,e){var n=it,r=Un(),s=e(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,xv(US.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Hc(9,FS.bind(null,n,r,s,e),void 0,null),Ot===null)throw Error(W(349));po&30||VS(n,e,s)}return s}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FS(t,e,n,r){e.value=n,e.getSnapshot=r,$S(e)&&zS(t)}function US(t,e,n){return n(function(){$S(e)&&zS(t)})}function $S(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function zS(t){var e=ds(t,1);e!==null&&sr(e,t,1,-1)}function Mx(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=K2.bind(null,it,t),[e.memoizedState,t]}function Hc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BS(){return Un().memoizedState}function Hd(t,e,n,r){var s=Er();it.flags|=t,s.memoizedState=Hc(1|e,n,void 0,r===void 0?null:r)}function Af(t,e,n,r){var s=Un();r=r===void 0?null:r;var i=void 0;if(Et!==null){var o=Et.memoizedState;if(i=o.destroy,r!==null&&yv(r,o.deps)){s.memoizedState=Hc(e,n,i,r);return}}it.flags|=t,s.memoizedState=Hc(1|e,n,i,r)}function Vx(t,e){return Hd(8390656,8,t,e)}function xv(t,e){return Af(2048,8,t,e)}function WS(t,e){return Af(4,2,t,e)}function HS(t,e){return Af(4,4,t,e)}function qS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KS(t,e,n){return n=n!=null?n.concat([t]):null,Af(4,4,qS.bind(null,e,t),n)}function _v(){}function GS(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QS(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YS(t,e,n){return po&21?(or(n,e)||(n=tS(),it.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function H2(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=am.transition;am.transition={};try{t(!1),e()}finally{$e=n,am.transition=r}}function ZS(){return Un().memoizedState}function q2(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XS(t))JS(e,n);else if(n=jS(t,e,n,r),n!==null){var s=rn();sr(n,t,r,s),eT(n,e,r)}}function K2(t,e,n){var r=li(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XS(t))JS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,or(a,o)){var l=e.interleaved;l===null?(s.next=s,hv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=jS(t,e,s,r),n!==null&&(s=rn(),sr(n,t,r,s),eT(n,e,r))}}function XS(t){var e=t.alternate;return t===it||e!==null&&e===it}function JS(t,e){vc=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}var Nh={readContext:Fn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},G2={readContext:Fn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:Vx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,qS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q2.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:Mx,useDebugValue:_v,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=Mx(!1),e=t[0];return t=H2.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,s=Er();if(tt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ot===null)throw Error(W(349));po&30||VS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Vx(US.bind(null,r,i,t),[t]),r.flags|=2048,Hc(9,FS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Er(),e=Ot.identifierPrefix;if(tt){var n=rs,r=ns;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=W2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q2={readContext:Fn,useCallback:GS,useContext:Fn,useEffect:xv,useImperativeHandle:KS,useInsertionEffect:WS,useLayoutEffect:HS,useMemo:QS,useReducer:lm,useRef:BS,useState:function(){return lm(Wc)},useDebugValue:_v,useDeferredValue:function(t){var e=Un();return YS(e,Et.memoizedState,t)},useTransition:function(){var t=lm(Wc)[0],e=Un().memoizedState;return[t,e]},useMutableSource:LS,useSyncExternalStore:MS,useId:ZS,unstable_isNewReconciler:!1},Y2={readContext:Fn,useCallback:GS,useContext:Fn,useEffect:xv,useImperativeHandle:KS,useInsertionEffect:WS,useLayoutEffect:HS,useMemo:QS,useReducer:cm,useRef:BS,useState:function(){return cm(Wc)},useDebugValue:_v,useDeferredValue:function(t){var e=Un();return Et===null?e.memoizedState=t:YS(e,Et.memoizedState,t)},useTransition:function(){var t=cm(Wc)[0],e=Un().memoizedState;return[t,e]},useMutableSource:LS,useSyncExternalStore:MS,useId:ZS,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var If={isMounted:function(t){return(t=t._reactInternals)?Ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),s=li(t),i=os(r,s);i.payload=e,n!=null&&(i.callback=n),e=oi(t,i,s),e!==null&&(sr(e,t,s,r),Bd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),s=li(t),i=os(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=oi(t,i,s),e!==null&&(sr(e,t,s,r),Bd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=li(t),s=os(n,r);s.tag=2,e!=null&&(s.callback=e),e=oi(t,s,r),e!==null&&(sr(e,t,r,n),Bd(e,t,r))}};function Fx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(s,i):!0}function tT(t,e,n){var r=!1,s=vi,i=e.contextType;return typeof i=="object"&&i!==null?i=Fn(i):(s=mn(e)?ho:Yt.current,r=e.contextTypes,i=(r=r!=null)?Wa(t,s):vi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ux(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function wg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fn(i):(i=mn(e)?ho:Yt.current,s.context=Wa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&If.enqueueReplaceState(s,s.state,null),Ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e){try{var n="",r=e;do n+=SR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function um(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z2=typeof WeakMap=="function"?WeakMap:Map;function nT(t,e,n){n=os(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rh||(Rh=!0,Ng=r),xg(t,e)},n}function rT(t,e,n){n=os(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xg(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $x(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dj.bind(null,t,e,n),e.then(t,t))}function zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=os(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var X2=ws.ReactCurrentOwner,hn=!1;function tn(t,e,n,r){e.child=t===null?RS(e,null,n,r):qa(e,t.child,n,r)}function Wx(t,e,n,r,s){n=n.render;var i=e.ref;return ba(e,s),r=vv(t,e,n,r,i,s),n=wv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hs(t,e,s)):(tt&&n&&ov(e),e.flags|=1,tn(t,e,r,s),e.child)}function Hx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sT(t,e,i,r,s)):(t=Qd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return hs(t,e,s)}return e.flags|=1,t=ci(i,r),t.ref=e.ref,t.return=e,e.child=t}function sT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mc(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,hs(t,e,s)}return _g(t,e,n,r,s)}function iT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ga,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(ga,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ke(ga,wn),wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ke(ga,wn),wn|=r;return tn(t,e,s,n),e.child}function oT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _g(t,e,n,r,s){var i=mn(n)?ho:Yt.current;return i=Wa(e,i),ba(e,s),n=vv(t,e,n,r,i,s),r=wv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hs(t,e,s)):(tt&&r&&ov(e),e.flags|=1,tn(t,e,n,s),e.child)}function qx(t,e,n,r,s){if(mn(n)){var i=!0;Eh(e)}else i=!1;if(ba(e,s),e.stateNode===null)qd(t,e),tT(e,n,r),wg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=mn(n)?ho:Yt.current,c=Wa(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ux(e,o,r,c),Ds=!1;var p=e.memoizedState;o.state=p,Ah(e,r,o,s),l=e.memoizedState,a!==r||p!==l||pn.current||Ds?(typeof h=="function"&&(vg(e,n,h,r),l=e.memoizedState),(a=Ds||Fx(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=mn(n)?ho:Yt.current,l=Wa(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Ux(e,o,r,l),Ds=!1,p=e.memoizedState,o.state=p,Ah(e,r,o,s);var S=e.memoizedState;a!==f||p!==S||pn.current||Ds?(typeof g=="function"&&(vg(e,n,g,r),S=e.memoizedState),(c=Ds||Fx(e,n,c,r,p,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,i,s)}function Eg(t,e,n,r,s,i){oT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Px(e,n,!1),hs(t,e,i);r=e.stateNode,X2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qa(e,t.child,null,i),e.child=qa(e,null,a,i)):tn(t,e,a,i),e.memoizedState=r.state,s&&Px(e,n,!0),e.child}function aT(t){var e=t.stateNode;e.pendingContext?Nx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nx(t,e.context,!1),pv(t,e.containerInfo)}function Kx(t,e,n,r,s){return Ha(),lv(s),e.flags|=256,tn(t,e,n,r),e.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function Sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function lT(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(rt,s&1),t===null)return gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pf(o,r,0,null),t=lo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Sg(n),e.memoizedState=bg,t):Ev(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return J2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ci(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ci(a,i):(i=lo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Sg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bg,r}return i=t.child,t=i.sibling,r=ci(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ev(t,e){return e=Pf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&lv(r),qa(e,t.child,null,n),t=Ev(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=um(Error(W(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pf({mode:"visible",children:r.children},s,0,null),i=lo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qa(e,t.child,null,o),e.child.memoizedState=Sg(o),e.memoizedState=bg,i);if(!(e.mode&1))return yd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=um(i,r,void 0),yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ds(t,s),sr(r,t,s,-1))}return Iv(),r=um(Error(W(421))),yd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,En=ii(s.nextSibling),bn=e,tt=!0,er=null,t!==null&&(jn[On++]=ns,jn[On++]=rs,jn[On++]=fo,ns=t.id,rs=t.overflow,fo=e),e=Ev(e,r.children),e.flags|=4096,e)}function Gx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yg(t.return,e,n)}function dm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(tn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gx(t,n,e);else if(t.tag===19)Gx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ih(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ih(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dm(e,!0,n,null,i);break;case"together":dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ej(t,e,n){switch(e.tag){case 3:aT(e),Ha();break;case 5:DS(e);break;case 1:mn(e.type)&&Eh(e);break;case 4:pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ke(Th,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?lT(t,e,n):(Ke(rt,rt.current&1),t=hs(t,e,n),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,n)}return hs(t,e,n)}var uT,Tg,dT,hT;uT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tg=function(){};dT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ji(Rr.current);var i=null;switch(n){case"input":s=Km(t,s),r=Km(t,r),i=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),i=[];break;case"textarea":s=Ym(t,s),r=Ym(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xh)}Xm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tj(t,e,n){var r=e.pendingProps;switch(av(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return mn(e.type)&&_h(),Wt(e),null;case 3:return r=e.stateNode,Ka(),Je(pn),Je(Yt),gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(jg(er),er=null))),Tg(t,e),Wt(e),null;case 5:mv(e);var s=Ji(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)dT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Wt(e),null}if(t=Ji(Rr.current),md(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ir]=e,r[Uc]=i,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<sc.length;s++)Ze(sc[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":rx(r,i),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ze("invalid",r);break;case"textarea":ix(r,i),Ze("invalid",r)}Xm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",""+a]):Nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":od(r),sx(r,i,!0);break;case"textarea":od(r),ox(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ub(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Uc]=r,uT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jm(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),s=r;break;case"iframe":case"object":case"embed":Ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<sc.length;s++)Ze(sc[s],t);s=r;break;case"source":Ze("error",t),s=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),s=r;break;case"details":Ze("toggle",t),s=r;break;case"input":rx(t,r),s=Km(t,r),Ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":ix(t,r),s=Ym(t,r),Ze("invalid",t);break;default:s=r}Xm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Bb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$b(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pc(t,l):typeof l=="number"&&Pc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ze("scroll",t):l!=null&&qy(t,i,l,o))}switch(n){case"input":od(t),sx(t,r,!1);break;case"textarea":od(t),ox(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wa(t,!!r.multiple,i,!1):r.defaultValue!=null&&wa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)hT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ji(zc.current),Ji(Rr.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(i=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Wt(e),null;case 13:if(Je(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&En!==null&&e.mode&1&&!(e.flags&128))NS(),Ha(),e.flags|=98560,i=!1;else if(i=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Ir]=e}else Ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else er!==null&&(jg(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?St===0&&(St=3):Iv())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Ka(),Tg(t,e),t===null&&Vc(e.stateNode.containerInfo),Wt(e),null;case 10:return dv(e.type._context),Wt(e),null;case 17:return mn(e.type)&&_h(),Wt(e),null;case 19:if(Je(rt),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yl(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ih(t),o!==null){for(e.flags|=128,Yl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>Qa&&(e.flags|=128,r=!0,Yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ih(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Wt(e),null}else 2*ht()-i.renderingStartTime>Qa&&n!==1073741824&&(e.flags|=128,r=!0,Yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=rt.current,Ke(rt,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Av(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function nj(t,e){switch(av(e),e.tag){case 1:return mn(e.type)&&_h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),Je(pn),Je(Yt),gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mv(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return Ka(),null;case 10:return dv(e.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var vd=!1,Gt=!1,rj=typeof WeakSet=="function"?WeakSet:Set,X=null;function ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Cg(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Qx=!1;function sj(t,e){if(cg=yh,t=yS(),iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:t,selectionRange:n},yh=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,E=S.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Qn(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){ut(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return S=Qx,Qx=!1,S}function wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cg(e,n,i)}s=s.next}while(s!==r)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fT(t){var e=t.alternate;e!==null&&(t.alternate=null,fT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Uc],delete e[fg],delete e[U2],delete e[$2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pT(t){return t.tag===5||t.tag===3||t.tag===4}function Yx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xh));else if(r!==4&&(t=t.child,t!==null))for(Ig(t,e,n),t=t.sibling;t!==null;)Ig(t,e,n),t=t.sibling}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}var Dt=null,Jn=!1;function Is(t,e,n){for(n=n.child;n!==null;)mT(t,e,n),n=n.sibling}function mT(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(_f,n)}catch{}switch(n.tag){case 5:Gt||ma(n,e);case 6:var r=Dt,s=Jn;Dt=null,Is(t,e,n),Dt=r,Jn=s,Dt!==null&&(Jn?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Jn?(t=Dt,n=n.stateNode,t.nodeType===8?sm(t.parentNode,n):t.nodeType===1&&sm(t,n),Dc(t)):sm(Dt,n.stateNode));break;case 4:r=Dt,s=Jn,Dt=n.stateNode.containerInfo,Jn=!0,Is(t,e,n),Dt=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cg(n,e,o),s=s.next}while(s!==r)}Is(t,e,n);break;case 1:if(!Gt&&(ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}Is(t,e,n);break;case 21:Is(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,Is(t,e,n),Gt=r):Is(t,e,n);break;default:Is(t,e,n)}}function Zx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rj),e.forEach(function(r){var s=fj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Jn=!1;break e;case 3:Dt=a.stateNode.containerInfo,Jn=!0;break e;case 4:Dt=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Dt===null)throw Error(W(160));mT(i,o,s),Dt=null,Jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ut(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gT(e,t),e=e.sibling}function gT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),xr(t),r&4){try{wc(3,t,t.return),kf(3,t)}catch(v){ut(t,t.return,v)}try{wc(5,t,t.return)}catch(v){ut(t,t.return,v)}}break;case 1:Hn(e,t),xr(t),r&512&&n!==null&&ma(n,n.return);break;case 5:if(Hn(e,t),xr(t),r&512&&n!==null&&ma(n,n.return),t.flags&32){var s=t.stateNode;try{Pc(s,"")}catch(v){ut(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vb(s,i),Jm(a,o);var c=Jm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Bb(s,f):h==="dangerouslySetInnerHTML"?$b(s,f):h==="children"?Pc(s,f):qy(s,h,f,c)}switch(a){case"input":Gm(s,i);break;case"textarea":Fb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?wa(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?wa(s,!!i.multiple,i.defaultValue,!0):wa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uc]=i}catch(v){ut(t,t.return,v)}}break;case 6:if(Hn(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ut(t,t.return,v)}}break;case 3:if(Hn(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(v){ut(t,t.return,v)}break;case 4:Hn(e,t),xr(t);break;case 13:Hn(e,t),xr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tv=ht())),r&4&&Zx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(c=Gt)||h,Hn(e,t),Gt=c):Hn(e,t),xr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:wc(4,p,p.return);break;case 1:ma(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){ut(r,n,v)}}break;case 5:ma(p,p.return);break;case 22:if(p.memoizedState!==null){Jx(f);continue}}g!==null?(g.return=p,X=g):Jx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zb("display",o))}catch(v){ut(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ut(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),xr(t),r&4&&Zx(t);break;case 21:break;default:Hn(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pT(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pc(s,""),r.flags&=-33);var i=Yx(t);kg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yx(t);Ig(t,a,o);break;default:throw Error(W(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ij(t,e,n){X=t,yT(t)}function yT(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Gt;a=vd;var c=Gt;if(vd=o,(Gt=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?e_(s):l!==null?(l.return=o,X=l):e_(s);for(;i!==null;)X=i,yT(i),i=i.sibling;X=s,vd=a,Gt=c}Xx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Xx(t)}}function Xx(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Gt||e.flags&512&&Ag(e)}catch(p){ut(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Jx(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function e_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kf(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ut(e,s,l)}}var i=e.return;try{Ag(e)}catch(l){ut(e,i,l)}break;case 5:var o=e.return;try{Ag(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var oj=Math.ceil,Ph=ws.ReactCurrentDispatcher,bv=ws.ReactCurrentOwner,Vn=ws.ReactCurrentBatchConfig,De=0,Ot=null,gt=null,Vt=0,wn=0,ga=Ri(0),St=0,qc=null,mo=0,Nf=0,Sv=0,xc=null,dn=null,Tv=0,Qa=1/0,Jr=null,Rh=!1,Ng=null,ai=null,wd=!1,Xs=null,jh=0,_c=0,Pg=null,Kd=-1,Gd=0;function rn(){return De&6?ht():Kd!==-1?Kd:Kd=ht()}function li(t){return t.mode&1?De&2&&Vt!==0?Vt&-Vt:B2.transition!==null?(Gd===0&&(Gd=tS()),Gd):(t=$e,t!==0||(t=window.event,t=t===void 0?16:lS(t.type)),t):1}function sr(t,e,n,r){if(50<_c)throw _c=0,Pg=null,Error(W(185));bu(t,n,r),(!(De&2)||t!==Ot)&&(t===Ot&&(!(De&2)&&(Nf|=n),St===4&&Vs(t,Vt)),gn(t,r),n===1&&De===0&&!(e.mode&1)&&(Qa=ht()+500,Cf&&ji()))}function gn(t,e){var n=t.callbackNode;BR(t,e);var r=gh(t,t===Ot?Vt:0);if(r===0)n!==null&&cx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cx(n),e===1)t.tag===0?z2(t_.bind(null,t)):AS(t_.bind(null,t)),V2(function(){!(De&6)&&ji()}),n=null;else{switch(nS(r)){case 1:n=Zy;break;case 4:n=Jb;break;case 16:n=mh;break;case 536870912:n=eS;break;default:n=mh}n=TT(n,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vT(t,e){if(Kd=-1,Gd=0,De&6)throw Error(W(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=gh(t,t===Ot?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var s=De;De|=2;var i=xT();(Ot!==t||Vt!==e)&&(Jr=null,Qa=ht()+500,ao(t,e));do try{cj();break}catch(a){wT(t,a)}while(!0);uv(),Ph.current=i,De=s,gt!==null?e=0:(Ot=null,Vt=0,e=St)}if(e!==0){if(e===2&&(s=sg(t),s!==0&&(r=s,e=Rg(t,s))),e===1)throw n=qc,ao(t,0),Vs(t,r),gn(t,ht()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!aj(s)&&(e=Oh(t,r),e===2&&(i=sg(t),i!==0&&(r=i,e=Rg(t,i))),e===1))throw n=qc,ao(t,0),Vs(t,r),gn(t,ht()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Qi(t,dn,Jr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=Tv+500-ht(),10<e)){if(gh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hg(Qi.bind(null,t,dn,Jr),e);break}Qi(t,dn,Jr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-rr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oj(r/1960))-r,10<r){t.timeoutHandle=hg(Qi.bind(null,t,dn,Jr),r);break}Qi(t,dn,Jr);break;case 5:Qi(t,dn,Jr);break;default:throw Error(W(329))}}}return gn(t,ht()),t.callbackNode===n?vT.bind(null,t):null}function Rg(t,e){var n=xc;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=dn,dn=n,e!==null&&jg(e)),t}function jg(t){dn===null?dn=t:dn.push.apply(dn,t)}function aj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~Sv,e&=~Nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function t_(t){if(De&6)throw Error(W(327));Sa();var e=gh(t,0);if(!(e&1))return gn(t,ht()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=sg(t);r!==0&&(e=r,n=Rg(t,r))}if(n===1)throw n=qc,ao(t,0),Vs(t,e),gn(t,ht()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qi(t,dn,Jr),gn(t,ht()),null}function Cv(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Qa=ht()+500,Cf&&ji())}}function go(t){Xs!==null&&Xs.tag===0&&!(De&6)&&Sa();var e=De;De|=1;var n=Vn.transition,r=$e;try{if(Vn.transition=null,$e=1,t)return t()}finally{$e=r,Vn.transition=n,De=e,!(De&6)&&ji()}}function Av(){wn=ga.current,Je(ga)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M2(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_h();break;case 3:Ka(),Je(pn),Je(Yt),gv();break;case 5:mv(r);break;case 4:Ka();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:dv(r.type._context);break;case 22:case 23:Av()}n=n.return}if(Ot=t,gt=t=ci(t.current,null),Vt=wn=e,St=0,qc=null,Sv=Nf=mo=0,dn=xc=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Xi=null}return t}function wT(t,e){do{var n=gt;try{if(uv(),Wd.current=Nh,kh){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kh=!1}if(po=0,Rt=Et=it=null,vc=!1,Bc=0,bv.current=null,n===null||n.return===null){St=1,qc=e,gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=zx(o);if(g!==null){g.flags&=-257,Bx(g,o,a,i,e),g.mode&1&&$x(i,c,e),e=g,l=c;var S=e.updateQueue;if(S===null){var v=new Set;v.add(l),e.updateQueue=v}else S.add(l);break e}else{if(!(e&1)){$x(i,c,e),Iv();break e}l=Error(W(426))}}else if(tt&&a.mode&1){var E=zx(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Bx(E,o,a,i,e),lv(Ga(l,a));break e}}i=l=Ga(l,a),St!==4&&(St=2),xc===null?xc=[i]:xc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=nT(i,l,e);Dx(i,_);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ai===null||!ai.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=rT(i,a,e);Dx(i,I);break e}}i=i.return}while(i!==null)}ET(n)}catch(P){e=P,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function xT(){var t=Ph.current;return Ph.current=Nh,t===null?Nh:t}function Iv(){(St===0||St===3||St===2)&&(St=4),Ot===null||!(mo&268435455)&&!(Nf&268435455)||Vs(Ot,Vt)}function Oh(t,e){var n=De;De|=2;var r=xT();(Ot!==t||Vt!==e)&&(Jr=null,ao(t,e));do try{lj();break}catch(s){wT(t,s)}while(!0);if(uv(),De=n,Ph.current=r,gt!==null)throw Error(W(261));return Ot=null,Vt=0,St}function lj(){for(;gt!==null;)_T(gt)}function cj(){for(;gt!==null&&!OR();)_T(gt)}function _T(t){var e=ST(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?ET(t):gt=e,bv.current=null}function ET(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nj(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,gt=null;return}}else if(n=tj(n,e,wn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);St===0&&(St=5)}function Qi(t,e,n){var r=$e,s=Vn.transition;try{Vn.transition=null,$e=1,uj(t,e,n,r)}finally{Vn.transition=s,$e=r}return null}function uj(t,e,n,r){do Sa();while(Xs!==null);if(De&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WR(t,i),t===Ot&&(gt=Ot=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,TT(mh,function(){return Sa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=$e;$e=1;var a=De;De|=4,bv.current=null,sj(t,n),gT(n,t),N2(ug),yh=!!cg,ug=cg=null,t.current=n,ij(n),DR(),De=a,$e=o,Vn.transition=i}else t.current=n;if(wd&&(wd=!1,Xs=t,jh=s),i=t.pendingLanes,i===0&&(ai=null),VR(n.stateNode),gn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rh)throw Rh=!1,t=Ng,Ng=null,t;return jh&1&&t.tag!==0&&Sa(),i=t.pendingLanes,i&1?t===Pg?_c++:(_c=0,Pg=t):_c=0,ji(),null}function Sa(){if(Xs!==null){var t=nS(jh),e=Vn.transition,n=$e;try{if(Vn.transition=null,$e=16>t?16:t,Xs===null)var r=!1;else{if(t=Xs,Xs=null,jh=0,De&6)throw Error(W(331));var s=De;for(De|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:wc(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var p=h.sibling,g=h.return;if(fT(h),h===c){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,X=_;break e}X=i.return}}var w=t.current;for(X=w;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=w;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kf(9,a)}}catch(P){ut(a,a.return,P)}if(a===o){X=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,X=I;break e}X=a.return}}if(De=s,ji(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(_f,t)}catch{}r=!0}return r}finally{$e=n,Vn.transition=e}}return!1}function n_(t,e,n){e=Ga(n,e),e=nT(t,e,1),t=oi(t,e,1),e=rn(),t!==null&&(bu(t,1,e),gn(t,e))}function ut(t,e,n){if(t.tag===3)n_(t,t,n);else for(;e!==null;){if(e.tag===3){n_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=Ga(n,t),t=rT(e,t,1),e=oi(e,t,1),t=rn(),e!==null&&(bu(e,1,t),gn(e,t));break}}e=e.return}}function dj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Vt&n)===n&&(St===4||St===3&&(Vt&130023424)===Vt&&500>ht()-Tv?ao(t,0):Sv|=n),gn(t,e)}function bT(t,e){e===0&&(t.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var n=rn();t=ds(t,e),t!==null&&(bu(t,e,n),gn(t,n))}function hj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bT(t,n)}function fj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),bT(t,n)}var ST;ST=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,ej(t,e,n);hn=!!(t.flags&131072)}else hn=!1,tt&&e.flags&1048576&&IS(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qd(t,e),t=e.pendingProps;var s=Wa(e,Yt.current);ba(e,n),s=vv(null,e,r,t,s,n);var i=wv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,Eh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fv(e),s.updater=If,e.stateNode=s,s._reactInternals=e,wg(e,r,t,n),e=Eg(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&ov(e),tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mj(r),t=Qn(r,t),s){case 0:e=_g(null,e,r,t,n);break e;case 1:e=qx(null,e,r,t,n);break e;case 11:e=Wx(null,e,r,t,n);break e;case 14:e=Hx(null,e,r,Qn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),_g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),qx(t,e,r,s,n);case 3:e:{if(aT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OS(t,e),Ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ga(Error(W(423)),e),e=Kx(t,e,r,n,s);break e}else if(r!==s){s=Ga(Error(W(424)),e),e=Kx(t,e,r,n,s);break e}else for(En=ii(e.stateNode.containerInfo.firstChild),bn=e,tt=!0,er=null,n=RS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ha(),r===s){e=hs(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return DS(e),t===null&&gg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dg(r,s)?o=null:i!==null&&dg(r,i)&&(e.flags|=32),oT(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&gg(e),null;case 13:return lT(t,e,n);case 4:return pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qa(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Wx(t,e,r,s,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ke(Th,r._currentValue),r._currentValue=o,i!==null)if(or(i.value,o)){if(i.children===s.children&&!pn.current){e=hs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=os(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ba(e,n),s=Fn(s),r=r(s),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,s=Qn(r,e.pendingProps),s=Qn(r.type,s),Hx(t,e,r,s,n);case 15:return sT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),qd(t,e),e.tag=1,mn(r)?(t=!0,Eh(e)):t=!1,ba(e,n),tT(e,r,s),wg(e,r,s,n),Eg(null,e,r,!0,t,n);case 19:return cT(t,e,n);case 22:return iT(t,e,n)}throw Error(W(156,e.tag))};function TT(t,e){return Xb(t,e)}function pj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new pj(t,e,n,r)}function kv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mj(t){if(typeof t=="function")return kv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gy)return 11;if(t===Qy)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")kv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oa:return lo(n.children,s,i,e);case Ky:o=8,s|=8;break;case Bm:return t=Mn(12,n,e,s|2),t.elementType=Bm,t.lanes=i,t;case Wm:return t=Mn(13,n,e,s),t.elementType=Wm,t.lanes=i,t;case Hm:return t=Mn(19,n,e,s),t.elementType=Hm,t.lanes=i,t;case Db:return Pf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jb:o=10;break e;case Ob:o=9;break e;case Gy:o=11;break e;case Qy:o=14;break e;case Os:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function lo(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Pf(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=Db,t.lanes=n,t.stateNode={isHidden:!1},t}function hm(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function fm(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nv(t,e,n,r,s,i,o,a,l){return t=new gj(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(i),t}function yj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CT(t){if(!t)return vi;t=t._reactInternals;e:{if(Ro(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(mn(n))return CS(t,n,e)}return e}function AT(t,e,n,r,s,i,o,a,l){return t=Nv(n,r,!0,t,s,i,o,a,l),t.context=CT(null),n=t.current,r=rn(),s=li(n),i=os(r,s),i.callback=e??null,oi(n,i,s),t.current.lanes=s,bu(t,s,r),gn(t,r),t}function Rf(t,e,n,r){var s=e.current,i=rn(),o=li(s);return n=CT(n),e.context===null?e.context=n:e.pendingContext=n,e=os(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(s,e,o),t!==null&&(sr(t,s,o,i),Bd(t,s,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pv(t,e){r_(t,e),(t=t.alternate)&&r_(t,e)}function vj(){return null}var IT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rv(t){this._internalRoot=t}jf.prototype.render=Rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Rf(t,e,null,null)};jf.prototype.unmount=Rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){Rf(null,t,null,null)}),e[us]=null}};function jf(t){this._internalRoot=t}jf.prototype.unstable_scheduleHydration=function(t){if(t){var e=iS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ms.length&&e!==0&&e<Ms[n].priority;n++);Ms.splice(n,0,t),n===0&&aS(t)}};function jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s_(){}function wj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Dh(o);i.call(c)}}var o=AT(e,r,t,0,null,!1,!1,"",s_);return t._reactRootContainer=o,t[us]=o.current,Vc(t.nodeType===8?t.parentNode:t),go(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Dh(l);a.call(c)}}var l=Nv(t,0,!1,null,null,!1,!1,"",s_);return t._reactRootContainer=l,t[us]=l.current,Vc(t.nodeType===8?t.parentNode:t),go(function(){Rf(e,l,n,r)}),l}function Df(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Dh(o);a.call(l)}}Rf(e,o,t,s)}else o=wj(n,e,t,s,r);return Dh(o)}rS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(Xy(e,n|1),gn(e,ht()),!(De&6)&&(Qa=ht()+500,ji()))}break;case 13:go(function(){var r=ds(t,1);if(r!==null){var s=rn();sr(r,t,1,s)}}),Pv(t,1)}};Jy=function(t){if(t.tag===13){var e=ds(t,134217728);if(e!==null){var n=rn();sr(e,t,134217728,n)}Pv(t,134217728)}};sS=function(t){if(t.tag===13){var e=li(t),n=ds(t,e);if(n!==null){var r=rn();sr(n,t,e,r)}Pv(t,e)}};iS=function(){return $e};oS=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};tg=function(t,e,n){switch(e){case"input":if(Gm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tf(r);if(!s)throw Error(W(90));Mb(r),Gm(r,s)}}}break;case"textarea":Fb(t,n);break;case"select":e=n.value,e!=null&&wa(t,!!n.multiple,e,!1)}};qb=Cv;Kb=go;var xj={usingClientEntryPoint:!1,Events:[Tu,ua,Tf,Wb,Hb,Cv]},Zl={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_j={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yb(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||vj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{_f=xd.inject(_j),Pr=xd}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xj;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(e))throw Error(W(200));return yj(t,e,null,n)};An.createRoot=function(t,e){if(!jv(t))throw Error(W(299));var n=!1,r="",s=IT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nv(t,1,!1,null,null,n,!1,r,s),t[us]=e.current,Vc(t.nodeType===8?t.parentNode:t),new Rv(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Yb(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return go(t)};An.hydrate=function(t,e,n){if(!Of(e))throw Error(W(200));return Df(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!jv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=IT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AT(e,null,t,1,n??null,s,!1,i,o),t[us]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jf(e)};An.render=function(t,e,n){if(!Of(e))throw Error(W(200));return Df(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!Of(t))throw Error(W(40));return t._reactRootContainer?(go(function(){Df(null,null,t,!1,function(){t._reactRootContainer=null,t[us]=null})}),!0):!1};An.unstable_batchedUpdates=Cv;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Of(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Df(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function kT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kT)}catch(t){console.error(t)}}kT(),kb.exports=An;var jo=kb.exports;const NT=yb(jo);var PT,i_=jo;PT=i_.createRoot,i_.hydrateRoot;const Ej=1,bj=1e6;let pm=0;function Sj(){return pm=(pm+1)%Number.MAX_SAFE_INTEGER,pm.toString()}const mm=new Map,o_=t=>{if(mm.has(t))return;const e=setTimeout(()=>{mm.delete(t),Ec({type:"REMOVE_TOAST",toastId:t})},bj);mm.set(t,e)},Tj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ej)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?o_(n):t.toasts.forEach(r=>{o_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yd=[];let Zd={toasts:[]};function Ec(t){Zd=Tj(Zd,t),Yd.forEach(e=>{e(Zd)})}function Cj({...t}){const e=Sj(),n=s=>Ec({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ec({type:"DISMISS_TOAST",toastId:e});return Ec({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Aj(){const[t,e]=y.useState(Zd);return y.useEffect(()=>(Yd.push(e),()=>{const n=Yd.indexOf(e);n>-1&&Yd.splice(n,1)}),[t]),{...t,toast:Cj,dismiss:n=>Ec({type:"DISMISS_TOAST",toastId:n})}}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function a_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=a_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():a_(t[s],null)}}}}function ze(...t){return y.useCallback(gl(...t),t)}function Ij(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Oi(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=f=>{var _;const{scope:p,children:g,...S}=f,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=y.useMemo(()=>S,Object.values(S));return d.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function h(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,S=y.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kj(s,...e)]}function kj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function l_(t){const e=Nj(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(Rj);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Nj(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Oj(s),a=jj(i,s.props);return s.type!==y.Fragment&&(a.ref=r?gl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pj=Symbol("radix.slottable");function Rj(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pj}function jj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Oj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function RT(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:_}=v,w=q.useRef(null),b=q.useRef(new Map).current;return d.jsx(s,{scope:E,itemMap:b,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=l_(a),c=q.forwardRef((v,E)=>{const{scope:_,children:w}=v,b=i(a,_),I=ze(E,b.collectionRef);return d.jsx(l,{ref:I,children:w})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=l_(h),g=q.forwardRef((v,E)=>{const{scope:_,children:w,...b}=v,I=q.useRef(null),P=ze(E,I),D=i(h,_);return q.useEffect(()=>(D.itemMap.set(I,{ref:I,...b}),()=>void D.itemMap.delete(I))),d.jsx(p,{[f]:"",ref:P,children:w})});g.displayName=h;function S(v){const E=i(t+"CollectionConsumer",v);return q.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((D,T)=>b.indexOf(D.ref.current)-b.indexOf(T.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},S,r]}function Dj(t){const e=Lj(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(Vj);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Lj(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Uj(s),a=Fj(i,s.props);return s.type!==y.Fragment&&(a.ref=r?gl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mj=Symbol("radix.slottable");function Vj(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mj}function Fj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Uj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=$j.reduce((t,e)=>{const n=Dj(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function jT(t,e){t&&jo.flushSync(()=>t.dispatchEvent(e))}function ar(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function zj(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Bj="DismissableLayer",Og="dismissableLayer.update",Wj="dismissableLayer.pointerDownOutside",Hj="dismissableLayer.focusOutside",c_,OT=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Au=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(OT),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),S=ze(e,T=>f(T)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),w=h?v.indexOf(h):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=w>=_,P=Kj(T=>{const C=T.target,A=[...c.branches].some(N=>N.contains(C));!I||A||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),D=Gj(T=>{const C=T.target;[...c.branches].some(N=>N.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return zj(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(c_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),u_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=c_)}},[h,p,n,c]),y.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),u_())},[h,c]),y.useEffect(()=>{const T=()=>g({});return document.addEventListener(Og,T),()=>document.removeEventListener(Og,T)},[]),d.jsx(Se.div,{...l,ref:S,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,P.onPointerDownCapture)})});Au.displayName=Bj;var qj="DismissableLayerBranch",DT=y.forwardRef((t,e)=>{const n=y.useContext(OT),r=y.useRef(null),s=ze(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Se.div,{...t,ref:s})});DT.displayName=qj;function Kj(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){LT(Wj,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Gj(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&LT(Hj,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u_(){const t=new CustomEvent(Og);document.dispatchEvent(t)}function LT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?jT(s,i):s.dispatchEvent(i)}var Qj=Au,Yj=DT,Ut=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Zj="Portal",Lf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Ut(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?NT.createPortal(d.jsx(Se.div,{...r,ref:e}),o):null});Lf.displayName=Zj;function Xj(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Oo=t=>{const{present:e,children:n}=t,r=Jj(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=ze(r.ref,eO(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Oo.displayName="Presence";function Jj(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Xj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=_d(r.current);i.current=a==="mounted"?c:"none"},[a]),Ut(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=_d(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ut(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=g=>{const v=_d(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=_d(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function _d(t){return(t==null?void 0:t.animationName)||"none"}function eO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tO=xf[" useInsertionEffect ".trim().toString()]||Ut;function Ya({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=nO({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=y.useCallback(h=>{var f;if(a){const p=rO(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function nO({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return tO(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function rO(t){return typeof t=="function"}var MT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sO="VisuallyHidden",Mf=y.forwardRef((t,e)=>d.jsx(Se.span,{...t,ref:e,style:{...MT,...t.style}}));Mf.displayName=sO;var iO=Mf,Ov="ToastProvider",[Dv,oO,aO]=RT("Toast"),[VT]=Oi("Toast",[aO]),[lO,Vf]=VT(Ov),FT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,h]=y.useState(0),f=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ov}\`. Expected non-empty \`string\`.`),d.jsx(Dv.Provider,{scope:e,children:d.jsx(lO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>h(g=>g+1),[]),onToastRemove:y.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};FT.displayName=Ov;var UT="ToastViewport",cO=["F8"],Dg="toast.viewportPause",Lg="toast.viewportResume",$T=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cO,label:s="Notifications ({hotkey})",...i}=t,o=Vf(UT,n),a=oO(n),l=y.useRef(null),c=y.useRef(null),h=y.useRef(null),f=y.useRef(null),p=ze(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;y.useEffect(()=>{const E=_=>{var b;r.length!==0&&r.every(I=>_[I]||_.code===I)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),y.useEffect(()=>{const E=l.current,_=f.current;if(S&&E&&_){const w=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Dg);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Lg);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},I=D=>{!E.contains(D.relatedTarget)&&b()},P=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",w),E.addEventListener("focusout",I),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",P),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",I),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",P),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[S,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:E})=>{const w=a().map(b=>{const I=b.ref.current,P=[I,...EO(I)];return E==="forwards"?P:P.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return y.useEffect(()=>{const E=f.current;if(E){const _=w=>{var P,D,T;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const C=document.activeElement,A=w.shiftKey;if(w.target===E&&A){(P=c.current)==null||P.focus();return}const O=v({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(z=>z===C);gm(O.slice(R+1))?w.preventDefault():A?(D=c.current)==null||D.focus():(T=h.current)==null||T.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),d.jsxs(Yj,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&d.jsx(Mg,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});gm(E)}}),d.jsx(Dv.Slot,{scope:n,children:d.jsx(Se.ol,{tabIndex:-1,...i,ref:p})}),S&&d.jsx(Mg,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});gm(E)}})]})});$T.displayName=UT;var zT="ToastFocusProxy",Mg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Vf(zT,n);return d.jsx(Mf,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Mg.displayName=zT;var Iu="Toast",uO="toast.swipeStart",dO="toast.swipeMove",hO="toast.swipeCancel",fO="toast.swipeEnd",BT=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ya({prop:r,defaultProp:s??!0,onChange:i,caller:Iu});return d.jsx(Oo,{present:n||a,children:d.jsx(gO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ar(t.onPause),onResume:ar(t.onResume),onSwipeStart:ye(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ye(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});BT.displayName=Iu;var[pO,mO]=VT(Iu,{onClose(){}}),gO=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...S}=t,v=Vf(Iu,n),[E,_]=y.useState(null),w=ze(e,z=>_(z)),b=y.useRef(null),I=y.useRef(null),P=s||v.duration,D=y.useRef(0),T=y.useRef(P),C=y.useRef(0),{onToastAdd:A,onToastRemove:N}=v,j=ar(()=>{var ne;(E==null?void 0:E.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),o()}),O=y.useCallback(z=>{!z||z===1/0||(window.clearTimeout(C.current),D.current=new Date().getTime(),C.current=window.setTimeout(j,z))},[j]);y.useEffect(()=>{const z=v.viewport;if(z){const ne=()=>{O(T.current),c==null||c()},J=()=>{const oe=new Date().getTime()-D.current;T.current=T.current-oe,window.clearTimeout(C.current),l==null||l()};return z.addEventListener(Dg,J),z.addEventListener(Lg,ne),()=>{z.removeEventListener(Dg,J),z.removeEventListener(Lg,ne)}}},[v.viewport,P,l,c,O]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(P)},[i,P,v.isClosePausedRef,O]),y.useEffect(()=>(A(),()=>N()),[A,N]);const R=y.useMemo(()=>E?YT(E):null,[E]);return v.viewport?d.jsxs(d.Fragment,{children:[R&&d.jsx(yO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),d.jsx(pO,{scope:n,onClose:j,children:jo.createPortal(d.jsx(Dv.ItemSlot,{scope:n,children:d.jsx(Qj,{asChild:!0,onEscapeKeyDown:ye(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||j(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Se.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:ye(t.onPointerDown,z=>{z.button===0&&(b.current={x:z.clientX,y:z.clientY})}),onPointerMove:ye(t.onPointerMove,z=>{if(!b.current)return;const ne=z.clientX-b.current.x,J=z.clientY-b.current.y,oe=!!I.current,V=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Q=V?U(0,ne):0,ce=V?0:U(0,J),re=z.pointerType==="touch"?10:2,ge={x:Q,y:ce},fe={originalEvent:z,delta:ge};oe?(I.current=ge,Ed(dO,f,fe,{discrete:!1})):d_(ge,v.swipeDirection,re)?(I.current=ge,Ed(uO,h,fe,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ne)>re||Math.abs(J)>re)&&(b.current=null)}),onPointerUp:ye(t.onPointerUp,z=>{const ne=I.current,J=z.target;if(J.hasPointerCapture(z.pointerId)&&J.releasePointerCapture(z.pointerId),I.current=null,b.current=null,ne){const oe=z.currentTarget,V={originalEvent:z,delta:ne};d_(ne,v.swipeDirection,v.swipeThreshold)?Ed(fO,g,V,{discrete:!0}):Ed(hO,p,V,{discrete:!0}),oe.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),yO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Vf(Iu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return xO(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Lf,{asChild:!0,children:d.jsx(Mf,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},vO="ToastTitle",WT=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Se.div,{...r,ref:e})});WT.displayName=vO;var wO="ToastDescription",HT=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Se.div,{...r,ref:e})});HT.displayName=wO;var qT="ToastAction",KT=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(QT,{altText:n,asChild:!0,children:d.jsx(Lv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qT}\`. Expected non-empty \`string\`.`),null)});KT.displayName=qT;var GT="ToastClose",Lv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=mO(GT,n);return d.jsx(QT,{asChild:!0,children:d.jsx(Se.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,s.onClose)})})});Lv.displayName=GT;var QT=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function YT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_O(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...YT(r))}}),e}function Ed(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?jT(s,i):s.dispatchEvent(i)}var d_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function xO(t=()=>{}){const e=ar(t);Ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _O(t){return t.nodeType===t.ELEMENT_NODE}function EO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var bO=FT,ZT=$T,XT=BT,JT=WT,eC=HT,tC=KT,nC=Lv;function rC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rC(t))&&(r&&(r+=" "),r+=e);return r}const h_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,f_=sC,Ff=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return f_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=h_(h)||h_(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...c,f,p]:c},[]);return f_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...TO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iC("lucide",s),...a},[...o.map(([c,h])=>y.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(CO,{ref:i,iconNode:e,className:iC(`lucide-${SO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=ae("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=ae("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=ae("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=ae("CloudFog",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ae("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ae("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ae("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ae("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=ae("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=ae("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ae("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=ae("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ae("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ae("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=ae("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=ae("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uv="-",ZO=t=>{const e=JO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Uv);return a[0]===""&&a.length!==1&&a.shift(),pC(a,e)||XO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},pC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?pC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Uv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},v_=/^\[(.+)\]$/,XO=t=>{if(v_.test(t)){const e=v_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},JO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return tD(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ug(o,r,i,e)}),r},Ug=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:w_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(eD(s)){Ug(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ug(o,w_(e,i),n,r)})})},w_=(t,e)=>{let n=t;return e.split(Uv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eD=t=>t.isThemeGetter,tD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,nD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},mC="!",rD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){f=E;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(h),g=p.startsWith(mC),S=g?p.substring(1):p,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},sD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},iD=t=>({cache:nD(t.cacheSize),parseClassName:rD(t),...ZO(t)}),oD=/\s+/,aD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(oD);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let S=!!g,v=r(S?p.substring(0,g):p);if(!v){if(!S){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}S=!1}const E=sD(h).join(":"),_=f?E+mC:E,w=_+v;if(i.includes(w))continue;i.push(w);const b=s(v,S);for(let I=0;I<b.length;++I){const P=b[I];i.push(_+P)}a=c+(a.length>0?" "+a:a)}return a};function lD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gC(e))&&(r&&(r+=" "),r+=n);return r}const gC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gC(t[r]))&&(n&&(n+=" "),n+=e);return n};function cD(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=iD(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=aD(l,n);return s(l,h),h}return function(){return i(lD.apply(null,arguments))}}const Ye=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yC=/^\[(?:([a-z-]+):)?(.+)\]$/i,uD=/^\d+\/\d+$/,dD=new Set(["px","full","screen"]),hD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=t=>Ta(t)||dD.has(t)||uD.test(t),ks=t=>vl(t,"length",SD),Ta=t=>!!t&&!Number.isNaN(Number(t)),ym=t=>vl(t,"number",Ta),Xl=t=>!!t&&Number.isInteger(Number(t)),yD=t=>t.endsWith("%")&&Ta(t.slice(0,-1)),_e=t=>yC.test(t),Ns=t=>hD.test(t),vD=new Set(["length","size","percentage"]),wD=t=>vl(t,vD,vC),xD=t=>vl(t,"position",vC),_D=new Set(["image","url"]),ED=t=>vl(t,_D,CD),bD=t=>vl(t,"",TD),Jl=()=>!0,vl=(t,e,n)=>{const r=yC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},SD=t=>fD.test(t)&&!pD.test(t),vC=()=>!1,TD=t=>mD.test(t),CD=t=>gD.test(t),AD=()=>{const t=Ye("colors"),e=Ye("spacing"),n=Ye("blur"),r=Ye("brightness"),s=Ye("borderColor"),i=Ye("borderRadius"),o=Ye("borderSpacing"),a=Ye("borderWidth"),l=Ye("contrast"),c=Ye("grayscale"),h=Ye("hueRotate"),f=Ye("invert"),p=Ye("gap"),g=Ye("gradientColorStops"),S=Ye("gradientColorStopPositions"),v=Ye("inset"),E=Ye("margin"),_=Ye("opacity"),w=Ye("padding"),b=Ye("saturate"),I=Ye("scale"),P=Ye("sepia"),D=Ye("skew"),T=Ye("space"),C=Ye("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",_e,e],O=()=>[_e,e],R=()=>["",Yr,ks],z=()=>["auto",Ta,_e],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",_e],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Ta,_e];return{cacheSize:500,separator:":",theme:{colors:[Jl],spacing:[Yr,ks],blur:["none","",Ns,_e],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Ns,_e],borderSpacing:O(),borderWidth:R(),contrast:ce(),grayscale:U(),hueRotate:ce(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[yD,ks],inset:j(),margin:j(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:U(),skew:ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),_e]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xl,_e]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Xl,_e]}],"grid-cols":[{"grid-cols":[Jl]}],"col-start-end":[{col:["auto",{span:["full",Xl,_e]},_e]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Jl]}],"row-start-end":[{row:["auto",{span:[Xl,_e]},_e]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ym]}],"font-family":[{font:[Jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Ta,ym]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,ks]}],"underline-offset":[{"underline-offset":["auto",Yr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),xD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ED]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Yr,_e]}],"outline-w":[{outline:[Yr,ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yr,ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,bD]}],"shadow-color":[{shadow:[Jl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ns,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Xl,_e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,ks,ym]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ID=cD(AD);function ie(...t){return ID(sC(t))}const kD=bO,wC=y.forwardRef(({className:t,...e},n)=>d.jsx(ZT,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));wC.displayName=ZT.displayName;const ND=Ff("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xC=y.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(XT,{ref:r,className:ie(ND({variant:e}),t),...n}));xC.displayName=XT.displayName;const PD=y.forwardRef(({className:t,...e},n)=>d.jsx(tC,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));PD.displayName=tC.displayName;const _C=y.forwardRef(({className:t,...e},n)=>d.jsx(nC,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Wf,{className:"h-4 w-4"})}));_C.displayName=nC.displayName;const EC=y.forwardRef(({className:t,...e},n)=>d.jsx(JT,{ref:n,className:ie("text-sm font-semibold",t),...e}));EC.displayName=JT.displayName;const bC=y.forwardRef(({className:t,...e},n)=>d.jsx(eC,{ref:n,className:ie("text-sm opacity-90",t),...e}));bC.displayName=eC.displayName;function RD(){const{toasts:t}=Aj();return d.jsxs(kD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(xC,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(EC,{children:n}),r&&d.jsx(bC,{children:r})]}),s,d.jsx(_C,{})]},e)}),d.jsx(wC,{})]})}var x_=["light","dark"],jD="(prefers-color-scheme: dark)",OD=y.createContext(void 0),DD={setTheme:t=>{},themes:[]},LD=()=>{var t;return(t=y.useContext(OD))!=null?t:DD};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?x_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,v=!1,E=!0)=>{let _=o?o[S]:S,w=v?S+"|| ''":`'${_}'`,b="";return s&&E&&!v&&x_.includes(S)&&(b+=`d.style.colorScheme = '${S}';`),n==="class"?v||_?b+=`c.add(${w})`:b+="null":_&&(b+=`d[s](n,${w})`),b},g=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${jD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var MD=t=>{switch(t){case"success":return UD;case"info":return zD;case"warning":return $D;case"error":return BD;default:return null}},VD=Array(12).fill(0),FD=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},VD.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),UD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$D=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HD=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},$g=1,qD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:$g++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],q.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(GD(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:h})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||$g++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cn=new qD,KD=(t,e)=>{let n=(e==null?void 0:e.id)||$g++;return cn.addToast({title:t,...e,id:n}),n},GD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",QD=KD,YD=()=>cn.toasts,ZD=()=>cn.getActiveToasts(),Ar=Object.assign(QD,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:YD,getToasts:ZD});function XD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}XD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bd(t){return t.label!==void 0}var JD=3,e4="32px",t4="16px",__=4e3,n4=356,r4=14,s4=20,i4=200;function qn(...t){return t.filter(Boolean).join(" ")}function o4(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var a4=t=>{var e,n,r,s,i,o,a,l,c,h,f;let{invert:p,toast:g,unstyled:S,interacting:v,setHeights:E,visibleToasts:_,heights:w,index:b,toasts:I,expanded:P,removeToast:D,defaultRichColors:T,closeButton:C,style:A,cancelButtonStyle:N,actionButtonStyle:j,className:O="",descriptionClassName:R="",duration:z,position:ne,gap:J,loadingIcon:oe,expandByDefault:V,classNames:U,icons:Q,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:re}=t,[ge,fe]=q.useState(null),[Ue,He]=q.useState(null),[G,je]=q.useState(!1),[Ge,Oe]=q.useState(!1),[Ce,Ne]=q.useState(!1),[pt,Jt]=q.useState(!1),[Kr,kn]=q.useState(!1),[zn,xs]=q.useState(0),[nt,Ct]=q.useState(0),pr=q.useRef(g.duration||z||__),Wu=q.useRef(null),mr=q.useRef(null),Tp=b===0,zi=b+1<=_,en=g.type,Gr=g.dismissible!==!1,Nl=g.className||"",Cp=g.descriptionClassName||"",Bo=q.useMemo(()=>w.findIndex(ue=>ue.toastId===g.id)||0,[w,g.id]),Hu=q.useMemo(()=>{var ue;return(ue=g.closeButton)!=null?ue:C},[g.closeButton,C]),Pl=q.useMemo(()=>g.duration||z||__,[g.duration,z]),Qr=q.useRef(0),gr=q.useRef(0),Wo=q.useRef(0),an=q.useRef(null),[qu,Ho]=ne.split("-"),Rl=q.useMemo(()=>w.reduce((ue,Ve,qe)=>qe>=Bo?ue:ue+Ve.height,0),[w,Bo]),_s=HD(),Ku=g.invert||p,wt=en==="loading";gr.current=q.useMemo(()=>Bo*J+Rl,[Bo,Rl]),q.useEffect(()=>{pr.current=Pl},[Pl]),q.useEffect(()=>{je(!0)},[]),q.useEffect(()=>{let ue=mr.current;if(ue){let Ve=ue.getBoundingClientRect().height;return Ct(Ve),E(qe=>[{toastId:g.id,height:Ve,position:g.position},...qe]),()=>E(qe=>qe.filter(At=>At.toastId!==g.id))}},[E,g.id]),q.useLayoutEffect(()=>{if(!G)return;let ue=mr.current,Ve=ue.style.height;ue.style.height="auto";let qe=ue.getBoundingClientRect().height;ue.style.height=Ve,Ct(qe),E(At=>At.find(yn=>yn.toastId===g.id)?At.map(yn=>yn.toastId===g.id?{...yn,height:qe}:yn):[{toastId:g.id,height:qe,position:g.position},...At])},[G,g.title,g.description,E,g.id]);let Bn=q.useCallback(()=>{Oe(!0),xs(gr.current),E(ue=>ue.filter(Ve=>Ve.toastId!==g.id)),setTimeout(()=>{D(g)},i4)},[g,D,E,gr]);q.useEffect(()=>{if(g.promise&&en==="loading"||g.duration===1/0||g.type==="loading")return;let ue;return P||v||re&&_s?(()=>{if(Wo.current<Qr.current){let Ve=new Date().getTime()-Qr.current;pr.current=pr.current-Ve}Wo.current=new Date().getTime()})():pr.current!==1/0&&(Qr.current=new Date().getTime(),ue=setTimeout(()=>{var Ve;(Ve=g.onAutoClose)==null||Ve.call(g,g),Bn()},pr.current)),()=>clearTimeout(ue)},[P,v,g,en,re,_s,Bn]),q.useEffect(()=>{g.delete&&Bn()},[Bn,g.delete]);function Bi(){var ue,Ve,qe;return Q!=null&&Q.loading?q.createElement("div",{className:qn(U==null?void 0:U.loader,(ue=g==null?void 0:g.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":en==="loading"},Q.loading):oe?q.createElement("div",{className:qn(U==null?void 0:U.loader,(Ve=g==null?void 0:g.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":en==="loading"},oe):q.createElement(FD,{className:qn(U==null?void 0:U.loader,(qe=g==null?void 0:g.classNames)==null?void 0:qe.loader),visible:en==="loading"})}return q.createElement("li",{tabIndex:0,ref:mr,className:qn(O,Nl,U==null?void 0:U.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[en],(n=g==null?void 0:g.classNames)==null?void 0:n[en]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:T,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":G,"data-promise":!!g.promise,"data-swiped":Kr,"data-removed":Ge,"data-visible":zi,"data-y-position":qu,"data-x-position":Ho,"data-index":b,"data-front":Tp,"data-swiping":Ce,"data-dismissible":Gr,"data-type":en,"data-invert":Ku,"data-swipe-out":pt,"data-swipe-direction":Ue,"data-expanded":!!(P||V&&G),style:{"--index":b,"--toasts-before":b,"--z-index":I.length-b,"--offset":`${Ge?zn:gr.current}px`,"--initial-height":V?"auto":`${nt}px`,...A,...g.style},onDragEnd:()=>{Ne(!1),fe(null),an.current=null},onPointerDown:ue=>{wt||!Gr||(Wu.current=new Date,xs(gr.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Ne(!0),an.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ve,qe,At;if(pt||!Gr)return;an.current=null;let yn=Number(((ue=mr.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yr=Number(((Ve=mr.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Nn=new Date().getTime()-((qe=Wu.current)==null?void 0:qe.getTime()),ln=ge==="x"?yn:yr,Wn=Math.abs(ln)/Nn;if(Math.abs(ln)>=s4||Wn>.11){xs(gr.current),(At=g.onDismiss)==null||At.call(g,g),He(ge==="x"?yn>0?"right":"left":yr>0?"down":"up"),Bn(),Jt(!0),kn(!1);return}Ne(!1),fe(null)},onPointerMove:ue=>{var Ve,qe,At,yn;if(!an.current||!Gr||((Ve=window.getSelection())==null?void 0:Ve.toString().length)>0)return;let yr=ue.clientY-an.current.y,Nn=ue.clientX-an.current.x,ln=(qe=t.swipeDirections)!=null?qe:o4(ne);!ge&&(Math.abs(Nn)>1||Math.abs(yr)>1)&&fe(Math.abs(Nn)>Math.abs(yr)?"x":"y");let Wn={x:0,y:0};ge==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&yr<0||ln.includes("bottom")&&yr>0)&&(Wn.y=yr):ge==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&Nn<0||ln.includes("right")&&Nn>0)&&(Wn.x=Nn),(Math.abs(Wn.x)>0||Math.abs(Wn.y)>0)&&kn(!0),(At=mr.current)==null||At.style.setProperty("--swipe-amount-x",`${Wn.x}px`),(yn=mr.current)==null||yn.style.setProperty("--swipe-amount-y",`${Wn.y}px`)}},Hu&&!g.jsx?q.createElement("button",{"aria-label":ce,"data-disabled":wt,"data-close-button":!0,onClick:wt||!Gr?()=>{}:()=>{var ue;Bn(),(ue=g.onDismiss)==null||ue.call(g,g)},className:qn(U==null?void 0:U.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:WD):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:q.createElement(q.Fragment,null,en||g.icon||g.promise?q.createElement("div",{"data-icon":"",className:qn(U==null?void 0:U.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bi():null,g.type!=="loading"?g.icon||(Q==null?void 0:Q[en])||MD(en):null):null,q.createElement("div",{"data-content":"",className:qn(U==null?void 0:U.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:qn(U==null?void 0:U.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?q.createElement("div",{"data-description":"",className:qn(R,Cp,U==null?void 0:U.description,(c=g==null?void 0:g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&bd(g.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||N,onClick:ue=>{var Ve,qe;bd(g.cancel)&&Gr&&((qe=(Ve=g.cancel).onClick)==null||qe.call(Ve,ue),Bn())},className:qn(U==null?void 0:U.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&bd(g.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||j,onClick:ue=>{var Ve,qe;bd(g.action)&&((qe=(Ve=g.action).onClick)==null||qe.call(Ve,ue),!ue.defaultPrevented&&Bn())},className:qn(U==null?void 0:U.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function E_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function l4(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?t4:e4;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var c4=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:h="light",richColors:f,duration:p,style:g,visibleToasts:S=JD,toastOptions:v,dir:E=E_(),gap:_=r4,loadingIcon:w,icons:b,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:P}=t,[D,T]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([r].concat(D.filter(re=>re.position).map(re=>re.position)))),[D,r]),[A,N]=q.useState([]),[j,O]=q.useState(!1),[R,z]=q.useState(!1),[ne,J]=q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=q.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=q.useRef(null),Q=q.useRef(!1),ce=q.useCallback(re=>{T(ge=>{var fe;return(fe=ge.find(Ue=>Ue.id===re.id))!=null&&fe.delete||cn.dismiss(re.id),ge.filter(({id:Ue})=>Ue!==re.id)})},[]);return q.useEffect(()=>cn.subscribe(re=>{if(re.dismiss){T(ge=>ge.map(fe=>fe.id===re.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{NT.flushSync(()=>{T(ge=>{let fe=ge.findIndex(Ue=>Ue.id===re.id);return fe!==-1?[...ge.slice(0,fe),{...ge[fe],...re},...ge.slice(fe+1)]:[re,...ge]})})})}),[]),q.useEffect(()=>{if(h!=="system"){J(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ge})=>{J(ge?"dark":"light")})}catch{re.addListener(({matches:fe})=>{try{J(fe?"dark":"light")}catch(Ue){console.error(Ue)}})}},[h]),q.useEffect(()=>{D.length<=1&&O(!1)},[D]),q.useEffect(()=>{let re=ge=>{var fe,Ue;s.every(He=>ge[He]||ge.code===He)&&(O(!0),(fe=oe.current)==null||fe.focus()),ge.code==="Escape"&&(document.activeElement===oe.current||(Ue=oe.current)!=null&&Ue.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),q.useEffect(()=>{if(oe.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Q.current=!1)}},[oe.current]),q.createElement("section",{ref:e,"aria-label":`${I} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((re,ge)=>{var fe;let[Ue,He]=re.split("-");return D.length?q.createElement("ol",{key:re,dir:E==="auto"?E_():E,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":Ue,"data-lifted":j&&D.length>1&&!i,"data-x-position":He,style:{"--front-toast-height":`${((fe=A[0])==null?void 0:fe.height)||0}px`,"--width":`${n4}px`,"--gap":`${_}px`,...g,...l4(l,c)},onBlur:G=>{Q.current&&!G.currentTarget.contains(G.relatedTarget)&&(Q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,U.current=G.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},D.filter(G=>!G.position&&ge===0||G.position===re).map((G,je)=>{var Ge,Oe;return q.createElement(a4,{key:G.id,icons:b,index:je,toast:G,defaultRichColors:f,duration:(Ge=v==null?void 0:v.duration)!=null?Ge:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Oe=v==null?void 0:v.closeButton)!=null?Oe:o,interacting:R,position:re,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ce,toasts:D.filter(Ce=>Ce.position==G.position),heights:A.filter(Ce=>Ce.position==G.position),setHeights:N,expandByDefault:i,gap:_,loadingIcon:w,expanded:j,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const u4=({...t})=>{const{theme:e="system"}=LD();return d.jsx(c4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var d4=xf[" useId ".trim().toString()]||(()=>{}),h4=0;function Ca(t){const[e,n]=y.useState(d4());return Ut(()=>{n(r=>r??String(h4++))},[t]),e?`radix-${e}`:""}const f4=["top","right","bottom","left"],xi=Math.min,xn=Math.max,Lh=Math.round,Sd=Math.floor,jr=t=>({x:t,y:t}),p4={left:"right",right:"left",bottom:"top",top:"bottom"},m4={start:"end",end:"start"};function zg(t,e,n){return xn(t,xi(e,n))}function fs(t,e){return typeof t=="function"?t(e):t}function ps(t){return t.split("-")[0]}function wl(t){return t.split("-")[1]}function $v(t){return t==="x"?"y":"x"}function zv(t){return t==="y"?"height":"width"}const g4=new Set(["top","bottom"]);function Nr(t){return g4.has(ps(t))?"y":"x"}function Bv(t){return $v(Nr(t))}function y4(t,e,n){n===void 0&&(n=!1);const r=wl(t),s=Bv(t),i=zv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Mh(o)),[o,Mh(o)]}function v4(t){const e=Mh(t);return[Bg(t),e,Bg(e)]}function Bg(t){return t.replace(/start|end/g,e=>m4[e])}const b_=["left","right"],S_=["right","left"],w4=["top","bottom"],x4=["bottom","top"];function _4(t,e,n){switch(t){case"top":case"bottom":return n?e?S_:b_:e?b_:S_;case"left":case"right":return e?w4:x4;default:return[]}}function E4(t,e,n,r){const s=wl(t);let i=_4(ps(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bg)))),i}function Mh(t){return t.replace(/left|right|bottom|top/g,e=>p4[e])}function b4(t){return{top:0,right:0,bottom:0,left:0,...t}}function SC(t){return typeof t!="number"?b4(t):{top:t,right:t,bottom:t,left:t}}function Vh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function T_(t,e,n){let{reference:r,floating:s}=t;const i=Nr(e),o=Bv(e),a=zv(o),l=ps(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(wl(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}async function S4(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=fs(e,t),S=SC(g),E=a[p?f==="floating"?"reference":"floating":f],_=Vh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Vh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(_.top-P.top+S.top)/I.y,bottom:(P.bottom-_.bottom+S.bottom)/I.y,left:(_.left-P.left+S.left)/I.x,right:(P.right-_.right+S.right)/I.x}}const T4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=T_(c,r,l),p=r,g={},S=0;for(let E=0;E<a.length;E++){var v;const{name:_,fn:w}=a[E],{x:b,y:I,data:P,reset:D}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:{...o,detectOverflow:(v=o.detectOverflow)!=null?v:S4},elements:{reference:t,floating:e}});h=b??h,f=I??f,g={...g,[_]:{...g[_],...P}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=T_(c,p,l)),E=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}},C4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=fs(t,e)||{};if(c==null)return{};const f=SC(h),p={x:n,y:r},g=Bv(s),S=zv(g),v=await o.getDimensions(c),E=g==="y",_=E?"top":"left",w=E?"bottom":"right",b=E?"clientHeight":"clientWidth",I=i.reference[S]+i.reference[g]-p[g]-i.floating[S],P=p[g]-i.reference[g],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=D?D[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(D)))&&(T=a.floating[b]||i.floating[S]);const C=I/2-P/2,A=T/2-v[S]/2-1,N=xi(f[_],A),j=xi(f[w],A),O=N,R=T-v[S]-j,z=T/2-v[S]/2+C,ne=zg(O,z,R),J=!l.arrow&&wl(s)!=null&&z!==ne&&i.reference[S]/2-(z<O?N:j)-v[S]/2<0,oe=J?z<O?z-O:z-R:0;return{[g]:p[g]+oe,data:{[g]:ne,centerOffset:z-ne-oe,...J&&{alignmentOffset:oe}},reset:J}}}),A4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=fs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ps(s),w=Nr(a),b=ps(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(b||!v?[Mh(a)]:v4(a)),D=S!=="none";!p&&D&&P.push(...E4(a,v,S,I));const T=[a,...P],C=await l.detectOverflow(e,E),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(C[_]),f){const z=y4(s,o,I);A.push(C[z[0]],C[z[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(z=>z<=0)){var j,O;const z=(((j=i.flip)==null?void 0:j.index)||0)+1,ne=T[z];if(ne&&(!(f==="alignment"?w!==Nr(ne):!1)||N.every(V=>Nr(V.placement)===w?V.overflows[0]>0:!0)))return{data:{index:z,overflows:N},reset:{placement:ne}};let J=(O=N.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(g){case"bestFit":{var R;const oe=(R=N.filter(V=>{if(D){const U=Nr(V.placement);return U===w||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:R[0];oe&&(J=oe);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function C_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A_(t){return f4.some(e=>t[e]>=0)}const I4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:s="referenceHidden",...i}=fs(t,e);switch(s){case"referenceHidden":{const o=await r.detectOverflow(e,{...i,elementContext:"reference"}),a=C_(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:A_(a)}}}case"escaped":{const o=await r.detectOverflow(e,{...i,altBoundary:!0}),a=C_(o,n.floating);return{data:{escapedOffsets:a,escaped:A_(a)}}}default:return{}}}}},TC=new Set(["left","top"]);async function k4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ps(n),a=wl(n),l=Nr(n)==="y",c=TC.has(o)?-1:1,h=i&&l?-1:1,f=fs(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),l?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const N4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await k4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},P4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s,platform:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:w,y:b}=_;return{x:w,y:b}}},...c}=fs(t,e),h={x:n,y:r},f=await i.detectOverflow(e,c),p=Nr(ps(s)),g=$v(p);let S=h[g],v=h[p];if(o){const _=g==="y"?"top":"left",w=g==="y"?"bottom":"right",b=S+f[_],I=S-f[w];S=zg(b,S,I)}if(a){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",b=v+f[_],I=v-f[w];v=zg(b,v,I)}const E=l.fn({...e,[g]:S,[p]:v});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[g]:o,[p]:a}}}}}},R4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=fs(t,e),h={x:n,y:r},f=Nr(s),p=$v(f);let g=h[p],S=h[f];const v=fs(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",I=i.reference[p]-i.floating[b]+E.mainAxis,P=i.reference[p]+i.reference[b]-E.mainAxis;g<I?g=I:g>P&&(g=P)}if(c){var _,w;const b=p==="y"?"width":"height",I=TC.has(ps(s)),P=i.reference[f]-i.floating[b]+(I&&((_=o.offset)==null?void 0:_[f])||0)+(I?0:E.crossAxis),D=i.reference[f]+i.reference[b]+(I?0:((w=o.offset)==null?void 0:w[f])||0)-(I?E.crossAxis:0);S<P?S=P:S>D&&(S=D)}return{[p]:g,[f]:S}}}},j4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=fs(t,e),h=await o.detectOverflow(e,c),f=ps(s),p=wl(s),g=Nr(s)==="y",{width:S,height:v}=i.floating;let E,_;f==="top"||f==="bottom"?(E=f,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,E=p==="end"?"top":"bottom");const w=v-h.top-h.bottom,b=S-h.left-h.right,I=xi(v-h[E],w),P=xi(S-h[_],b),D=!e.middlewareData.shift;let T=I,C=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),D&&!p){const N=xn(h.left,0),j=xn(h.right,0),O=xn(h.top,0),R=xn(h.bottom,0);g?C=S-2*(N!==0||j!==0?N+j:xn(h.left,h.right)):T=v-2*(O!==0||R!==0?O+R:xn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:T});const A=await o.getDimensions(a.floating);return S!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Hf(){return typeof window<"u"}function xl(t){return CC(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(CC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CC(t){return Hf()?t instanceof Node||t instanceof Sn(t).Node:!1}function lr(t){return Hf()?t instanceof Element||t instanceof Sn(t).Element:!1}function zr(t){return Hf()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function I_(t){return!Hf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}const O4=new Set(["inline","contents"]);function Pu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!O4.has(s)}const D4=new Set(["table","td","th"]);function L4(t){return D4.has(xl(t))}const M4=[":popover-open",":modal"];function qf(t){return M4.some(e=>{try{return t.matches(e)}catch{return!1}})}const V4=["transform","translate","scale","rotate","perspective"],F4=["transform","translate","scale","rotate","perspective","filter"],U4=["paint","layout","strict","content"];function Wv(t){const e=Hv(),n=lr(t)?cr(t):t;return V4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||F4.some(r=>(n.willChange||"").includes(r))||U4.some(r=>(n.contain||"").includes(r))}function $4(t){let e=_i(t);for(;zr(e)&&!Xa(e);){if(Wv(e))return e;if(qf(e))return null;e=_i(e)}return null}function Hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z4=new Set(["html","body","#document"]);function Xa(t){return z4.has(xl(t))}function cr(t){return Sn(t).getComputedStyle(t)}function Kf(t){return lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(xl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I_(t)&&t.host||Hr(t);return I_(e)?e.host:e}function AC(t){const e=_i(t);return Xa(e)?t.ownerDocument?t.ownerDocument.body:t.body:zr(e)&&Pu(e)?e:AC(e)}function Qc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=AC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=Wg(o);return e.concat(o,o.visualViewport||[],Pu(s)?s:[],a&&n?Qc(a):[])}return e.concat(s,Qc(s,[],n))}function Wg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IC(t){const e=cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Lh(n)!==i||Lh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function qv(t){return lr(t)?t:t.contextElement}function Aa(t){const e=qv(t);if(!zr(e))return jr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=IC(e);let o=(i?Lh(n.width):n.width)/r,a=(i?Lh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const B4=jr(0);function kC(t){const e=Sn(t);return!Hv()||!e.visualViewport?B4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function vo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qv(t);let o=jr(1);e&&(r?lr(r)&&(o=Aa(r)):o=Aa(t));const a=W4(i,n,r)?kC(i):jr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Sn(i),g=r&&lr(r)?Sn(r):r;let S=p,v=Wg(S);for(;v&&r&&g!==S;){const E=Aa(v),_=v.getBoundingClientRect(),w=cr(v),b=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*E.x,I=_.top+(v.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,c*=E.y,h*=E.x,f*=E.y,l+=b,c+=I,S=Sn(v),v=Wg(S)}}return Vh({width:h,height:f,x:l,y:c})}function Gf(t,e){const n=Kf(t).scrollLeft;return e?e.left+n:vo(Hr(t)).left+n}function NC(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Gf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function H4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Hr(r),a=e?qf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=jr(1);const h=jr(0),f=zr(r);if((f||!f&&!i)&&((xl(r)!=="body"||Pu(o))&&(l=Kf(r)),zr(r))){const g=vo(r);c=Aa(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?NC(o,l):jr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-l.scrollTop*c.y+h.y+p.y}}function q4(t){return Array.from(t.getClientRects())}function K4(t){const e=Hr(t),n=Kf(t),r=t.ownerDocument.body,s=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Gf(t);const a=-n.scrollTop;return cr(r).direction==="rtl"&&(o+=xn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const k_=25;function G4(t,e){const n=Sn(t),r=Hr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const h=Hv();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Gf(r);if(c<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-g);S<=k_&&(i-=S)}else c<=k_&&(i+=c);return{width:i,height:o,x:a,y:l}}const Q4=new Set(["absolute","fixed"]);function Y4(t,e){const n=vo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=zr(t)?Aa(t):jr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function N_(t,e,n){let r;if(e==="viewport")r=G4(t,n);else if(e==="document")r=K4(Hr(t));else if(lr(e))r=Y4(e,n);else{const s=kC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vh(r)}function PC(t,e){const n=_i(t);return n===e||!lr(n)||Xa(n)?!1:cr(n).position==="fixed"||PC(n,e)}function Z4(t,e){const n=e.get(t);if(n)return n;let r=Qc(t,[],!1).filter(a=>lr(a)&&xl(a)!=="body"),s=null;const i=cr(t).position==="fixed";let o=i?_i(t):t;for(;lr(o)&&!Xa(o);){const a=cr(o),l=Wv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&Q4.has(s.position)||Pu(o)&&!l&&PC(t,o))?r=r.filter(h=>h!==o):s=a,o=_i(o)}return e.set(t,r),r}function X4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?qf(e)?[]:Z4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=N_(e,h,s);return c.top=xn(f.top,c.top),c.right=xi(f.right,c.right),c.bottom=xi(f.bottom,c.bottom),c.left=xn(f.left,c.left),c},N_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J4(t){const{width:e,height:n}=IC(t);return{width:e,height:n}}function eL(t,e,n){const r=zr(e),s=Hr(e),i=n==="fixed",o=vo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=jr(0);function c(){l.x=Gf(s)}if(r||!r&&!i)if((xl(e)!=="body"||Pu(s))&&(a=Kf(e)),r){const g=vo(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?NC(s,a):jr(0),f=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function vm(t){return cr(t).position==="static"}function P_(t,e){if(!zr(t)||cr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function RC(t,e){const n=Sn(t);if(qf(t))return n;if(!zr(t)){let s=_i(t);for(;s&&!Xa(s);){if(lr(s)&&!vm(s))return s;s=_i(s)}return n}let r=P_(t,e);for(;r&&L4(r)&&vm(r);)r=P_(r,e);return r&&Xa(r)&&vm(r)&&!Wv(r)?n:r||$4(t)||n}const tL=async function(t){const e=this.getOffsetParent||RC,n=this.getDimensions,r=await n(t.floating);return{reference:eL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nL(t){return cr(t).direction==="rtl"}const rL={convertOffsetParentRelativeRectToViewportRelativeRect:H4,getDocumentElement:Hr,getClippingRect:X4,getOffsetParent:RC,getElementRects:tL,getClientRects:q4,getDimensions:J4,getScale:Aa,isElement:lr,isRTL:nL};function jC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sL(t,e){let n=null,r;const s=Hr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=c;if(a||e(),!p||!g)return;const S=Sd(f),v=Sd(s.clientWidth-(h+p)),E=Sd(s.clientHeight-(f+g)),_=Sd(h),b={rootMargin:-S+"px "+-v+"px "+-E+"px "+-_+"px",threshold:xn(0,xi(1,l))||1};let I=!0;function P(D){const T=D[0].intersectionRatio;if(T!==l){if(!I)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!jC(c,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(P,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,b)}n.observe(t)}return o(!0),i}function iL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=qv(t),h=s||i?[...c?Qc(c):[],...Qc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=c&&a?sL(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[w]=_;w&&w.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let S,v=l?vo(t):null;l&&E();function E(){const _=vo(t);v&&!jC(v,_)&&n(),v=_,S=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(S)}}const oL=N4,aL=P4,lL=A4,cL=j4,uL=I4,R_=C4,dL=R4,hL=(t,e,n)=>{const r=new Map,s={platform:rL,...n},i={...s.platform,_c:r};return T4(t,e,{...s,platform:i})};var fL=typeof document<"u",pL=function(){},Xd=fL?y.useLayoutEffect:pL;function Fh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Fh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Fh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function OC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j_(t,e){const n=OC(t);return Math.round(e*n)/n}function wm(t){const e=y.useRef(t);return Xd(()=>{e.current=t}),e}function mL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(r);Fh(p,r)||g(r);const[S,v]=y.useState(null),[E,_]=y.useState(null),w=y.useCallback(V=>{V!==D.current&&(D.current=V,v(V))},[]),b=y.useCallback(V=>{V!==T.current&&(T.current=V,_(V))},[]),I=i||S,P=o||E,D=y.useRef(null),T=y.useRef(null),C=y.useRef(h),A=l!=null,N=wm(l),j=wm(s),O=wm(c),R=y.useCallback(()=>{if(!D.current||!T.current)return;const V={placement:e,strategy:n,middleware:p};j.current&&(V.platform=j.current),hL(D.current,T.current,V).then(U=>{const Q={...U,isPositioned:O.current!==!1};z.current&&!Fh(C.current,Q)&&(C.current=Q,jo.flushSync(()=>{f(Q)}))})},[p,e,n,j,O]);Xd(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const z=y.useRef(!1);Xd(()=>(z.current=!0,()=>{z.current=!1}),[]),Xd(()=>{if(I&&(D.current=I),P&&(T.current=P),I&&P){if(N.current)return N.current(I,P,R);R()}},[I,P,R,N,A]);const ne=y.useMemo(()=>({reference:D,floating:T,setReference:w,setFloating:b}),[w,b]),J=y.useMemo(()=>({reference:I,floating:P}),[I,P]),oe=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!J.floating)return V;const U=j_(J.floating,h.x),Q=j_(J.floating,h.y);return a?{...V,transform:"translate("+U+"px, "+Q+"px)",...OC(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Q}},[n,a,J.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:R,refs:ne,elements:J,floatingStyles:oe}),[h,R,ne,J,oe])}const gL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?R_({element:r.current,padding:s}).fn(n):{}:r?R_({element:r,padding:s}).fn(n):{}}}},yL=(t,e)=>({...oL(t),options:[t,e]}),vL=(t,e)=>({...aL(t),options:[t,e]}),wL=(t,e)=>({...dL(t),options:[t,e]}),xL=(t,e)=>({...lL(t),options:[t,e]}),_L=(t,e)=>({...cL(t),options:[t,e]}),EL=(t,e)=>({...uL(t),options:[t,e]}),bL=(t,e)=>({...gL(t),options:[t,e]});var SL="Arrow",DC=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});DC.displayName=SL;var TL=DC;function Kv(t){const[e,n]=y.useState(void 0);return Ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Gv="Popper",[LC,Qf]=Oi(Gv),[CL,MC]=LC(Gv),VC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return d.jsx(CL,{scope:e,anchor:r,onAnchorChange:s,children:n})};VC.displayName=Gv;var FC="PopperAnchor",UC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=MC(FC,n),o=y.useRef(null),a=ze(e,o),l=y.useRef(null);return y.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:d.jsx(Se.div,{...s,ref:a})});UC.displayName=FC;var Qv="PopperContent",[AL,IL]=LC(Qv),$C=y.forwardRef((t,e)=>{var G,je,Ge,Oe,Ce,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...v}=t,E=MC(Qv,n),[_,w]=y.useState(null),b=ze(e,pt=>w(pt)),[I,P]=y.useState(null),D=Kv(I),T=(D==null?void 0:D.width)??0,C=(D==null?void 0:D.height)??0,A=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(c)?c:[c],O=j.length>0,R={padding:N,boundary:j.filter(NL),altBoundary:O},{refs:z,floatingStyles:ne,placement:J,isPositioned:oe,middlewareData:V}=mL({strategy:"fixed",placement:A,whileElementsMounted:(...pt)=>iL(...pt,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[yL({mainAxis:s+C,alignmentAxis:o}),l&&vL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wL():void 0,...R}),l&&xL({...R}),_L({...R,apply:({elements:pt,rects:Jt,availableWidth:Kr,availableHeight:kn})=>{const{width:zn,height:xs}=Jt.reference,nt=pt.floating.style;nt.setProperty("--radix-popper-available-width",`${Kr}px`),nt.setProperty("--radix-popper-available-height",`${kn}px`),nt.setProperty("--radix-popper-anchor-width",`${zn}px`),nt.setProperty("--radix-popper-anchor-height",`${xs}px`)}}),I&&bL({element:I,padding:a}),PL({arrowWidth:T,arrowHeight:C}),p&&EL({strategy:"referenceHidden",...R})]}),[U,Q]=WC(J),ce=ar(S);Ut(()=>{oe&&(ce==null||ce())},[oe,ce]);const re=(G=V.arrow)==null?void 0:G.x,ge=(je=V.arrow)==null?void 0:je.y,fe=((Ge=V.arrow)==null?void 0:Ge.centerOffset)!==0,[Ue,He]=y.useState();return Ut(()=>{_&&He(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:oe?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(Oe=V.transformOrigin)==null?void 0:Oe.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((Ne=V.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(AL,{scope:n,placedSide:U,onArrowChange:P,arrowX:re,arrowY:ge,shouldHideArrow:fe,children:d.jsx(Se.div,{"data-side":U,"data-align":Q,...v,ref:b,style:{...v.style,animation:oe?void 0:"none"}})})})});$C.displayName=Qv;var zC="PopperArrow",kL={top:"bottom",right:"left",bottom:"top",left:"right"},BC=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=IL(zC,r),o=kL[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(TL,{...s,ref:n,style:{...s.style,display:"block"}})})});BC.displayName=zC;function NL(t){return t!==null}var PL=t=>({name:"transformOrigin",options:t,fn(e){var E,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=WC(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let S="",v="";return c==="bottom"?(S=o?f:`${p}px`,v=`${-l}px`):c==="top"?(S=o?f:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,v=o?f:`${g}px`):c==="left"&&(S=`${r.floating.width+l}px`,v=o?f:`${g}px`),{data:{x:S,y:v}}}});function WC(t){const[e,n="center"]=t.split("-");return[e,n]}var RL=VC,HC=UC,qC=$C,KC=BC,jL=Symbol("radix.slottable");function OL(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=jL,e}var[Yf]=Oi("Tooltip",[Qf]),Yv=Qf(),GC="TooltipProvider",DL=700,O_="tooltip.open",[LL,QC]=Yf(GC),YC=t=>{const{__scopeTooltip:e,delayDuration:n=DL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(LL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};YC.displayName=GC;var ZC="Tooltip",[EW,Zf]=Yf(ZC),Hg="TooltipTrigger",ML=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zf(Hg,n),i=QC(Hg,n),o=Yv(n),a=y.useRef(null),l=ze(e,a,s.onTriggerChange),c=y.useRef(!1),h=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(HC,{asChild:!0,...o,children:d.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ye(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ye(t.onBlur,s.onClose),onClick:ye(t.onClick,s.onClose)})})});ML.displayName=Hg;var VL="TooltipPortal",[bW,FL]=Yf(VL,{forceMount:void 0}),Ja="TooltipContent",XC=y.forwardRef((t,e)=>{const n=FL(Ja,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Zf(Ja,t.__scopeTooltip);return d.jsx(Oo,{present:r||o.open,children:o.disableHoverableContent?d.jsx(JC,{side:s,...i,ref:e}):d.jsx(UL,{side:s,...i,ref:e})})}),UL=y.forwardRef((t,e)=>{const n=Zf(Ja,t.__scopeTooltip),r=QC(Ja,t.__scopeTooltip),s=y.useRef(null),i=ze(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,p=y.useCallback(()=>{a(null),f(!1)},[f]),g=y.useCallback((S,v)=>{const E=S.currentTarget,_={x:S.clientX,y:S.clientY},w=HL(_,E.getBoundingClientRect()),b=qL(_,w),I=KL(v.getBoundingClientRect()),P=QL([...b,...I]);a(P),f(!0)},[f]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&h){const S=E=>g(E,h),v=E=>g(E,l);return l.addEventListener("pointerleave",S),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",v)}}},[l,h,g,p]),y.useEffect(()=>{if(o){const S=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),b=!GL(_,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,h,o,c,p]),d.jsx(JC,{...t,ref:i})}),[$L,zL]=Yf(ZC,{isInside:!1}),BL=OL("TooltipContent"),JC=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Zf(Ja,n),c=Yv(n),{onClose:h}=l;return y.useEffect(()=>(document.addEventListener(O_,h),()=>document.removeEventListener(O_,h)),[h]),y.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),d.jsx(Au,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(qC,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(BL,{children:r}),d.jsx($L,{scope:n,isInside:!0,children:d.jsx(iO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});XC.displayName=Ja;var eA="TooltipArrow",WL=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yv(n);return zL(eA,n).isInside?null:d.jsx(KC,{...s,...r,ref:e})});WL.displayName=eA;function HL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function qL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function KL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function GL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,f=l.x,p=l.y;h>r!=p>r&&n<(f-c)*(r-h)/(p-h)+c&&(s=!s)}return s}function QL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YL(e)}function YL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var ZL=YC,tA=XC;const XL=ZL,JL=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(tA,{ref:r,sideOffset:e,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));JL.displayName=tA.displayName;var Xf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eM={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Hs,Fy,lb,tM=(lb=class{constructor(){Pe(this,Hs,eM);Pe(this,Fy,!1)}setTimeoutProvider(t){pe(this,Hs,t)}setTimeout(t,e){return F(this,Hs).setTimeout(t,e)}clearTimeout(t){F(this,Hs).clearTimeout(t)}setInterval(t,e){return F(this,Hs).setInterval(t,e)}clearInterval(t){F(this,Hs).clearInterval(t)}},Hs=new WeakMap,Fy=new WeakMap,lb),qg=new tM;function nM(t){setTimeout(t,0)}var Jf=typeof window>"u"||"Deno"in globalThis;function Yn(){}function rM(t,e){return typeof t=="function"?t(e):t}function sM(t){return typeof t=="number"&&t>=0&&t!==1/0}function iM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kg(t,e){return typeof t=="function"?t(e):t}function oM(t,e){return typeof t=="function"?t(e):t}function D_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Zv(o,e.options))return!1}else if(!Zc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function L_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yc(e.options.mutationKey)!==Yc(i))return!1}else if(!Zc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Zv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yc)(t)}function Yc(t){return JSON.stringify(t,(e,n)=>Gg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zc(t[n],e[n])):!1}var aM=Object.prototype.hasOwnProperty;function nA(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=M_(t)&&M_(e);if(!r&&!(Gg(t)&&Gg(e)))return e;const i=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let h=0;h<a;h++){const f=r?h:o[h],p=t[f],g=e[f];if(p===g){l[f]=p,(r?h<i:aM.call(t,f))&&c++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){l[f]=g;continue}const S=nA(p,g,n+1);l[f]=S,S===p&&c++}return i===a&&c===i?t:l}function M_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gg(t){if(!V_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!V_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function V_(t){return Object.prototype.toString.call(t)==="[object Object]"}function lM(t){return new Promise(e=>{qg.setTimeout(e,t)})}function cM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nA(t,e):e}function uM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Xv=Symbol();function rA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function hM(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var to,qs,Da,cb,fM=(cb=class extends Xf{constructor(){super();Pe(this,to);Pe(this,qs);Pe(this,Da);pe(this,Da,e=>{if(!Jf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,qs)||this.setEventListener(F(this,Da))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,qs))==null||e.call(this),pe(this,qs,void 0))}setEventListener(e){var n;pe(this,Da,e),(n=F(this,qs))==null||n.call(this),pe(this,qs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,to)!==e&&(pe(this,to,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,to)=="boolean"?F(this,to):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},to=new WeakMap,qs=new WeakMap,Da=new WeakMap,cb),sA=new fM;function pM(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var mM=nM;function gM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=mM;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var nn=gM(),La,Ks,Ma,ub,yM=(ub=class extends Xf{constructor(){super();Pe(this,La,!0);Pe(this,Ks);Pe(this,Ma);pe(this,Ma,e=>{if(!Jf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Ks)||this.setEventListener(F(this,Ma))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ks))==null||e.call(this),pe(this,Ks,void 0))}setEventListener(e){var n;pe(this,Ma,e),(n=F(this,Ks))==null||n.call(this),pe(this,Ks,e(this.setOnline.bind(this)))}setOnline(e){F(this,La)!==e&&(pe(this,La,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,La)}},La=new WeakMap,Ks=new WeakMap,Ma=new WeakMap,ub),Uh=new yM;function vM(t){return Math.min(1e3*2**t,3e4)}function iA(t){return(t??"online")==="online"?Uh.isOnline():!0}var Qg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function oA(t){let e=!1,n=0,r;const s=pM(),i=()=>s.status!=="pending",o=v=>{var E;if(!i()){const _=new Qg(v);p(_),(E=t.onCancel)==null||E.call(t,_)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>sA.isFocused()&&(t.networkMode==="always"||Uh.isOnline())&&t.canRun(),h=()=>iA(t.networkMode)&&t.canRun(),f=v=>{i()||(r==null||r(),s.resolve(v))},p=v=>{i()||(r==null||r(),s.reject(v))},g=()=>new Promise(v=>{var E;r=_=>{(i()||c())&&v(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(i())return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var D;if(i())return;const w=t.retry??(Jf?0:3),b=t.retryDelay??vM,I=typeof b=="function"?b(n,_):b,P=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!P){p(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),lM(I).then(()=>c()?void 0:g()).then(()=>{e?p(_):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?S():g().then(S),s)}}var no,db,aA=(db=class{constructor(){Pe(this,no)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sM(this.gcTime)&&pe(this,no,qg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jf?1/0:5*60*1e3))}clearGcTimeout(){F(this,no)&&(qg.clearTimeout(F(this,no)),pe(this,no,void 0))}},no=new WeakMap,db),ro,Va,Rn,so,kt,wu,io,Zn,Zr,hb,wM=(hb=class extends aA{constructor(n){super();Pe(this,Zn);Pe(this,ro);Pe(this,Va);Pe(this,Rn);Pe(this,so);Pe(this,kt);Pe(this,wu);Pe(this,io);pe(this,io,!1),pe(this,wu,n.defaultOptions),this.setOptions(n.options),this.observers=[],pe(this,so,n.client),pe(this,Rn,F(this,so).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pe(this,ro,U_(this.options)),this.state=n.state??F(this,ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,kt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,wu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=U_(this.options);r.data!==void 0&&(this.setState(F_(r.data,r.dataUpdatedAt)),pe(this,ro,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Rn).remove(this)}setData(n,r){const s=cM(this.state.data,n,this.options);return zt(this,Zn,Zr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){zt(this,Zn,Zr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,kt))==null?void 0:s.promise;return(i=F(this,kt))==null||i.cancel(n),r?r.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ro))}isActive(){return this.observers.some(n=>oM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Kg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!iM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,Rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,kt)&&(F(this,io)?F(this,kt).cancel({revert:!0}):F(this,kt).cancelRetry()),this.scheduleGc()),F(this,Rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,Zn,Zr).call(this,{type:"invalidate"})}async fetch(n,r){var c,h,f,p,g,S,v,E,_,w,b,I;if(this.state.fetchStatus!=="idle"&&((c=F(this,kt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,kt))return F(this,kt).continueRetry(),F(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const P=this.observers.find(D=>D.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(pe(this,io,!0),s.signal)})},o=()=>{const P=rA(this.options,r),T=(()=>{const C={client:F(this,so),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return pe(this,io,!1),this.options.persister?this.options.persister(P,T,this):P(T)},l=(()=>{const P={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,so),state:this.state,fetchFn:o};return i(P),P})();(h=this.options.behavior)==null||h.onFetch(l,this),pe(this,Va,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&zt(this,Zn,Zr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),pe(this,kt,oA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:P=>{P instanceof Qg&&P.revert&&this.setState({...F(this,Va),fetchStatus:"idle"}),s.abort()},onFail:(P,D)=>{zt(this,Zn,Zr).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{zt(this,Zn,Zr).call(this,{type:"pause"})},onContinue:()=>{zt(this,Zn,Zr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const P=await F(this,kt).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(S=(g=F(this,Rn).config).onSuccess)==null||S.call(g,P,this),(E=(v=F(this,Rn).config).onSettled)==null||E.call(v,P,this.state.error,this),P}catch(P){if(P instanceof Qg){if(P.silent)return F(this,kt).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw zt(this,Zn,Zr).call(this,{type:"error",error:P}),(w=(_=F(this,Rn).config).onError)==null||w.call(_,P,this),(I=(b=F(this,Rn).config).onSettled)==null||I.call(b,this.state.data,P,this),P}finally{this.scheduleGc()}}},ro=new WeakMap,Va=new WeakMap,Rn=new WeakMap,so=new WeakMap,kt=new WeakMap,wu=new WeakMap,io=new WeakMap,Zn=new WeakSet,Zr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...xM(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...F_(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,Va,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,Rn).notify({query:this,type:"updated",action:n})})},hb);function xM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function F_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function U_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function $_(t){return{onFetch:(e,n)=>{var h,f,p,g,S;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const E=b=>{hM(b,()=>e.signal,()=>v=!0)},_=rA(e.options,e.fetchOptions),w=async(b,I,P)=>{if(v)return Promise.reject();if(I==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:I,direction:P?"backward":"forward",meta:e.options.meta};return E(j),j})(),C=await _(T),{maxPages:A}=e.options,N=P?dM:uM;return{pages:N(b.pages,C,A),pageParams:N(b.pageParams,I,A)}};if(s&&i.length){const b=s==="backward",I=b?_M:z_,P={pages:i,pageParams:o},D=I(r,P);a=await w(P,D,b)}else{const b=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:z_(r,a);if(l>0&&I==null)break;a=await w(a,I),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function z_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _M(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var xu,Sr,qt,oo,Tr,Rs,fb,EM=(fb=class extends aA{constructor(n){super();Pe(this,Tr);Pe(this,xu);Pe(this,Sr);Pe(this,qt);Pe(this,oo);pe(this,xu,n.client),this.mutationId=n.mutationId,pe(this,qt,n.mutationCache),pe(this,Sr,[]),this.state=n.state||bM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Sr).includes(n)||(F(this,Sr).push(n),this.clearGcTimeout(),F(this,qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pe(this,Sr,F(this,Sr).filter(r=>r!==n)),this.scheduleGc(),F(this,qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Sr).length||(this.state.status==="pending"?this.scheduleGc():F(this,qt).remove(this))}continue(){var n;return((n=F(this,oo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,h,f,p,g,S,v,E,_,w,b,I,P,D,T,C;const r=()=>{zt(this,Tr,Rs).call(this,{type:"continue"})},s={client:F(this,xu),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,oo,oA({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(A,N)=>{zt(this,Tr,Rs).call(this,{type:"failed",failureCount:A,error:N})},onPause:()=>{zt(this,Tr,Rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,qt).canRun(this)}));const i=this.state.status==="pending",o=!F(this,oo).canStart();try{if(i)r();else{zt(this,Tr,Rs).call(this,{type:"pending",variables:n,isPaused:o}),F(this,qt).config.onMutate&&await F(this,qt).config.onMutate(n,this,s);const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n,s));N!==this.state.context&&zt(this,Tr,Rs).call(this,{type:"pending",context:N,variables:n,isPaused:o})}const A=await F(this,oo).start();return await((h=(c=F(this,qt).config).onSuccess)==null?void 0:h.call(c,A,n,this.state.context,this,s)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,n,this.state.context,s)),await((S=(g=F(this,qt).config).onSettled)==null?void 0:S.call(g,A,null,this.state.variables,this.state.context,this,s)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,A,null,n,this.state.context,s)),zt(this,Tr,Rs).call(this,{type:"success",data:A}),A}catch(A){try{await((w=(_=F(this,qt).config).onError)==null?void 0:w.call(_,A,n,this.state.context,this,s))}catch(N){Promise.reject(N)}try{await((I=(b=this.options).onError)==null?void 0:I.call(b,A,n,this.state.context,s))}catch(N){Promise.reject(N)}try{await((D=(P=F(this,qt).config).onSettled)==null?void 0:D.call(P,void 0,A,this.state.variables,this.state.context,this,s))}catch(N){Promise.reject(N)}try{await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,A,n,this.state.context,s))}catch(N){Promise.reject(N)}throw zt(this,Tr,Rs).call(this,{type:"error",error:A}),A}finally{F(this,qt).runNext(this)}}},xu=new WeakMap,Sr=new WeakMap,qt=new WeakMap,oo=new WeakMap,Tr=new WeakSet,Rs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{F(this,Sr).forEach(s=>{s.onMutationUpdate(n)}),F(this,qt).notify({mutation:this,type:"updated",action:n})})},fb);function bM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ts,Xn,_u,pb,SM=(pb=class extends Xf{constructor(e={}){super();Pe(this,ts);Pe(this,Xn);Pe(this,_u);this.config=e,pe(this,ts,new Set),pe(this,Xn,new Map),pe(this,_u,0)}build(e,n,r){const s=new EM({client:e,mutationCache:this,mutationId:++rd(this,_u)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,ts).add(e);const n=Td(e);if(typeof n=="string"){const r=F(this,Xn).get(n);r?r.push(e):F(this,Xn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,ts).delete(e)){const n=Td(e);if(typeof n=="string"){const r=F(this,Xn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Xn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Td(e);if(typeof n=="string"){const r=F(this,Xn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Td(e);if(typeof n=="string"){const s=(r=F(this,Xn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{F(this,ts).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,ts).clear(),F(this,Xn).clear()})}getAll(){return Array.from(F(this,ts))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L_(n,r))}findAll(e={}){return this.getAll().filter(n=>L_(e,n))}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Yn))))}},ts=new WeakMap,Xn=new WeakMap,_u=new WeakMap,pb);function Td(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Cr,mb,TM=(mb=class extends Xf{constructor(e={}){super();Pe(this,Cr);this.config=e,pe(this,Cr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Zv(s,n);let o=this.get(i);return o||(o=new wM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Cr).has(e.queryHash)||(F(this,Cr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Cr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Cr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Cr).get(e)}getAll(){return[...F(this,Cr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>D_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>D_(e,r)):n}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cr=new WeakMap,mb),ct,Gs,Qs,Fa,Ua,Ys,$a,za,gb,CM=(gb=class{constructor(t={}){Pe(this,ct);Pe(this,Gs);Pe(this,Qs);Pe(this,Fa);Pe(this,Ua);Pe(this,Ys);Pe(this,$a);Pe(this,za);pe(this,ct,t.queryCache||new TM),pe(this,Gs,t.mutationCache||new SM),pe(this,Qs,t.defaultOptions||{}),pe(this,Fa,new Map),pe(this,Ua,new Map),pe(this,Ys,0)}mount(){rd(this,Ys)._++,F(this,Ys)===1&&(pe(this,$a,sA.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ct).onFocus())})),pe(this,za,Uh.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ct).onOnline())})))}unmount(){var t,e;rd(this,Ys)._--,F(this,Ys)===0&&((t=F(this,$a))==null||t.call(this),pe(this,$a,void 0),(e=F(this,za))==null||e.call(this),pe(this,za,void 0))}isFetching(t){return F(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Gs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,ct).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Kg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=rM(e,i);if(o!==void 0)return F(this,ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>F(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,ct);nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,ct);return nn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nn.batch(()=>F(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Yn).catch(Yn)}invalidateQueries(t,e={}){return nn.batch(()=>(F(this,ct).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nn.batch(()=>F(this,ct).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,ct).build(this,e);return n.isStaleByTime(Kg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yn).catch(Yn)}fetchInfiniteQuery(t){return t.behavior=$_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yn).catch(Yn)}ensureInfiniteQueryData(t){return t.behavior=$_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uh.isOnline()?F(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,ct)}getMutationCache(){return F(this,Gs)}getDefaultOptions(){return F(this,Qs)}setDefaultOptions(t){pe(this,Qs,t)}setQueryDefaults(t,e){F(this,Fa).set(Yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Fa).values()],n={};return e.forEach(r=>{Zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Ua).set(Yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Ua).values()],n={};return e.forEach(r=>{Zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Zv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,ct).clear(),F(this,Gs).clear()}},ct=new WeakMap,Gs=new WeakMap,Qs=new WeakMap,Fa=new WeakMap,Ua=new WeakMap,Ys=new WeakMap,$a=new WeakMap,za=new WeakMap,gb),AM=y.createContext(void 0),IM=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(AM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}var Js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Js||(Js={}));const B_="popstate";function kM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Yg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$h(s)}return PM(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NM(){return Math.random().toString(36).substr(2,8)}function W_(t,e){return{usr:t.state,key:t.key,idx:e}}function Yg(t,e,n,r){return n===void 0&&(n=null),Xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_l(e):e,{state:n,key:e&&e.key||r||NM()})}function $h(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Js.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Xc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Js.Pop;let E=h(),_=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:_})}function p(E,_){a=Js.Push;let w=Yg(v.location,E,_);c=h()+1;let b=W_(w,c),I=v.createHref(w);try{o.pushState(b,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(I)}i&&l&&l({action:a,location:v.location,delta:1})}function g(E,_){a=Js.Replace;let w=Yg(v.location,E,_);c=h();let b=W_(w,c),I=v.createHref(w);o.replaceState(b,"",I),i&&l&&l({action:a,location:v.location,delta:0})}function S(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:$h(E);return w=w.replace(/ $/,"%20"),ft(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(B_,f),l=E,()=>{s.removeEventListener(B_,f),l=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let _=S(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(E){return o.go(E)}};return v}var H_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H_||(H_={}));function RM(t,e,n){return n===void 0&&(n="/"),jM(t,e,n)}function jM(t,e,n,r){let s=typeof e=="string"?_l(e):e,i=ew(s.pathname||"/",n);if(i==null)return null;let o=lA(t);OM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=qM(i);a=BM(o[l],c)}return a}function lA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ui([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lA(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:$M(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of cA(i.path))s(i,o,l)}),e}function cA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=cA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function OM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DM=/^:[\w-]+$/,LM=3,MM=2,VM=1,FM=10,UM=-2,q_=t=>t==="*";function $M(t,e){let n=t.split("/"),r=n.length;return n.some(q_)&&(r+=UM),e&&(r+=MM),n.filter(s=>!q_(s)).reduce((s,i)=>s+(DM.test(i)?LM:i===""?VM:FM),r)}function zM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=WM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ui([i,f.pathname]),pathnameBase:ZM(ui([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ui([i,f.pathnameBase]))}return o}function WM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=a[f];return g&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function HM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ew(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const KM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GM=t=>KM.test(t);function QM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_l(t):t,i;if(n)if(GM(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Jv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=K_(n.substring(1),"/"):i=K_(n,e)}else i=e;return{pathname:i,search:XM(r),hash:JM(s)}}function K_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tw(t,e){let n=YM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_l(t):(s=Xc({},t),ft(!s.pathname||!s.pathname.includes("?"),xm("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),xm("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),xm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=QM(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),ZM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uA=["post","put","patch","delete"];new Set(uA);const tV=["get",...uA];new Set(tV);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}const rw=y.createContext(null),nV=y.createContext(null),Di=y.createContext(null),ep=y.createContext(null),Li=y.createContext({outlet:null,matches:[],isDataRoute:!1}),dA=y.createContext(null);function rV(t,e){let{relative:n}=e===void 0?{}:e;El()||ft(!1);let{basename:r,navigator:s}=y.useContext(Di),{hash:i,pathname:o,search:a}=fA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ui([r,o])),s.createHref({pathname:l,search:a,hash:i})}function El(){return y.useContext(ep)!=null}function Do(){return El()||ft(!1),y.useContext(ep).location}function hA(t){y.useContext(Di).static||y.useLayoutEffect(t)}function hr(){let{isDataRoute:t}=y.useContext(Li);return t?gV():sV()}function sV(){El()||ft(!1);let t=y.useContext(rw),{basename:e,future:n,navigator:r}=y.useContext(Di),{matches:s}=y.useContext(Li),{pathname:i}=Do(),o=JSON.stringify(tw(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return hA(()=>{a.current=!0}),y.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=nw(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ui([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function fA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Di),{matches:s}=y.useContext(Li),{pathname:i}=Do(),o=JSON.stringify(tw(s,r.v7_relativeSplatPath));return y.useMemo(()=>nw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function iV(t,e){return oV(t,e)}function oV(t,e,n,r){El()||ft(!1);let{navigator:s}=y.useContext(Di),{matches:i}=y.useContext(Li),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Do(),h;if(e){var f;let E=typeof e=="string"?_l(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||ft(!1),h=E}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=RM(t,{pathname:g}),v=dV(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ui([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ui([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?y.createElement(ep.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Js.Pop}},v):v}function aV(){let t=mV(),e=eV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const lV=y.createElement(aV,null);class cV extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Li.Provider,{value:this.props.routeContext},y.createElement(dA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uV(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(rw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Li.Provider,{value:e},r)}function dV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ft(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||S){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,S=!1,v=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||lV,l&&(c<0&&p===0?(yV("route-fallback"),S=!0,E=null):c===p&&(S=!0,E=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),w=()=>{let b;return g?b=v:S?b=E:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,y.createElement(uV,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(cV,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var pA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pA||{}),mA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mA||{});function hV(t){let e=y.useContext(rw);return e||ft(!1),e}function fV(t){let e=y.useContext(nV);return e||ft(!1),e}function pV(t){let e=y.useContext(Li);return e||ft(!1),e}function gA(t){let e=pV(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function mV(){var t;let e=y.useContext(dA),n=fV(),r=gA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gV(){let{router:t}=hV(pA.UseNavigateStable),e=gA(mA.UseNavigateStable),n=y.useRef(!1);return hA(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jc({fromRouteId:e},i)))},[t,e])}const G_={};function yV(t,e,n){G_[t]||(G_[t]=!0)}function vV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Kn(t){let{to:e,replace:n,state:r,relative:s}=t;El()||ft(!1);let{future:i,static:o}=y.useContext(Di),{matches:a}=y.useContext(Li),{pathname:l}=Do(),c=hr(),h=nw(e,tw(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return y.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function Pn(t){ft(!1)}function wV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Js.Pop,navigator:i,static:o=!1,future:a}=t;El()&&ft(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Jc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=_l(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:S="default"}=r,v=y.useMemo(()=>{let E=ew(h,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:g,key:S},navigationType:s}},[l,h,f,p,g,S,s]);return v==null?null:y.createElement(Di.Provider,{value:c},y.createElement(ep.Provider,{children:n,value:v}))}function xV(t){let{children:e,location:n}=t;return iV(Zg(e),n)}new Promise(()=>{});function Zg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Zg(r.props.children,i));return}r.type!==Pn&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function _V(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function EV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bV(t,e){return t.button===0&&(!e||e==="_self")&&!EV(t)}const SV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TV="6";try{window.__reactRouterVersion=TV}catch{}const CV="startTransition",Q_=xf[CV];function AV(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=kM({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=y.useCallback(f=>{c&&Q_?Q_(()=>l(f)):l(f)},[l,c]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>vV(r),[r]),y.createElement(wV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const IV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NV=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=_V(e,SV),{basename:g}=y.useContext(Di),S,v=!1;if(typeof c=="string"&&kV.test(c)&&(S=c,IV))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=ew(I.pathname,g);I.origin===b.origin&&P!=null?c=P+I.search+I.hash:v=!0}catch{}let E=rV(c,{relative:s}),_=PV(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||_(b)}return y.createElement("a",Xg({},p,{href:S||E,onClick:v||i?r:w,ref:n,target:l}))});var Y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var Z_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z_||(Z_={}));function PV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=hr(),c=Do(),h=fA(t,{relative:o});return y.useCallback(f=>{if(bV(f,n)){f.preventDefault();let p=r!==void 0?r:$h(c)===$h(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const Qo={en:{appName:"Smart Crop Advisory",tagline:"Daily farming decisions using weather",selectLanguage:"Select Language",choosePreferredLanguage:"Choose your preferred language for the app",madeForFarmers:"Made for farmers ",welcomeFarmer:"Welcome, Farmer! ",tellUsAboutFarm:"Tell us about your farm",yourName:"Your Name",optional:"(Optional)",enterYourName:"Enter your name",villageDistrict:"Village / District",required:"*",enterVillageDistrict:"Enter your village or district",primaryCrop:"Primary Crop",selectMainCrop:"Select your main crop",soilType:"Soil Type",selectSoilType:"Select soil type",farmingSeason:"Farming Season",selectSeason:"Select season",farmSize:"Farm Size",selectFarmSize:"Select farm size",profileNote:"This information helps provide accurate farming advice tailored to your needs. Your data stays on your device.",saveAndContinue:"Save & Continue",rice:"Rice",wheat:"Wheat",cotton:"Cotton",tomato:"Tomato",blackSoil:"Black Soil",redSoil:"Red Soil",sandySoil:"Sandy Soil",alluvialSoil:"Alluvial Soil",kharif:"Kharif (Monsoon)",rabi:"Rabi (Winter)",zaid:"Zaid (Summer)",small:"Small (< 2 acres)",medium:"Medium (2-5 acres)",large:"Large (> 5 acres)",addFarm:"Add Farm",addNewFarm:"Add New Farm",farmName:"Farm Name",enterFarmName:"e.g., North Field, Main Plot...",selectCrops:"Select Crops",unnamedFarm:"Unnamed Farm",myFarms:"My Farms",noFarmsYet:"No farms added yet",addFirstFarm:"Add your first farm to get started",getAdviceForFarm:"Get Advice for This Farm",getTodaysAdvice:"Get Today's Advice",weatherPoweredGuidance:"Weather-powered guidance",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",farmer:"Farmer",yourCrops:"Your Crops",viewAll:"View All",cropsLabel:"crops",quickActions:"Quick Actions",home:"Home",advisory:"Advisory",calendar:"Calendar",settings:"Settings",selectLocation:"Select Location",enterCityDistrict:"Enter City / District",cityPlaceholder:"e.g., Hyderabad, Nagpur...",or:"OR",useGPSLocation:"Use GPS Location",detectingLocation:"Detecting Location...",continue:"Continue",locationNote:"Enter your city or district to get location-specific weather and farming advice.",cropAndSoil:"Crop & Soil",selectCrop:"Select Crop",chooseCrop:"Choose your crop...",chooseSoilType:"Choose soil type...",readyForAdvisory:"Ready to get your advisory!",todaysAdvisory:"Today's Advisory",currentWeather:"Current Weather",quickTips:"Quick Tips",bestIrrigationTime:" Best irrigation time: 6-8 AM",fertilizerTip:" Fertilizer: Evening preferred",temperature:"Temperature",humidity:"Humidity",rainfall:"Rainfall",whatShouldIDoToday:"What should I do today?",advisoryPlaceholder:"Based on current weather conditions, it's a good day for irrigation. The temperature is optimal for crop growth. Consider applying fertilizer in the evening when temperatures are cooler. Monitor for pest activity due to high humidity.",heavyRainfallWarning:"Heavy rainfall expected tomorrow. Plan your irrigation accordingly.",lowRisk:"Low Risk",mediumRisk:"Medium Risk",highRisk:"High Risk",cropCalendar:"Crop Calendar",calendarNote:" Calendar varies by region. Consult your local agricultural office for specific dates.",knowBestTimes:"Know the best times to sow and harvest your crops",sowingSeason:"Sowing",harvestWindow:"Harvest",ricePaddy:"Rice (Paddy)",riceSowing:"June - July (Kharif)",riceHarvest:"November - December",wheatSowing:"October - November (Rabi)",wheatHarvest:"March - April",cottonSowing:"April - May",cottonHarvest:"October - December",tomatoSowing:"Year-round (varies by region)",tomatoHarvest:"60-90 days after sowing",fiveDayForecast:"5-Day Forecast",tomorrow:"Tomorrow",threeDayPlan:"3-Day Farm Plan",day:"Day",language:"Language",offlineMode:"Offline Mode",offlineModeInfo:"This app can work offline. Your last viewed advisory and crop calendar will be available even without an internet connection.",lastSynced:" Last synced: Today, 8:30 AM",about:"About",version:"Version 1.0.0",aboutDescription:"A weather-integrated farming advisory system designed to help farmers make informed decisions about their daily agricultural activities.",developedWith:"Developed with  for the farming community.",notifications:"Notifications",notificationsNotSupported:"Push notifications are not supported on this device or browser.",weatherAlerts:"Weather Alerts",alertsEnabled:"You'll receive weather warnings",alertsDisabled:"Enable to get weather warnings",alertsDescription:"Get notified about extreme weather conditions that may affect your crops:",heavyRainAlert:"Heavy rain (>20mm)",frostAlert:"Frost warning (<5C)",heatAlert:"Heat warning (>40C)",windAlert:"Strong wind (>40 km/h)",enabling:"Enabling...",enableAlerts:"Enable Weather Alerts",notificationsDenied:"Notifications are blocked. Please enable them in your browser settings.",dismiss:"Dismiss",highHumidityAlert:"High humidity (>85%)",diseaseRiskAlert:"Disease risk",pestActivityAlert:"Pest activity alert",irrigationAdvisoryAlert:"Irrigation needed",activeAlerts:"Active Weather Alerts",alertRecommendation:"Recommended Action",alertAction:"What to Do",noActiveAlerts:"No active weather alerts",viewDetails:"View Details",pestAlerts:"Pest & Disease Alerts",pestAlertsSubtitle:"Based on current weather conditions",preventiveMeasures:"Preventive Measures",login:"Login",signUp:"Sign Up",email:"Email",password:"Password",enterEmail:"Enter your email",enterPassword:"Enter your password",pleaseWait:"Please wait...",dontHaveAccount:"Don't have an account? Sign up",alreadyHaveAccount:"Already have an account? Login",invalidCredentials:"Invalid email or password",userAlreadyExists:"An account with this email already exists",unexpectedError:"An unexpected error occurred",logout:"Logout",loggingOut:"Logging out...",account:"Account",loading:"Loading...",stopListening:"Stop",listenToAdvice:"Listen to Advice",confirmPassword:"Confirm Password",reEnterPassword:"Re-enter your password",passwordsDoNotMatch:"Passwords do not match",loginOrSignUp:"Login / Sign Up",otpDescription:"We'll send you a one-time code to verify your email",sendOtp:"Send OTP",enterOtp:"Enter OTP",otpSentTo:"We sent a 6-digit code to",verifyAndLogin:"Verify & Login",resendOtp:"Resend OTP",resendOtpIn:"Resend OTP in",enterValidOtp:"Please enter a valid 6-digit OTP",otpExpiredOrInvalid:"OTP expired or invalid. Please request a new one."},hi:{appName:"  ",tagline:"       ",selectLanguage:" ",choosePreferredLanguage:"      ",madeForFarmers:"     ",welcomeFarmer:" , ! ",tellUsAboutFarm:"     ",yourName:" ",optional:"()",enterYourName:"   ",villageDistrict:" / ",required:"*",enterVillageDistrict:"     ",primaryCrop:" ",selectMainCrop:"   ",soilType:"  ",selectSoilType:"   ",farmingSeason:"  ",selectSeason:" ",farmSize:"  ",selectFarmSize:"   ",profileNote:"                     ",saveAndContinue:"   ",rice:"",wheat:"",cotton:"",tomato:"",blackSoil:" ",redSoil:" ",sandySoil:" ",alluvialSoil:" ",kharif:" ()",rabi:" ()",zaid:" ()",small:" (< 2 )",medium:" (2-5 )",large:" (> 5 )",addFarm:" ",addNewFarm:"  ",farmName:"  ",enterFarmName:",  ,  ...",selectCrops:" ",unnamedFarm:" ",myFarms:" ",noFarmsYet:"      ",addFirstFarm:"       ",getAdviceForFarm:"     ",getTodaysAdvice:"    ",weatherPoweredGuidance:"  ",goodMorning:"",goodAfternoon:"",goodEvening:" ",farmer:"",yourCrops:" ",viewAll:" ",cropsLabel:"",quickActions:" ",home:"",advisory:"",calendar:"",settings:"",selectLocation:" ",enterCityDistrict:" /   ",cityPlaceholder:", , ...",or:"",useGPSLocation:"GPS    ",detectingLocation:"   ...",continue:" ",locationNote:"-             ",cropAndSoil:"  ",selectCrop:" ",chooseCrop:"  ...",chooseSoilType:"   ...",readyForAdvisory:"     !",todaysAdvisory:"  ",currentWeather:" ",quickTips:" ",bestIrrigationTime:"     :  6-8 ",fertilizerTip:" :   ",temperature:"",humidity:"",rainfall:"",whatShouldIDoToday:"    ?",advisoryPlaceholder:"      ,                                   ",heavyRainfallWarning:"          ",lowRisk:" ",mediumRisk:" ",highRisk:" ",cropCalendar:" ",calendarNote:"                  ",knowBestTimes:"          ",sowingSeason:"",harvestWindow:"",ricePaddy:" ()",riceSowing:" -  ()",riceHarvest:" - ",wheatSowing:" -  ()",wheatHarvest:" - ",cottonSowing:" - ",cottonHarvest:" - ",tomatoSowing:"  (  )",tomatoHarvest:"  60-90  ",fiveDayForecast:"5   ",tomorrow:"",threeDayPlan:"3-   ",day:"",language:"",offlineMode:" ",offlineModeInfo:"                     ",lastSynced:"  : ,  8:30 ",about:"  ",version:" 1.0.0",aboutDescription:" -                         ",developedWith:"       ",notifications:"",notificationsNotSupported:"         ",weatherAlerts:" ",alertsEnabled:"   ",alertsDisabled:"      ",alertsDescription:"               :",heavyRainAlert:"  (>20mm)",frostAlert:"  (<5C)",heatAlert:"  (>40C)",windAlert:"  (>40 km/h)",enabling:"   ...",enableAlerts:"   ",notificationsDenied:"          ",dismiss:" ",highHumidityAlert:"  (>85%)",diseaseRiskAlert:"  ",pestActivityAlert:"  ",irrigationAdvisoryAlert:"  ",activeAlerts:"  ",alertRecommendation:" ",alertAction:" ",noActiveAlerts:"    ",viewDetails:" ",pestAlerts:"   ",pestAlertsSubtitle:"     ",preventiveMeasures:" ",login:"",signUp:" ",email:"",password:"",enterEmail:"   ",enterPassword:"   ",pleaseWait:"  ...",dontHaveAccount:"  ?   ",alreadyHaveAccount:"   ?  ",invalidCredentials:"   ",userAlreadyExists:"       ",unexpectedError:"   ",logout:"",loggingOut:"   ...",account:"",loading:"   ...",stopListening:"",listenToAdvice:" ",confirmPassword:"   ",reEnterPassword:"   ",passwordsDoNotMatch:"   ",loginOrSignUp:" /  ",otpDescription:"          ",sendOtp:"OTP ",enterOtp:"OTP  ",otpSentTo:" 6     ",verifyAndLogin:"    ",resendOtp:"OTP  ",resendOtpIn:"OTP  ",enterValidOtp:"   6   OTP  ",otpExpiredOrInvalid:"OTP        "},mr:{appName:"  ",tagline:"    ",selectLanguage:" ",choosePreferredLanguage:"    ",madeForFarmers:"  ",welcomeFarmer:" , ! ",tellUsAboutFarm:"  ",yourName:" ",optional:"()",enterYourName:"   ",villageDistrict:" / ",required:"*",enterVillageDistrict:"     ",primaryCrop:" ",selectMainCrop:"   ",soilType:" ",selectSoilType:"  ",farmingSeason:" ",selectSeason:" ",farmSize:" ",selectFarmSize:"  ",profileNote:"              ",saveAndContinue:"    ",rice:"",wheat:"",cotton:"",tomato:"",blackSoil:" ",redSoil:" ",sandySoil:" ",alluvialSoil:" ",kharif:" ()",rabi:" ()",zaid:" ()",small:" (< 2 )",medium:" (2-5 )",large:" (> 5 )",addFarm:" ",addNewFarm:"  ",farmName:" ",enterFarmName:".,  ,  ...",selectCrops:" ",unnamedFarm:"  ",myFarms:" ",noFarmsYet:"    ",addFirstFarm:"     ",getAdviceForFarm:"   ",getTodaysAdvice:"  ",weatherPoweredGuidance:"- ",goodMorning:"",goodAfternoon:"",goodEvening:" ",farmer:"",yourCrops:" ",viewAll:" ",cropsLabel:"",quickActions:" ",home:"",advisory:"",calendar:"",settings:"",selectLocation:" ",enterCityDistrict:" /   ",cityPlaceholder:"., , ...",or:"",useGPSLocation:"GPS  ",detectingLocation:"  ...",continue:" ",locationNote:"-           .",cropAndSoil:"  ",selectCrop:" ",chooseCrop:"  ...",chooseSoilType:"  ...",readyForAdvisory:"  !",todaysAdvisory:" ",currentWeather:" ",quickTips:" ",bestIrrigationTime:"   :  6-8",fertilizerTip:" :  ",temperature:"",humidity:"",rainfall:"",whatShouldIDoToday:"   ?",advisoryPlaceholder:"   ,     .     .         .      .",heavyRainfallWarning:"    .    .",lowRisk:" ",mediumRisk:" ",highRisk:" ",cropCalendar:" ",calendarNote:"   .        .",knowBestTimes:"        ",sowingSeason:"",harvestWindow:"",ricePaddy:" ()",riceSowing:" -  ()",riceHarvest:" - ",wheatSowing:" -  ()",wheatHarvest:" - ",cottonSowing:" - ",cottonHarvest:" - ",tomatoSowing:" ()",tomatoHarvest:" 60-90 ",fiveDayForecast:"5  ",tomorrow:"",threeDayPlan:"3-  ",day:"",language:"",offlineMode:" ",offlineModeInfo:"     .            .",lastSynced:"  : ,  8:30",about:"",version:" 1.0.0",aboutDescription:"            -   .",developedWith:"    .",notifications:"",notificationsNotSupported:"       .",weatherAlerts:" ",alertsEnabled:"   ",alertsDisabled:"    ",alertsDescription:"        :",heavyRainAlert:"  (>20mm)",frostAlert:"  (<5C)",heatAlert:"  (>40C)",windAlert:"  (>40 km/h)",enabling:"  ...",enableAlerts:"   ",notificationsDenied:"  .       .",dismiss:" ",pestAlerts:"   ",pestAlertsSubtitle:"   ",preventiveMeasures:" ",login:"",signUp:" ",email:"",password:"",enterEmail:"   ",enterPassword:"   ",pleaseWait:"  ...",dontHaveAccount:" ?   ",alreadyHaveAccount:"  ?  ",invalidCredentials:"   ",userAlreadyExists:"     ",unexpectedError:"   ",logout:"",loggingOut:"  ...",account:"",loading:"  ...",stopListening:"",listenToAdvice:" ",confirmPassword:"  ",reEnterPassword:"   ",passwordsDoNotMatch:"  ",loginOrSignUp:" /  ",otpDescription:"       ",sendOtp:"OTP ",enterOtp:"OTP  ",otpSentTo:" 6    ",verifyAndLogin:"    ",resendOtp:"OTP  ",resendOtpIn:"OTP  ",enterValidOtp:"  6  OTP  ",otpExpiredOrInvalid:"OTP    .    ."},ta:{appName:"Smart Crop Advisory",tagline:"   ",selectLanguage:" ",choosePreferredLanguage:"   ",madeForFarmers:"  ",welcomeFarmer:" ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"  ",villageDistrict:" / ",primaryCrop:" ",selectMainCrop:"   ",soilType:" ",selectSoilType:"  ",farmingSeason:" ",selectSeason:" ",farmSize:" ",selectFarmSize:"  ",addFarm:" ",farmName:" ",myFarms:" ",home:"",advisory:"",calendar:"",settings:"",currentWeather:" ",todaysAdvisory:" ",getTodaysAdvice:"  ",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",farmer:"",yourCrops:" ",fiveDayForecast:"5  ",language:"",about:"",notifications:"",weatherAlerts:" ",activeAlerts:" ",listenToAdvice:" ",stopListening:"",loading:"...",notifications:"",notificationsNotSupported:"      .",alertsEnabled:"   ",alertsDisabled:"    ",alertsDescription:"       :",heavyRainAlert:"  (>20mm)",heavyRainfallWarning:"   .   .",frostAlert:"  (<5C)",heatAlert:"  (>40C)",windAlert:"  (>40 km/h)",highHumidityAlert:"  (>85%)",diseaseRiskAlert:"  ",pestActivityAlert:"  ",irrigationAdvisoryAlert:"   ",alertRecommendation:" ",alertAction:"  ",noActiveAlerts:"   ",preventiveMeasures:" ",enabling:"...",enableAlerts:"  ",notificationsDenied:" .     ",logout:"",login:"",email:"",password:"",continue:""},te:{appName:"  ",tagline:"  ",selectLanguage:" ",choosePreferredLanguage:"   ",madeForFarmers:"    ",welcomeFarmer:" ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"   ",villageDistrict:" / ",primaryCrop:" ",selectMainCrop:"   ",soilType:" ",selectSoilType:"  ",farmingSeason:" ",selectSeason:" ",farmSize:" ",selectFarmSize:"  ",addFarm:" ",farmName:" ",myFarms:" ",home:"",advisory:"",calendar:"",settings:"",currentWeather:" ",todaysAdvisory:"  ",getTodaysAdvice:"   ",goodMorning:"",goodAfternoon:"",goodEvening:"",farmer:"",yourCrops:" ",fiveDayForecast:"5  ",language:"",about:"",notifications:"",weatherAlerts:" ",activeAlerts:" ",listenToAdvice:" ",stopListening:"",loading:" ...",logout:"",login:"",email:"",password:"",continue:"",notifications:"",notificationsNotSupported:"       .",alertsEnabled:"   ",alertsDisabled:"   ",alertsDescription:"        :",heavyRainAlert:"  (>20mm)",heavyRainfallWarning:"    .    .",frostAlert:"/ ()  (<5C)",heatAlert:"   (>40C)",windAlert:"  (>40 km/h)",highHumidityAlert:"  (>85%)",diseaseRiskAlert:" ",pestActivityAlert:"  ",irrigationAdvisoryAlert:" ",alertRecommendation:" ",alertAction:" ",noActiveAlerts:" ",preventiveMeasures:" ",enabling:" ...",enableAlerts:"   ",notificationsDenied:"  .     "},kn:{appName:"  ",tagline:"  ",selectLanguage:"  ",choosePreferredLanguage:"    ",madeForFarmers:"  ",welcomeFarmer:" ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"  ",villageDistrict:" / ",required:"*",currentWeather:" ",todaysAdvisory:"  ",getTodaysAdvice:"   ",notifications:"",weatherAlerts:" ",listenToAdvice:" ",stopListening:"",loading:" ...",notificationsNotSupported:"       ",alertsEnabled:"   ",alertsDisabled:"   ",alertsDescription:"        :",heavyRainAlert:"  (>20mm)",heavyRainfallWarning:"    .   .",frostAlert:"   (<5C)",heatAlert:"   (>40C)",windAlert:"  (>40 km/h)",highHumidityAlert:"  (>85%)",diseaseRiskAlert:" ",pestActivityAlert:"  ",irrigationAdvisoryAlert:" ",alertRecommendation:"  ",alertAction:" ",noActiveAlerts:"   ",preventiveMeasures:" ",enabling:" ...",enableAlerts:"  ",notificationsDenied:" .      "},bn:{appName:"  ",tagline:"    ",selectLanguage:"  ",choosePreferredLanguage:"    ",madeForFarmers:"   ",welcomeFarmer:" ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"  ",villageDistrict:" / ",required:"*",enterVillageDistrict:"    ",currentWeather:" ",todaysAdvisory:" ",getTodaysAdvice:"  ",activeAlerts:" ",notifications:"",weatherAlerts:" ",enableAlerts:"   ",listenToAdvice:" ",stopListening:"",loading:" ..."},gu:{appName:"  ",tagline:"    ",selectLanguage:"  ",choosePreferredLanguage:"    ",madeForFarmers:"    ",welcomeFarmer:"  ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"   ",villageDistrict:" / ",required:"*",currentWeather:" ",todaysAdvisory:" ",getTodaysAdvice:"  ",notifications:"",weatherAlerts:" ",listenToAdvice:" ",stopListening:" ",loading:"   ..."},or:{appName:"  ",tagline:"  ",selectLanguage:"  ",choosePreferredLanguage:"   ",madeForFarmers:"   ",welcomeFarmer:"  ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"   ",villageDistrict:" / ",primaryCrop:" ",selectMainCrop:"    ",soilType:" ",selectSoilType:"   ",farmingSeason:" ",selectSeason:"  ",farmSize:" ",selectFarmSize:"   ",addFarm:"  ",farmName:" ",myFarms:" ",home:"",advisory:"",calendar:"",settings:"",currentWeather:" ",todaysAdvisory:" ",getTodaysAdvice:"  ",goodMorning:"",goodAfternoon:" ",goodEvening:" ",farmer:"",yourCrops:" ",fiveDayForecast:"  ",language:"",about:"",notifications:"",weatherAlerts:" ",activeAlerts:" ",listenToAdvice:" ",stopListening:" ",loading:" ...",logout:"",login:"",email:"",password:"",continue:" "},ml:{appName:"  ",tagline:"    ",selectLanguage:" ",choosePreferredLanguage:"  ",madeForFarmers:"  ",welcomeFarmer:" ! ",tellUsAboutFarm:"   ",yourName:" ",optional:"()",enterYourName:"  ",villageDistrict:" / ",primaryCrop:" ",selectMainCrop:"   ",soilType:" ",selectSoilType:"  ",farmingSeason:" ",selectSeason:" ",farmSize:" ",selectFarmSize:"  ",addFarm:" ",farmName:" ",myFarms:" ",home:"",advisory:"",calendar:"",settings:"",currentWeather:" ",todaysAdvisory:" ",getTodaysAdvice:"  ",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",farmer:"",yourCrops:" ",fiveDayForecast:"5  ",language:"",about:"",notifications:"",weatherAlerts:" ",activeAlerts:" ",listenToAdvice:" ",stopListening:"",loading:" ...",logout:"",login:"",email:"",password:"",continue:""},pa:{appName:"  ",tagline:"    ",selectLanguage:" ",choosePreferredLanguage:"   ",madeForFarmers:"    ",welcomeFarmer:"  ! ",tellUsAboutFarm:"    ",yourName:" ",optional:"()",enterYourName:"   ",villageDistrict:" / ",primaryCrop:" ",selectMainCrop:"   ",soilType:"  ",selectSoilType:"   ",farmingSeason:"  ",selectSeason:" ",farmSize:"  ",selectFarmSize:"   ",addFarm:"  ",farmName:"  ",myFarms:" ",home:"",advisory:"",calendar:"",settings:"",currentWeather:" ",todaysAdvisory:"  ",getTodaysAdvice:"   ",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",farmer:"",yourCrops:" ",fiveDayForecast:"5   ",language:"",about:"",notifications:"",weatherAlerts:" ",activeAlerts:" ",listenToAdvice:" ",stopListening:"",loading:"   ...",logout:" ",login:"",email:"",password:"",continue:" "}},yA=y.createContext(void 0),RV=({children:t})=>{const[e,n]=y.useState(()=>localStorage.getItem("selectedLanguage")||"en");y.useEffect(()=>{try{const i=Object.keys(Qo.en);Object.keys(Qo).forEach(o=>{if(o==="en")return;const a=Qo[o],l=[];i.forEach(c=>{c in a||(l.push(c),a[c]=Qo.en[c])}),l.length>0&&console.info(`i18n: Filled ${l.length} missing keys for '${o}'. Keys:`,l)})}catch{}},[]);const r=i=>{n(i),localStorage.setItem("selectedLanguage",i)},s=i=>Qo[e][i]||Qo.en[i]||i;return y.useEffect(()=>{document.documentElement.lang=e},[e]),d.jsx(yA.Provider,{value:{language:e,setLanguage:r,t:s},children:t})},et=()=>{const t=y.useContext(yA);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},jV=()=>{};var X_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},OV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},wA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new DV;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LV=function(t){const e=vA(t);return wA.encodeByteArray(e,!0)},zh=function(t){return LV(t).replace(/\./g,"")},xA=function(t){try{return wA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=()=>MV().__FIREBASE_DEFAULTS__,FV=()=>{if(typeof process>"u"||typeof X_>"u")return;const t=X_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xA(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return jV()||VV()||FV()||UV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_A=t=>{var e,n;return(n=(e=tp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},EA=t=>{const e=_A(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bA=()=>{var t;return(t=tp())==null?void 0:t.config},SA=t=>{var e;return(e=tp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zh(JSON.stringify(n)),zh(JSON.stringify(o)),""].join(".")}const bc={};function BV(){const t={prod:[],emulator:[]};for(const e of Object.keys(bc))bc[e]?t.emulator.push(e):t.prod.push(e);return t}function WV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let J_=!1;function iw(t,e){if(typeof window>"u"||typeof document>"u"||!Mi(window.location.host)||bc[t]===e||bc[t]||J_)return;bc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=BV().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{J_=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=WV(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(E,v);const I=c();l(w,_),b.append(w,S,E,I),document.body.appendChild(b)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function qV(){var e;const t=(e=tp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YV(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZV(){return!qV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XV(){try{return typeof indexedDB=="object"}catch{return!1}}function JV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e5,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?t5(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qr(s,a,r)}}function t5(t,e){return t.replace(n5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const n5=/\{\$([^}]+)}/g;function r5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(eE(i)&&eE(o)){if(!wo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function eE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s5(t,e){const n=new i5(t,e);return n.subscribe.bind(n)}class i5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");o5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_m),s.error===void 0&&(s.error=_m),s.complete===void 0&&(s.complete=_m);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $V;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c5(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l5(t){return t===Yi?void 0:t}function c5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const d5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},h5=Ae.INFO,f5={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},p5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=f5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ow{constructor(e){this.name=e,this._logLevel=h5,this._logHandler=p5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const m5=(t,e)=>e.some(n=>t instanceof n);let tE,nE;function g5(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y5(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TA=new WeakMap,Jg=new WeakMap,CA=new WeakMap,Em=new WeakMap,aw=new WeakMap;function v5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(di(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TA.set(n,t)}).catch(()=>{}),aw.set(e,t),e}function w5(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jg.set(t,e)}let ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x5(t){ey=t(ey)}function _5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bm(this),e,...n);return CA.set(r,e.sort?e.sort():[e]),di(r)}:y5().includes(t)?function(...e){return t.apply(bm(this),e),di(TA.get(this))}:function(...e){return di(t.apply(bm(this),e))}}function E5(t){return typeof t=="function"?_5(t):(t instanceof IDBTransaction&&w5(t),m5(t,g5())?new Proxy(t,ey):t)}function di(t){if(t instanceof IDBRequest)return v5(t);if(Em.has(t))return Em.get(t);const e=E5(t);return e!==t&&(Em.set(t,e),aw.set(e,t)),e}const bm=t=>aw.get(t);function b5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(di(o.result),l.oldVersion,l.newVersion,di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const S5=["get","getKey","getAll","getAllKeys","count"],T5=["put","add","delete","clear"],Sm=new Map;function rE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=T5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||S5.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Sm.set(e,i),i}x5(t=>({...t,get:(e,n,r)=>rE(e,n)||t.get(e,n,r),has:(e,n)=>!!rE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ty="@firebase/app",sE="0.14.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ow("@firebase/app"),I5="@firebase/app-compat",k5="@firebase/analytics-compat",N5="@firebase/analytics",P5="@firebase/app-check-compat",R5="@firebase/app-check",j5="@firebase/auth",O5="@firebase/auth-compat",D5="@firebase/database",L5="@firebase/data-connect",M5="@firebase/database-compat",V5="@firebase/functions",F5="@firebase/functions-compat",U5="@firebase/installations",$5="@firebase/installations-compat",z5="@firebase/messaging",B5="@firebase/messaging-compat",W5="@firebase/performance",H5="@firebase/performance-compat",q5="@firebase/remote-config",K5="@firebase/remote-config-compat",G5="@firebase/storage",Q5="@firebase/storage-compat",Y5="@firebase/firestore",Z5="@firebase/ai",X5="@firebase/firestore-compat",J5="firebase",e3="12.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="[DEFAULT]",t3={[ty]:"fire-core",[I5]:"fire-core-compat",[N5]:"fire-analytics",[k5]:"fire-analytics-compat",[R5]:"fire-app-check",[P5]:"fire-app-check-compat",[j5]:"fire-auth",[O5]:"fire-auth-compat",[D5]:"fire-rtdb",[L5]:"fire-data-connect",[M5]:"fire-rtdb-compat",[V5]:"fire-fn",[F5]:"fire-fn-compat",[U5]:"fire-iid",[$5]:"fire-iid-compat",[z5]:"fire-fcm",[B5]:"fire-fcm-compat",[W5]:"fire-perf",[H5]:"fire-perf-compat",[q5]:"fire-rc",[K5]:"fire-rc-compat",[G5]:"fire-gcs",[Q5]:"fire-gcs-compat",[Y5]:"fire-fst",[X5]:"fire-fst-compat",[Z5]:"fire-vertex","fire-js":"fire-js",[J5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,n3=new Map,ry=new Map;function iE(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){const e=t.name;if(ry.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of Bh.values())iE(n,t);for(const n of n3.values())iE(n,t);return!0}function np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new Ru("app","Firebase",r3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=e3;function AA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ny,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hi.create("bad-app-name",{appName:String(s)});if(n||(n=bA()),!n)throw hi.create("no-options");const i=Bh.get(s);if(i){if(wo(n,i.options)&&wo(r,i.config))return i;throw hi.create("duplicate-app",{appName:s})}const o=new u5(s);for(const l of ry.values())o.addComponent(l);const a=new s3(n,r,o);return Bh.set(s,a),a}function lw(t=ny){const e=Bh.get(t);if(!e&&t===ny&&bA())return AA();if(!e)throw hi.create("no-app",{appName:t});return e}function Or(t,e,n){let r=t3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(o.join(" "));return}xo(new Ei(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="firebase-heartbeat-database",o3=1,eu="firebase-heartbeat-store";let Tm=null;function IA(){return Tm||(Tm=b5(i3,o3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),Tm}async function a3(t){try{const n=(await IA()).transaction(eu),r=await n.objectStore(eu).get(kA(t));return await n.done,r}catch(e){if(e instanceof qr)ms.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(n.message)}}}async function oE(t,e){try{const r=(await IA()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,kA(t)),await r.done}catch(n){if(n instanceof qr)ms.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ms.warn(r.message)}}}function kA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=1024,c3=30;class u3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>c3){const o=f3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aE(),{heartbeatsToSend:r,unsentEntries:s}=d3(this._heartbeatsCache.heartbeats),i=zh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ms.warn(n),""}}}function aE(){return new Date().toISOString().substring(0,10)}function d3(t,e=l3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),lE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XV()?JV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lE(t){return zh(JSON.stringify({version:2,heartbeats:t})).length}function f3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){xo(new Ei("platform-logger",e=>new C5(e),"PRIVATE")),xo(new Ei("heartbeat",e=>new u3(e),"PRIVATE")),Or(ty,sE,t),Or(ty,sE,"esm2020"),Or("fire-js","")}p3("");function NA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m3=NA,PA=new Ru("auth","Firebase",NA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new ow("@firebase/auth");function g3(t,...e){Wh.logLevel<=Ae.WARN&&Wh.warn(`Auth (${bl}): ${t}`,...e)}function Jd(t,...e){Wh.logLevel<=Ae.ERROR&&Wh.error(`Auth (${bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw cw(t,...e)}function Dr(t,...e){return cw(t,...e)}function RA(t,e,n){const r={...m3(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return RA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PA.create(t,...e)}function de(t,e,...n){if(!t)throw cw(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function gs(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function y3(){return cE()==="http:"||cE()==="https:"}function cE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y3()||GV()||"connection"in navigator)?navigator.onLine:!0}function w3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=HV()||QV()}get(){return v3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E3=new Ou(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fi(t,e,n,r,s={}){return OA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ju({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return KV()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Mi(t.emulatorConfig.host)&&(c.credentials="include"),jA.fetch()(await DA(t,t.config.apiHost,n,a),c)})}async function OA(t,e,n){t._canInitEmulator=!1;const r={...x3,...e};try{const s=new S3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RA(t,h,c);ur(t,h)}}catch(s){if(s instanceof qr)throw s;ur(t,"network-request-failed",{message:String(s)})}}async function Du(t,e,n,r,s={}){const i=await Fi(t,e,n,r,s);return"mfaPendingCredential"in i&&ur(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function DA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?uw(t.config,s):`${t.config.apiScheme}://${s}`;return _3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function b3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),E3.get())})}}function Cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dr(t,e,r);return s.customData._tokenResponse=n,s}function uE(t){return t!==void 0&&t.enterprise!==void 0}class T3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C3(t,e){return Fi(t,"GET","/v2/recaptchaConfig",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function Hh(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I3(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),s=dw(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sc(Cm(s.auth_time)),issuedAtTime:Sc(Cm(s.iat)),expirationTime:Sc(Cm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cm(t){return Number(t)*1e3}function dw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const s=xA(n);return s?JSON.parse(s):(Jd("Failed to decode base64 JWT payload"),null)}catch(s){return Jd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dE(t){const e=dw(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&k3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function k3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await tu(t,Hh(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?LA(s.providerUserInfo):[],o=R3(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function P3(t){const e=Xt(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e){const n=await OA(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await DA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Mi(t.emulatorConfig.host)&&(l.credentials="include"),jA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O3(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await j3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ia;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new N3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I3(this,e)}reload(){return P3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await tu(this,A3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:v}=n;de(f&&v,e,"internal-error");const E=Ia.fromJSON(this.name,v);de(typeof f=="string",e,"internal-error"),Ps(r,e.name),Ps(s,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof g=="boolean",e,"internal-error"),Ps(i,e.name),Ps(o,e.name),Ps(a,e.name),Ps(l,e.name),Ps(c,e.name),Ps(h,e.name);const _=new tr({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(_.providerData=S.map(w=>({...w}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ia;s.updateFromServerResponse(n);const i=new tr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ia;a.updateFromIdToken(r);const l=new tr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function is(t){gs(t instanceof Function,"Expected a class definition");let e=hE.get(t);return e?(gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const fE=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=eh(this.userKey,s.apiKey,i),this.fullPersistenceKey=eh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hh(this.auth,{idToken:e}).catch(()=>{});return n?tr._fromGetAccountInfoResponse(this.auth,n,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ka(is(fE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||is(fE);const o=eh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const p=await Hh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await tr._fromGetAccountInfoResponse(e,p,h)}else f=tr._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ka(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ka(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BA(e))return"Blackberry";if(WA(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||UA(e))&&!e.includes("edge/"))return"Chrome";if(zA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VA(t=Zt()){return/firefox\//i.test(t)}function FA(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UA(t=Zt()){return/crios\//i.test(t)}function $A(t=Zt()){return/iemobile/i.test(t)}function zA(t=Zt()){return/android/i.test(t)}function BA(t=Zt()){return/blackberry/i.test(t)}function WA(t=Zt()){return/webos/i.test(t)}function hw(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D3(t=Zt()){var e;return hw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function L3(){return YV()&&document.documentMode===10}function HA(t=Zt()){return hw(t)||zA(t)||WA(t)||BA(t)||/windows phone/i.test(t)||$A(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e=[]){let n;switch(t){case"Browser":n=pE(Zt());break;case"Worker":n=`${pE(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",Vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=6;class U3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new M3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hh(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(as(this));const n=e?Xt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V3(this),n=new U3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await O3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lo(t){return Xt(t)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=s5(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z3(t){rp=t}function KA(t){return rp.loadJS(t)}function B3(){return rp.recaptchaEnterpriseScript}function W3(){return rp.gapiScript}function H3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q3{constructor(){this.enterprise=new K3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class K3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const G3="recaptcha-enterprise",GA="NO_RECAPTCHA";class Q3{constructor(e){this.type=G3,this.auth=Lo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{C3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new T3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;uE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(GA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&uE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=B3();l.length!==0&&(l+=a),KA(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function gE(t,e,n,r=!1,s=!1){const i=new Q3(t);let o;if(s)o=GA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function oy(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await gE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){const n=np(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(wo(i,e??{}))return s;ur(s,"already-initialized")}return n.initialize({options:e})}function Z3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X3(t,e,n){const r=Lo(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=QA(e),{host:o,port:a}=J3(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(wo(c,r.config.emulator)&&wo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Mi(o)?(sw(`${i}//${o}${l}`),iw("Auth",!0)):eF()}function QA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J3(t){const e=QA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:yE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:yE(o)}}}function yE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function tF(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return Du(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}async function sF(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends fw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,n,"signInWithPassword",nF);case"emailLink":return rF(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,r,"signUpPassword",tF);case"emailLink":return sF(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e){return Du(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="http://localhost";class _o extends fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new _o(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Na(e,n)}buildRequest(){const e={requestUri:iF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aF(t){const e=ic(oc(t)).link,n=e?ic(oc(e)).deep_link_id:null,r=ic(oc(t)).deep_link_id;return(r?ic(oc(r)).link:null)||r||n||e||t}class pw{constructor(e){const n=ic(oc(e)),r=n.apiKey??null,s=n.oobCode??null,i=oF(n.mode??null);de(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aF(e);try{return new pw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pw.parseLink(n);return de(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends YA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Lu{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Lu{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Lu{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return Du(t,"POST","/v1/accounts:signUp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await tr._fromIdTokenResponse(e,r,s),o=vE(r);return new Eo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=vE(r);return new Eo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function vE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends qr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kh(e,n,r,s)}}function ZA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(t,i,e,r):i})}async function cF(t,e,n=!1){const r=await tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e,n=!1){const{auth:r}=t;if(_n(r.app))return Promise.reject(as(r));const s="reauthenticate";try{const i=await tu(t,ZA(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=dw(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Eo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(t,e,n=!1){if(_n(t.app))return Promise.reject(as(t));const r="signIn",s=await ZA(t,r,e),i=await Eo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function dF(t,e){return XA(Lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t){const e=Lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hF(t,e,n){if(_n(t.app))return Promise.reject(as(t));const r=Lo(t),o=await oy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JA(t),l}),a=await Eo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function fF(t,e,n){return _n(t.app)?Promise.reject(as(t)):dF(Xt(t),Sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JA(t),r})}function pF(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function mF(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}function gF(t,e,n,r){return Xt(t).onAuthStateChanged(e,n,r)}function yF(t){return Xt(t).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=1e3,wF=10;class tI extends eI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);L3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tI.type="LOCAL";const xF=tI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends eI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nI.type="SESSION";const rI=nI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await _F(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=mw("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function bF(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function SF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function CF(){return sI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebaseLocalStorageDb",AF=1,Qh="firebaseLocalStorage",oI="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function IF(){const t=indexedDB.deleteDatabase(iI);return new Mu(t).toPromise()}function ay(){const t=indexedDB.open(iI,AF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qh,{keyPath:oI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),await IF(),e(await ay()))})})}async function wE(t,e,n){const r=ip(t,!0).put({[oI]:e,value:n});return new Mu(r).toPromise()}async function kF(t,e){const n=ip(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function xE(t,e){const n=ip(t,!0).delete(e);return new Mu(n).toPromise()}const NF=800,PF=3;class aI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sp._getInstance(CF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await SF(),!this.activeServiceWorker)return;this.sender=new EF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ay();return await wE(e,Gh,"1"),await xE(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ip(s,!1).getAll();return new Mu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aI.type="LOCAL";const RF=aI;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e){return e?is(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OF(t){return XA(t.auth,new gw(t),t.bypassAuthState)}function DF(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),uF(n,new gw(t),t.bypassAuthState)}async function LF(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),cF(n,new gw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OF;case"linkViaPopup":case"linkViaRedirect":return LF;case"reauthViaPopup":case"reauthViaRedirect":return DF;default:ur(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=new Ou(2e3,1e4);class ya extends lI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=mw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MF.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="pendingRedirect",th=new Map;class FF extends lI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await UF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UF(t,e){const n=BF(e),r=zF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $F(t,e){th.set(t._key(),e)}function zF(t){return is(t._redirectPersistence)}function BF(t){return eh(VF,t.config.apiKey,t.name)}async function WF(t,e,n=!1){if(_n(t.app))return Promise.reject(as(t));const r=Lo(t),s=jF(r,e),o=await new FF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=10*60*1e3;class qF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HF&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YF=/^https?/;async function ZF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GF(t);for(const n of e)try{if(XF(n))return}catch{}ur(t,"unauthorized-domain")}function XF(t){const e=sy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YF.test(n))return!1;if(QF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new Ou(3e4,6e4);function EE(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e6(t){return new Promise((e,n)=>{var s,i,o;function r(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(Dr(t,"network-request-failed"))},timeout:JF.get()})}if((i=(s=Lr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Lr().gapi)!=null&&o.load)r();else{const a=H3("iframefcb");return Lr()[a]=()=>{gapi.load?r():n(Dr(t,"network-request-failed"))},KA(`${W3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nh=null,e})}let nh=null;function t6(t){return nh=nh||e6(t),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Ou(5e3,15e3),r6="__/auth/iframe",s6="emulator/auth/iframe",i6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a6(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uw(e,s6):`https://${t.config.authDomain}/${r6}`,r={apiKey:e.apiKey,appName:t.name,v:bl},s=o6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ju(r).slice(1)}`}async function l6(t){const e=await t6(t),n=Lr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:a6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dr(t,"network-request-failed"),a=Lr().setTimeout(()=>{i(o)},n6.get());function l(){Lr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u6=500,d6=600,h6="_blank",f6="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p6(t,e,n,r=u6,s=d6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...c6,width:r.toString(),height:s.toString(),top:i,left:o},c=Zt().toLowerCase();n&&(a=UA(c)?h6:n),VA(c)&&(e=e||f6,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(D3(c)&&a!=="_self")return m6(e||"",a),new bE(null);const f=window.open(e||"",a,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new bE(f)}function m6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="__/auth/handler",y6="emulator/auth/handler",v6=encodeURIComponent("fac");async function SE(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bl,eventId:s};if(e instanceof YA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",r5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Lu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${v6}=${encodeURIComponent(l)}`:"";return`${w6(t)}?${ju(a).slice(1)}${c}`}function w6({config:t}){return t.emulator?uw(t,y6):`https://${t.authDomain}/${g6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class x6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rI,this._completeRedirectFn=WF,this._overrideRedirectResult=$F}async _openPopup(e,n,r,s){var o;gs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await SE(e,n,r,sy(),s);return p6(e,i,mw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await SE(e,n,r,sy(),s);return bF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(gs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l6(e),r=new qF(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Am];i!==void 0&&n(!!i),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HA()||FA()||hw()}}const _6=x6;var TE="@firebase/auth",CE="1.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S6(t){xo(new Ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(t)},c=new $3(r,s,i,l);return Z3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xo(new Ei("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(r=>new E6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(TE,CE,b6(t)),Or(TE,CE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=5*60,C6=SA("authIdTokenMaxAge")||T6;let AE=null;const A6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C6)return;const s=n==null?void 0:n.token;AE!==s&&(AE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function I6(t=lw()){const e=np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y3(t,{popupRedirectResolver:_6,persistence:[RF,xF,rI]}),r=SA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=A6(i.toString());mF(n,o,()=>o(n.currentUser)),pF(n,a=>o(a))}}const s=_A("auth");return s&&X3(n,`http://${s}`),n}function k6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}z3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",k6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S6("Browser");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,uI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function A(){}A.prototype=C.prototype,T.F=C.prototype,T.prototype=new A,T.prototype.constructor=T,T.D=function(N,j,O){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return C.prototype[j].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,C,A){A||(A=0);const N=Array(16);if(typeof C=="string")for(var j=0;j<16;++j)N[j]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(j=0;j<16;++j)N[j]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=T.g[0],A=T.g[1],j=T.g[2];let O=T.g[3],R;R=C+(O^A&(j^O))+N[0]+3614090360&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(j^C&(A^j))+N[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=j+(A^O&(C^A))+N[2]+606105819&4294967295,j=O+(R<<17&4294967295|R>>>15),R=A+(C^j&(O^C))+N[3]+3250441966&4294967295,A=j+(R<<22&4294967295|R>>>10),R=C+(O^A&(j^O))+N[4]+4118548399&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(j^C&(A^j))+N[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=j+(A^O&(C^A))+N[6]+2821735955&4294967295,j=O+(R<<17&4294967295|R>>>15),R=A+(C^j&(O^C))+N[7]+4249261313&4294967295,A=j+(R<<22&4294967295|R>>>10),R=C+(O^A&(j^O))+N[8]+1770035416&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(j^C&(A^j))+N[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=j+(A^O&(C^A))+N[10]+4294925233&4294967295,j=O+(R<<17&4294967295|R>>>15),R=A+(C^j&(O^C))+N[11]+2304563134&4294967295,A=j+(R<<22&4294967295|R>>>10),R=C+(O^A&(j^O))+N[12]+1804603682&4294967295,C=A+(R<<7&4294967295|R>>>25),R=O+(j^C&(A^j))+N[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=j+(A^O&(C^A))+N[14]+2792965006&4294967295,j=O+(R<<17&4294967295|R>>>15),R=A+(C^j&(O^C))+N[15]+1236535329&4294967295,A=j+(R<<22&4294967295|R>>>10),R=C+(j^O&(A^j))+N[1]+4129170786&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^j&(C^A))+N[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=j+(C^A&(O^C))+N[11]+643717713&4294967295,j=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(j^O))+N[0]+3921069994&4294967295,A=j+(R<<20&4294967295|R>>>12),R=C+(j^O&(A^j))+N[5]+3593408605&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^j&(C^A))+N[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=j+(C^A&(O^C))+N[15]+3634488961&4294967295,j=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(j^O))+N[4]+3889429448&4294967295,A=j+(R<<20&4294967295|R>>>12),R=C+(j^O&(A^j))+N[9]+568446438&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^j&(C^A))+N[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=j+(C^A&(O^C))+N[3]+4107603335&4294967295,j=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(j^O))+N[8]+1163531501&4294967295,A=j+(R<<20&4294967295|R>>>12),R=C+(j^O&(A^j))+N[13]+2850285829&4294967295,C=A+(R<<5&4294967295|R>>>27),R=O+(A^j&(C^A))+N[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=j+(C^A&(O^C))+N[7]+1735328473&4294967295,j=O+(R<<14&4294967295|R>>>18),R=A+(O^C&(j^O))+N[12]+2368359562&4294967295,A=j+(R<<20&4294967295|R>>>12),R=C+(A^j^O)+N[5]+4294588738&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^j)+N[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=j+(O^C^A)+N[11]+1839030562&4294967295,j=O+(R<<16&4294967295|R>>>16),R=A+(j^O^C)+N[14]+4259657740&4294967295,A=j+(R<<23&4294967295|R>>>9),R=C+(A^j^O)+N[1]+2763975236&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^j)+N[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=j+(O^C^A)+N[7]+4139469664&4294967295,j=O+(R<<16&4294967295|R>>>16),R=A+(j^O^C)+N[10]+3200236656&4294967295,A=j+(R<<23&4294967295|R>>>9),R=C+(A^j^O)+N[13]+681279174&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^j)+N[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=j+(O^C^A)+N[3]+3572445317&4294967295,j=O+(R<<16&4294967295|R>>>16),R=A+(j^O^C)+N[6]+76029189&4294967295,A=j+(R<<23&4294967295|R>>>9),R=C+(A^j^O)+N[9]+3654602809&4294967295,C=A+(R<<4&4294967295|R>>>28),R=O+(C^A^j)+N[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=j+(O^C^A)+N[15]+530742520&4294967295,j=O+(R<<16&4294967295|R>>>16),R=A+(j^O^C)+N[2]+3299628645&4294967295,A=j+(R<<23&4294967295|R>>>9),R=C+(j^(A|~O))+N[0]+4096336452&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~j))+N[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=j+(C^(O|~A))+N[14]+2878612391&4294967295,j=O+(R<<15&4294967295|R>>>17),R=A+(O^(j|~C))+N[5]+4237533241&4294967295,A=j+(R<<21&4294967295|R>>>11),R=C+(j^(A|~O))+N[12]+1700485571&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~j))+N[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=j+(C^(O|~A))+N[10]+4293915773&4294967295,j=O+(R<<15&4294967295|R>>>17),R=A+(O^(j|~C))+N[1]+2240044497&4294967295,A=j+(R<<21&4294967295|R>>>11),R=C+(j^(A|~O))+N[8]+1873313359&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~j))+N[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=j+(C^(O|~A))+N[6]+2734768916&4294967295,j=O+(R<<15&4294967295|R>>>17),R=A+(O^(j|~C))+N[13]+1309151649&4294967295,A=j+(R<<21&4294967295|R>>>11),R=C+(j^(A|~O))+N[4]+4149444226&4294967295,C=A+(R<<6&4294967295|R>>>26),R=O+(A^(C|~j))+N[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=j+(C^(O|~A))+N[2]+718787259&4294967295,j=O+(R<<15&4294967295|R>>>17),R=A+(O^(j|~C))+N[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.v=function(T,C){C===void 0&&(C=T.length);const A=C-this.blockSize,N=this.C;let j=this.h,O=0;for(;O<C;){if(j==0)for(;O<=A;)s(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<C;)if(N[j++]=T.charCodeAt(O++),j==this.blockSize){s(this,N),j=0;break}}else for(;O<C;)if(N[j++]=T[O++],j==this.blockSize){s(this,N),j=0;break}}this.h=j,this.o+=C},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;C=this.o*8;for(var A=T.length-8;A<T.length;++A)T[A]=C&255,C/=256;for(this.v(T),T=Array(16),C=0,A=0;A<4;++A)for(let N=0;N<32;N+=8)T[C++]=this.g[A]>>>N&255;return T};function i(T,C){var A=a;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=C(T)}function o(T,C){this.h=C;const A=[];let N=!0;for(let j=T.length-1;j>=0;j--){const O=T[j]|0;N&&O==C||(A[j]=O,N=!1)}this.g=A}var a={};function l(T){return-128<=T&&T<128?i(T,function(C){return new o([C|0],C<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return E(c(-T));const C=[];let A=1;for(let N=0;T>=A;N++)C[N]=T/A|0,A*=4294967296;return new o(C,0)}function h(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return E(h(T.substring(1),C));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(C,8));let N=f;for(let O=0;O<T.length;O+=8){var j=Math.min(8,T.length-O);const R=parseInt(T.substring(O,O+j),C);j<8?(j=c(Math.pow(C,j)),N=N.j(j).add(c(R))):(N=N.j(A),N=N.add(c(R)))}return N}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();let T=0,C=1;for(let A=0;A<this.g.length;A++){const N=this.i(A);T+=(N>=0?N:4294967296+N)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(v(this))return"-"+E(this).toString(T);const C=c(Math.pow(T,6));var A=this;let N="";for(;;){const j=I(A,C).g;A=_(A,j.j(C));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(T);if(A=j,S(A))return O+N;for(;O.length<6;)O="0"+O;N=O+N}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=_(this,T),v(T)?-1:S(T)?0:1};function E(T){const C=T.g.length,A=[];for(let N=0;N<C;N++)A[N]=~T.g[N];return new o(A,~T.h).add(p)}t.abs=function(){return v(this)?E(this):this},t.add=function(T){const C=Math.max(this.g.length,T.g.length),A=[];let N=0;for(let j=0;j<=C;j++){let O=N+(this.i(j)&65535)+(T.i(j)&65535),R=(O>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);N=R>>>16,O&=65535,R&=65535,A[j]=R<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(T,C){return T.add(E(C))}t.j=function(T){if(S(this)||S(T))return f;if(v(this))return v(T)?E(this).j(E(T)):E(E(this).j(T));if(v(T))return E(this.j(E(T)));if(this.l(g)<0&&T.l(g)<0)return c(this.m()*T.m());const C=this.g.length+T.g.length,A=[];for(var N=0;N<2*C;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(let j=0;j<T.g.length;j++){const O=this.i(N)>>>16,R=this.i(N)&65535,z=T.i(j)>>>16,ne=T.i(j)&65535;A[2*N+2*j]+=R*ne,w(A,2*N+2*j),A[2*N+2*j+1]+=O*ne,w(A,2*N+2*j+1),A[2*N+2*j+1]+=R*z,w(A,2*N+2*j+1),A[2*N+2*j+2]+=O*z,w(A,2*N+2*j+2)}for(T=0;T<C;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=C;T<2*C;T++)A[T]=0;return new o(A,0)};function w(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function b(T,C){this.g=T,this.h=C}function I(T,C){if(S(C))throw Error("division by zero");if(S(T))return new b(f,f);if(v(T))return C=I(E(T),C),new b(E(C.g),E(C.h));if(v(C))return C=I(T,E(C)),new b(E(C.g),C.h);if(T.g.length>30){if(v(T)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var A=p,N=C;N.l(T)<=0;)A=P(A),N=P(N);var j=D(A,1),O=D(N,1);for(N=D(N,2),A=D(A,2);!S(N);){var R=O.add(N);R.l(T)<=0&&(j=j.add(A),O=R),N=D(N,1),A=D(A,1)}return C=_(T,j.j(C)),new b(j,C)}for(j=f;T.l(C)>=0;){for(A=Math.max(1,Math.floor(T.m()/C.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),O=c(A),R=O.j(C);v(R)||R.l(T)>0;)A-=N,O=c(A),R=O.j(C);S(O)&&(O=p),j=j.add(O),T=_(T,R)}return new b(j,T)}t.B=function(T){return I(this,T).h},t.and=function(T){const C=Math.max(this.g.length,T.g.length),A=[];for(let N=0;N<C;N++)A[N]=this.i(N)&T.i(N);return new o(A,this.h&T.h)},t.or=function(T){const C=Math.max(this.g.length,T.g.length),A=[];for(let N=0;N<C;N++)A[N]=this.i(N)|T.i(N);return new o(A,this.h|T.h)},t.xor=function(T){const C=Math.max(this.g.length,T.g.length),A=[];for(let N=0;N<C;N++)A[N]=this.i(N)^T.i(N);return new o(A,this.h^T.h)};function P(T){const C=T.g.length+1,A=[];for(let N=0;N<C;N++)A[N]=T.i(N)<<1|T.i(N-1)>>>31;return new o(A,T.h)}function D(T,C){const A=C>>5;C%=32;const N=T.g.length-A,j=[];for(let O=0;O<N;O++)j[O]=C>0?T.i(O+A)>>>C|T.i(O+A+1)<<32-C:T.i(O+A);return new o(j,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,fi=o}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dI,ac,hI,rh,ly,fI,pI,mI;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var m=0;m<u.length;++m){var x=u[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var x=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var L=u[k];if(!(L in x))break e;x=x[L]}u=u[u.length-1],k=x[u],m=m(k),m!=k&&m!=null&&e(x,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var x=[],k;for(k in m)Object.prototype.hasOwnProperty.call(m,k)&&x.push([k,m[k]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function l(u,m,x){return u.call.apply(u.bind,arguments)}function c(u,m,x){return c=l,c.apply(null,arguments)}function h(u,m){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function f(u,m){function x(){}x.prototype=m.prototype,u.Z=m.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(k,L,M){for(var K=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)K[Ee-2]=arguments[Ee];return m.prototype[L].apply(k,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const m=u.length;if(m>0){const x=Array(m);for(let k=0;k<m;k++)x[k]=u[k];return x}return[]}function S(u,m){for(let k=1;k<arguments.length;k++){const L=arguments[k];var x=typeof L;if(x=x!="object"?x:L?Array.isArray(L)?"array":x:"null",x=="array"||x=="object"&&typeof L.length=="number"){x=u.length||0;const M=L.length||0;u.length=x+M;for(let K=0;K<M;K++)u[x+K]=L[K]}else u.push(L)}}class v{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(u){o.setTimeout(()=>{throw u},0)}function _(){var u=T;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class w{constructor(){this.h=this.g=null}add(m,x){const k=b.get();k.set(m,x),this.h?this.h.next=k:this.g=k,this.h=k}}var b=new v(()=>new I,u=>u.reset());class I{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let P,D=!1,T=new w,C=()=>{const u=Promise.resolve(void 0);P=()=>{u.then(A)}};function A(){for(var u;u=_();){try{u.h.call(u.g)}catch(x){E(x)}var m=b;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}D=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};o.addEventListener("test",x,m),o.removeEventListener("test",x,m)}catch{}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function z(u,m){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(z,j),z.prototype.init=function(u,m){const x=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(x=="mouseover"?m=u.fromElement:x=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(u,m,x,k,L){this.listener=u,this.proxy=null,this.src=m,this.type=x,this.capture=!!k,this.ha=L,this.key=++J,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,m,x){for(const k in u)m.call(x,u[k],k,u)}function Q(u,m){for(const x in u)m.call(void 0,u[x],x,u)}function ce(u){const m={};for(const x in u)m[x]=u[x];return m}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(u,m){let x,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(x in k)u[x]=k[x];for(let M=0;M<re.length;M++)x=re[M],Object.prototype.hasOwnProperty.call(k,x)&&(u[x]=k[x])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,m,x,k,L){const M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);const K=He(u,m,k,L);return K>-1?(m=u[K],x||(m.fa=!1)):(m=new oe(m,this.src,M,!!k,L),m.fa=x,u.push(m)),m};function Ue(u,m){const x=m.type;if(x in u.g){var k=u.g[x],L=Array.prototype.indexOf.call(k,m,void 0),M;(M=L>=0)&&Array.prototype.splice.call(k,L,1),M&&(V(m),u.g[x].length==0&&(delete u.g[x],u.h--))}}function He(u,m,x,k){for(let L=0;L<u.length;++L){const M=u[L];if(!M.da&&M.listener==m&&M.capture==!!x&&M.ha==k)return L}return-1}var G="closure_lm_"+(Math.random()*1e6|0),je={};function Ge(u,m,x,k,L){if(Array.isArray(m)){for(let M=0;M<m.length;M++)Ge(u,m[M],x,k,L);return null}return x=xs(x),u&&u[ne]?u.J(m,x,a(k)?!!k.capture:!1,L):Oe(u,m,x,!1,k,L)}function Oe(u,m,x,k,L,M){if(!m)throw Error("Invalid event type");const K=a(L)?!!L.capture:!!L;let Ee=kn(u);if(Ee||(u[G]=Ee=new fe(u)),x=Ee.add(m,x,k,K,M),x.proxy)return x;if(k=Ce(),x.proxy=k,k.src=u,k.listener=x,u.addEventListener)O||(L=K),L===void 0&&(L=!1),u.addEventListener(m.toString(),k,L);else if(u.attachEvent)u.attachEvent(Jt(m.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ce(){function u(x){return m.call(u.src,u.listener,x)}const m=Kr;return u}function Ne(u,m,x,k,L){if(Array.isArray(m))for(var M=0;M<m.length;M++)Ne(u,m[M],x,k,L);else k=a(k)?!!k.capture:!!k,x=xs(x),u&&u[ne]?(u=u.i,M=String(m).toString(),M in u.g&&(m=u.g[M],x=He(m,x,k,L),x>-1&&(V(m[x]),Array.prototype.splice.call(m,x,1),m.length==0&&(delete u.g[M],u.h--)))):u&&(u=kn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=He(m,x,k,L)),(x=u>-1?m[u]:null)&&pt(x))}function pt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])Ue(m.i,u);else{var x=u.type,k=u.proxy;m.removeEventListener?m.removeEventListener(x,k,u.capture):m.detachEvent?m.detachEvent(Jt(x),k):m.addListener&&m.removeListener&&m.removeListener(k),(x=kn(m))?(Ue(x,u),x.h==0&&(x.src=null,m[G]=null)):V(u)}}}function Jt(u){return u in je?je[u]:je[u]="on"+u}function Kr(u,m){if(u.da)u=!0;else{m=new z(m,this);const x=u.listener,k=u.ha||u.src;u.fa&&pt(u),u=x.call(k,m)}return u}function kn(u){return u=u[G],u instanceof fe?u:null}var zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(u){return typeof u=="function"?u:(u[zn]||(u[zn]=function(m){return u.handleEvent(m)}),u[zn])}function nt(){N.call(this),this.i=new fe(this),this.M=this,this.G=null}f(nt,N),nt.prototype[ne]=!0,nt.prototype.removeEventListener=function(u,m,x,k){Ne(this,u,m,x,k)};function Ct(u,m){var x,k=u.G;if(k)for(x=[];k;k=k.G)x.push(k);if(u=u.M,k=m.type||m,typeof m=="string")m=new j(m,u);else if(m instanceof j)m.target=m.target||u;else{var L=m;m=new j(k,u),ge(m,L)}L=!0;let M,K;if(x)for(K=x.length-1;K>=0;K--)M=m.g=x[K],L=pr(M,k,!0,m)&&L;if(M=m.g=u,L=pr(M,k,!0,m)&&L,L=pr(M,k,!1,m)&&L,x)for(K=0;K<x.length;K++)M=m.g=x[K],L=pr(M,k,!1,m)&&L}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const x=u.g[m];for(let k=0;k<x.length;k++)V(x[k]);delete u.g[m],u.h--}}this.G=null},nt.prototype.J=function(u,m,x,k){return this.i.add(String(u),m,!1,x,k)},nt.prototype.K=function(u,m,x,k){return this.i.add(String(u),m,!0,x,k)};function pr(u,m,x,k){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let M=0;M<m.length;++M){const K=m[M];if(K&&!K.da&&K.capture==x){const Ee=K.listener,xt=K.ha||K.src;K.fa&&Ue(u.i,K),L=Ee.call(xt,k)!==!1&&L}}return L&&!k.defaultPrevented}function Wu(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function mr(u){u.g=Wu(()=>{u.g=null,u.i&&(u.i=!1,mr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Tp extends N{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(u){N.call(this),this.h=u,this.g={}}f(zi,N);var en=[];function Gr(u){U(u.g,function(m,x){this.g.hasOwnProperty(x)&&pt(m)},u),u.g={}}zi.prototype.N=function(){zi.Z.N.call(this),Gr(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nl=o.JSON.stringify,Cp=o.JSON.parse,Bo=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Hu(){}function Pl(){}var Qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gr(){j.call(this,"d")}f(gr,j);function Wo(){j.call(this,"c")}f(Wo,j);var an={},qu=null;function Ho(){return qu=qu||new nt}an.Ia="serverreachability";function Rl(u){j.call(this,an.Ia,u)}f(Rl,j);function _s(u){const m=Ho();Ct(m,new Rl(m))}an.STAT_EVENT="statevent";function Ku(u,m){j.call(this,an.STAT_EVENT,u),this.stat=m}f(Ku,j);function wt(u){const m=Ho();Ct(m,new Ku(m,u))}an.Ja="timingevent";function Bn(u,m){j.call(this,an.Ja,u),this.size=m}f(Bn,j);function Bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function ue(){this.g=!0}ue.prototype.ua=function(){this.g=!1};function Ve(u,m,x,k,L,M){u.info(function(){if(u.g)if(M){var K="",Ee=M.split("&");for(let We=0;We<Ee.length;We++){var xt=Ee[We].split("=");if(xt.length>1){const It=xt[0];xt=xt[1];const wr=It.split("_");K=wr.length>=2&&wr[1]=="type"?K+(It+"="+xt+"&"):K+(It+"=redacted&")}}}else K=null;else K=M;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+m+`
`+x+`
`+K})}function qe(u,m,x,k,L,M,K){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+m+`
`+x+`
`+M+" "+K})}function At(u,m,x,k){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+yr(u,x)+(k?" "+k:"")})}function yn(u,m){u.info(function(){return"TIMEOUT: "+m})}ue.prototype.info=function(){};function yr(u,m){if(!u.g)return m;if(!m)return null;try{const M=JSON.parse(m);if(M){for(u=0;u<M.length;u++)if(Array.isArray(M[u])){var x=M[u];if(!(x.length<2)){var k=x[1];if(Array.isArray(k)&&!(k.length<1)){var L=k[0];if(L!="noop"&&L!="stop"&&L!="close")for(let K=1;K<k.length;K++)k[K]=""}}}}return Nl(M)}catch{return m}}var Nn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ln={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wn;function Ap(){}f(Ap,Hu),Ap.prototype.g=function(){return new XMLHttpRequest},Wn=new Ap;function jl(u){return encodeURIComponent(String(u))}function RP(u){var m=1;u=u.split(":");const x=[];for(;m>0&&u.length;)x.push(u.shift()),m--;return u.length&&x.push(u.join(":")),x}function Es(u,m,x,k){this.j=u,this.i=m,this.l=x,this.S=k||1,this.V=new zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new f0}function f0(){this.i=null,this.g="",this.h=!1}var p0={},Ip={};function kp(u,m,x){u.M=1,u.A=Qu(vr(m)),u.u=x,u.R=!0,m0(u,null)}function m0(u,m){u.F=Date.now(),Gu(u),u.B=vr(u.A);var x=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),I0(x.i,"t",k),u.C=0,x=u.j.L,u.h=new f0,u.g=q0(u.j,x?m:null,!u.u),u.P>0&&(u.O=new Tp(c(u.Y,u,u.g),u.P)),m=u.V,x=u.g,k=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(en[0]=L.toString()),L=en);for(let M=0;M<L.length;M++){const K=Ge(x,L[M],k||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=u.J?ce(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_s(),Ve(u.i,u.v,u.B,u.l,u.S,u.u)}Es.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ts(u)==3?m.j():this.Y(u)},Es.prototype.Y=function(u){try{if(u==this.g)e:{const Ee=Ts(this.g),xt=this.g.ya(),We=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||D0(this.g)))){this.K||Ee!=4||xt==7||(xt==8||We<=0?_s(3):_s(2)),Np(this);var m=this.g.ca();this.X=m;var x=jP(this);if(this.o=m==200,qe(this.i,this.v,this.B,this.l,this.S,Ee,m),this.o){if(this.U&&!this.L){t:{if(this.g){var k,L=this.g;if((k=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(k)){var M=k;break t}}M=null}if(u=M)At(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pp(this,u);else{this.o=!1,this.m=3,wt(12),Wi(this),Ol(this);break e}}if(this.R){u=!0;let It;for(;!this.K&&this.C<x.length;)if(It=OP(this,x),It==Ip){Ee==4&&(this.m=4,wt(14),u=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(It==p0){this.m=4,wt(15),At(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else At(this.i,this.l,It,null),Pp(this,It);if(g0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||x.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)At(this.i,this.l,x,"[Invalid Chunked Response]"),Wi(this),Ol(this);else if(x.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Fp(K),K.P=!0,wt(11))}}else At(this.i,this.l,x,null),Pp(this,x);Ee==4&&Wi(this),this.o&&!this.K&&(Ee==4?z0(this.j,this):(this.o=!1,Gu(this)))}else GP(this.g),m==400&&x.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Wi(this),Ol(this)}}}catch{}finally{}};function jP(u){if(!g0(u))return u.g.la();const m=D0(u.g);if(m==="")return"";let x="";const k=m.length,L=Ts(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Wi(u),Ol(u),"";u.h.i=new o.TextDecoder}for(let M=0;M<k;M++)u.h.h=!0,x+=u.h.i.decode(m[M],{stream:!(L&&M==k-1)});return m.length=0,u.h.g+=x,u.C=0,u.h.g}function g0(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function OP(u,m){var x=u.C,k=m.indexOf(`
`,x);return k==-1?Ip:(x=Number(m.substring(x,k)),isNaN(x)?p0:(k+=1,k+x>m.length?Ip:(m=m.slice(k,k+x),u.C=k+x,m)))}Es.prototype.cancel=function(){this.K=!0,Wi(this)};function Gu(u){u.T=Date.now()+u.H,y0(u,u.H)}function y0(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Bi(c(u.aa,u),m)}function Np(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Es.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yn(this.i,this.B),this.M!=2&&(_s(),wt(17)),Wi(this),this.m=2,Ol(this)):y0(this,this.T-u)};function Ol(u){u.j.I==0||u.K||z0(u.j,u)}function Wi(u){Np(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Gr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Pp(u,m){try{var x=u.j;if(x.I!=0&&(x.g==u||Rp(x.h,u))){if(!u.L&&Rp(x.h,u)&&x.I==3){try{var k=x.Ba.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)ed(x),Xu(x);else break e;Vp(x),wt(18)}}else x.xa=L[1],0<x.xa-x.K&&L[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Bi(c(x.Va,x),6e3));x0(x.h)<=1&&x.ta&&(x.ta=void 0)}else qi(x,11)}else if((u.L||x.g==u)&&ed(x),!R(m))for(L=x.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const It=We[0];if(!(It<=x.K))if(x.K=It,We=We[1],x.I==2)if(We[0]=="c"){x.M=We[1],x.ba=We[2];const wr=We[3];wr!=null&&(x.ka=wr,x.j.info("VER="+x.ka));const Ki=We[4];Ki!=null&&(x.za=Ki,x.j.info("SVER="+x.za));const Cs=We[5];Cs!=null&&typeof Cs=="number"&&Cs>0&&(k=1.5*Cs,x.O=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const As=u.g;if(As){const nd=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var M=k.h;M.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(jp(M,M.h),M.h=null))}if(k.G){const Up=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;Up&&(k.wa=Up,Qe(k.J,k.G,Up))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),k=x;var K=u;if(k.na=H0(k,k.L?k.ba:null,k.W),K.L){_0(k.h,K);var Ee=K,xt=k.O;xt&&(Ee.H=xt),Ee.D&&(Np(Ee),Gu(Ee)),k.g=K}else U0(k);x.i.length>0&&Ju(x)}else We[0]!="stop"&&We[0]!="close"||qi(x,7);else x.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?qi(x,7):Mp(x):We[0]!="noop"&&x.l&&x.l.qa(We),x.A=0)}}_s(4)}catch{}}var DP=class{constructor(u,m){this.g=u,this.map=m}};function v0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function w0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function x0(u){return u.h?1:u.g?u.g.size:0}function Rp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jp(u,m){u.g?u.g.add(m):u.h=m}function _0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}v0.prototype.cancel=function(){if(this.i=E0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function E0(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const x of u.g.values())m=m.concat(x.G);return m}return g(u.i)}var b0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LP(u,m){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const k=u[x].indexOf("=");let L,M=null;k>=0?(L=u[x].substring(0,k),M=u[x].substring(k+1)):L=u[x],m(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function bs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bs?(this.l=u.l,Dl(this,u.j),this.o=u.o,this.g=u.g,Ll(this,u.u),this.h=u.h,Op(this,k0(u.i)),this.m=u.m):u&&(m=String(u).match(b0))?(this.l=!1,Dl(this,m[1]||"",!0),this.o=Ml(m[2]||""),this.g=Ml(m[3]||"",!0),Ll(this,m[4]),this.h=Ml(m[5]||"",!0),Op(this,m[6]||"",!0),this.m=Ml(m[7]||"")):(this.l=!1,this.i=new Fl(null,this.l))}bs.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vl(m,S0,!0),":");var x=this.g;return(x||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vl(m,S0,!0),"@"),u.push(jl(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Vl(x,x.charAt(0)=="/"?FP:VP,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Vl(x,$P)),u.join("")},bs.prototype.resolve=function(u){const m=vr(this);let x=!!u.j;x?Dl(m,u.j):x=!!u.o,x?m.o=u.o:x=!!u.g,x?m.g=u.g:x=u.u!=null;var k=u.h;if(x)Ll(m,u.u);else if(x=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var L=m.h.lastIndexOf("/");L!=-1&&(k=m.h.slice(0,L+1)+k)}if(L=k,L==".."||L==".")k="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){k=L.lastIndexOf("/",0)==0,L=L.split("/");const M=[];for(let K=0;K<L.length;){const Ee=L[K++];Ee=="."?k&&K==L.length&&M.push(""):Ee==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),k&&K==L.length&&M.push("")):(M.push(Ee),k=!0)}k=M.join("/")}else k=L}return x?m.h=k:x=u.i.toString()!=="",x?Op(m,k0(u.i)):x=!!u.m,x&&(m.m=u.m),m};function vr(u){return new bs(u)}function Dl(u,m,x){u.j=x?Ml(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ll(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Op(u,m,x){m instanceof Fl?(u.i=m,zP(u.i,u.l)):(x||(m=Vl(m,UP)),u.i=new Fl(m,u.l))}function Qe(u,m,x){u.i.set(m,x)}function Qu(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ml(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vl(u,m,x){return typeof u=="string"?(u=encodeURI(u).replace(m,MP),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function MP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var S0=/[#\/\?@]/g,VP=/[#\?:]/g,FP=/[#\?]/g,UP=/[#\?@]/g,$P=/#/g;function Fl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Hi(u){u.g||(u.g=new Map,u.h=0,u.i&&LP(u.i,function(m,x){u.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Fl.prototype,t.add=function(u,m){Hi(this),this.i=null,u=qo(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(m),this.h+=1,this};function T0(u,m){Hi(u),m=qo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function C0(u,m){return Hi(u),m=qo(u,m),u.g.has(m)}t.forEach=function(u,m){Hi(this),this.g.forEach(function(x,k){x.forEach(function(L){u.call(m,L,k,this)},this)},this)};function A0(u,m){Hi(u);let x=[];if(typeof m=="string")C0(u,m)&&(x=x.concat(u.g.get(qo(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)x=x.concat(u[m]);return x}t.set=function(u,m){return Hi(this),this.i=null,u=qo(this,u),C0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=A0(this,u),u.length>0?String(u[0]):m):m};function I0(u,m,x){T0(u,m),x.length>0&&(u.i=null,u.g.set(qo(u,m),g(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let k=0;k<m.length;k++){var x=m[k];const L=jl(x);x=A0(this,x);for(let M=0;M<x.length;M++){let K=L;x[M]!==""&&(K+="="+jl(x[M])),u.push(K)}}return this.i=u.join("&")};function k0(u){const m=new Fl;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function qo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zP(u,m){m&&!u.j&&(Hi(u),u.i=null,u.g.forEach(function(x,k){const L=k.toLowerCase();k!=L&&(T0(this,k),I0(this,L,x))},u)),u.j=m}function BP(u,m){const x=new ue;if(o.Image){const k=new Image;k.onload=h(Ss,x,"TestLoadImage: loaded",!0,m,k),k.onerror=h(Ss,x,"TestLoadImage: error",!1,m,k),k.onabort=h(Ss,x,"TestLoadImage: abort",!1,m,k),k.ontimeout=h(Ss,x,"TestLoadImage: timeout",!1,m,k),o.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else m(!1)}function WP(u,m){const x=new ue,k=new AbortController,L=setTimeout(()=>{k.abort(),Ss(x,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:k.signal}).then(M=>{clearTimeout(L),M.ok?Ss(x,"TestPingServer: ok",!0,m):Ss(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Ss(x,"TestPingServer: error",!1,m)})}function Ss(u,m,x,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(x)}catch{}}function HP(){this.g=new Bo}function Dp(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Dp,Hu),Dp.prototype.g=function(){return new Yu(this.i,this.h)};function Yu(u,m){nt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Yu,nt),t=Yu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$l(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;N0(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function N0(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ul(this):$l(this),this.readyState==3&&N0(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ul(this))},t.Na=function(u){this.g&&(this.response=u,Ul(this))},t.ga=function(){this.g&&Ul(this)};function Ul(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$l(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=m.next();return u.join(`\r
`)};function $l(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function P0(u){let m="";return U(u,function(x,k){m+=k,m+=":",m+=x,m+=`\r
`}),m}function Lp(u,m,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=P0(x),typeof u=="string"?x!=null&&jl(x):Qe(u,m,x))}function lt(u){nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(lt,nt);var qP=/^https?$/i,KP=["POST","PUT"];t=lt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(M){R0(this,M);return}if(u=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)x.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const M of k.keys())x.set(M,k.get(M));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(M=>M.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(KP,m,void 0)>=0)||k||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,K]of x)this.g.setRequestHeader(M,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(M){R0(this,M)}};function R0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,j0(u),Zu(u)}function j0(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?O0(this):this.Xa())},t.Xa=function(){O0(this)};function O0(u){if(u.h&&typeof i<"u"){if(u.v&&Ts(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),Ts(u)==4){u.h=!1;try{const M=u.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var k;if(k=M===0){let K=String(u.D).match(b0)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),k=!qP.test(K?K.toLowerCase():"")}x=k}if(x)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var L=Ts(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",j0(u)}}finally{Zu(u)}}}}function Zu(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,m||Ct(u,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ts(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cp(m)}};function D0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function GP(u){const m={};u=(u.g&&Ts(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(R(u[k]))continue;var x=RP(u[k]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const M=m[L]||[];m[L]=M,M.push(x)}Q(m,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(u,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||m}function L0(u){this.za=0,this.i=[],this.j=new ue,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zl("baseRetryDelayMs",5e3,u),this.Za=zl("retryDelaySeedMs",1e4,u),this.Ta=zl("forwardChannelMaxRetries",2,u),this.va=zl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new v0(u&&u.concurrentRequestLimit),this.Ba=new HP,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=L0.prototype,t.ka=8,t.I=1,t.connect=function(u,m,x,k){wt(0),this.W=u,this.H=m||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.J=H0(this,null,this.W),Ju(this)};function Mp(u){if(M0(u),u.I==3){var m=u.V++,x=vr(u.J);if(Qe(x,"SID",u.M),Qe(x,"RID",m),Qe(x,"TYPE","terminate"),Bl(u,x),m=new Es(u,u.j,m),m.M=2,m.A=Qu(vr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=m.A,x=!0),x||(m.g=q0(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Gu(m)}W0(u)}function Xu(u){u.g&&(Fp(u),u.g.cancel(),u.g=null)}function M0(u){Xu(u),u.v&&(o.clearTimeout(u.v),u.v=null),ed(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Ju(u){if(!w0(u.h)&&!u.m){u.m=!0;var m=u.Ea;P||C(),D||(P(),D=!0),T.add(m,u),u.D=0}}function QP(u,m){return x0(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Bi(c(u.Ea,u,m),B0(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Es(this,this.j,u);let M=this.o;if(this.U&&(M?(M=ce(M),ge(M,this.U)):M=this.U),this.u!==null||this.R||(L.J=M,M=null),this.S)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,m>4096){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=F0(this,L,m),x=vr(this.J),Qe(x,"RID",u),Qe(x,"CVER",22),this.G&&Qe(x,"X-HTTP-Session-Id",this.G),Bl(this,x),M&&(this.R?m="headers="+jl(P0(M))+"&"+m:this.u&&Lp(x,this.u,M)),jp(this.h,L),this.Ra&&Qe(x,"TYPE","init"),this.S?(Qe(x,"$req",m),Qe(x,"SID","null"),L.U=!0,kp(L,x,null)):kp(L,x,m),this.I=2}}else this.I==3&&(u?V0(this,u):this.i.length==0||w0(this.h)||V0(this))};function V0(u,m){var x;m?x=m.l:x=u.V++;const k=vr(u.J);Qe(k,"SID",u.M),Qe(k,"RID",x),Qe(k,"AID",u.K),Bl(u,k),u.u&&u.o&&Lp(k,u.u,u.o),x=new Es(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),m&&(u.i=m.G.concat(u.i)),m=F0(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jp(u.h,x),kp(x,k,m)}function Bl(u,m){u.H&&U(u.H,function(x,k){Qe(m,k,x)}),u.l&&U({},function(x,k){Qe(m,k,x)})}function F0(u,m,x){x=Math.min(u.i.length,x);const k=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ee=-1;for(;;){const xt=["count="+x];Ee==-1?x>0?(Ee=L[0].g,xt.push("ofs="+Ee)):Ee=0:xt.push("ofs="+Ee);let We=!0;for(let It=0;It<x;It++){var M=L[It].g;const wr=L[It].map;if(M-=Ee,M<0)Ee=Math.max(0,L[It].g-100),We=!1;else try{M="req"+M+"_"||"";try{var K=wr instanceof Map?wr:Object.entries(wr);for(const[Ki,Cs]of K){let As=Cs;a(Cs)&&(As=Nl(Cs)),xt.push(M+Ki+"="+encodeURIComponent(As))}}catch(Ki){throw xt.push(M+"type="+encodeURIComponent("_badmap")),Ki}}catch{k&&k(wr)}}if(We){K=xt.join("&");break e}}K=void 0}return u=u.i.splice(0,x),m.G=u,K}function U0(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;P||C(),D||(P(),D=!0),T.add(m,u),u.A=0}}function Vp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Bi(c(u.Da,u),B0(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,$0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Bi(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Xu(this),$0(this))};function Fp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function $0(u){u.g=new Es(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=vr(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),Bl(u,m),u.u&&u.o&&Lp(m,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Qu(vr(m)),x.u=null,x.R=!0,m0(x,u)}t.Va=function(){this.C!=null&&(this.C=null,Xu(this),Vp(this),wt(19))};function ed(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function z0(u,m){var x=null;if(u.g==m){ed(u),Fp(u),u.g=null;var k=2}else if(Rp(u.h,m))x=m.G,_0(u.h,m),k=1;else return;if(u.I!=0){if(m.o)if(k==1){x=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;k=Ho(),Ct(k,new Bn(k,x)),Ju(u)}else U0(u);else if(L=m.m,L==3||L==0&&m.X>0||!(k==1&&QP(u,m)||k==2&&Vp(u)))switch(x&&x.length>0&&(m=u.h,m.i=m.i.concat(x)),L){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function B0(u,m){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*m}function qi(u,m){if(u.j.info("Error code "+m),m==2){var x=c(u.bb,u),k=u.Ua;const L=!k;k=new bs(k||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Dl(k,"https"),Qu(k),L?BP(k.toString(),x):WP(k.toString(),x)}else wt(2);u.I=0,u.l&&u.l.pa(m),W0(u),M0(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function W0(u){if(u.I=0,u.ja=[],u.l){const m=E0(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ja,m),S(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function H0(u,m,x){var k=x instanceof bs?vr(x):new bs(x);if(k.g!="")m&&(k.g=m+"."+k.g),Ll(k,k.u);else{var L=o.location;k=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const M=new bs(null);k&&Dl(M,k),m&&(M.g=m),L&&Ll(M,L),x&&(M.h=x),k=M}return x=u.G,m=u.wa,x&&m&&Qe(k,x,m),Qe(k,"VER",u.ka),Bl(u,k),k}function q0(u,m,x){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Dp({ab:x})):new lt(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function K0(){}t=K0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function td(){}td.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){nt.call(this),this.g=new L0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ko(this)}f(vn,nt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Mp(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Nl(u),u=x);m.i.push(new DP(m.Ya++,u)),m.I==3&&Ju(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,Mp(this.g),delete this.g,vn.Z.N.call(this)};function G0(u){gr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const x in m){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(G0,gr);function Q0(){Wo.call(this),this.status=1}f(Q0,Wo);function Ko(u){this.g=u}f(Ko,K0),Ko.prototype.ra=function(){Ct(this.g,"a")},Ko.prototype.qa=function(u){Ct(this.g,new G0(u))},Ko.prototype.pa=function(u){Ct(this.g,new Q0)},Ko.prototype.oa=function(){Ct(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,mI=function(){return new td},pI=function(){return Ho()},fI=an,ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nn.NO_ERROR=0,Nn.TIMEOUT=8,Nn.HTTP_ERROR=6,rh=Nn,ln.COMPLETE="complete",hI=ln,Pl.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",nt.prototype.listen=nt.prototype.J,ac=Pl,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,dI=lt}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="12.10.0";function N6(t){Tl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new ow("@firebase/firestore");function ea(){return bo.logLevel}function Z(t,...e){if(bo.logLevel<=Ae.DEBUG){const n=e.map(yw);bo.debug(`Firestore (${Tl}): ${t}`,...n)}}function ys(t,...e){if(bo.logLevel<=Ae.ERROR){const n=e.map(yw);bo.error(`Firestore (${Tl}): ${t}`,...n)}}function So(t,...e){if(bo.logLevel<=Ae.WARN){const n=e.map(yw);bo.warn(`Firestore (${Tl}): ${t}`,...n)}}function yw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gI(t,r,n)}function gI(t,e,n){let r=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ys(r),new Error(r)}function Fe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||gI(e,s,r)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class R6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j6{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new yI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class O6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class D6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new O6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=M6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function cy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Im(s)===Im(i)?Ie(s,i):Im(s)?1:-1}return Ie(t.length,e.length)}const V6=55296,F6=57343;function Im(t){const e=t.charCodeAt(0);return e>=V6&&e<=F6}function el(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class br{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=br.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=br.isNumericId(e),s=br.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?br.extractNumericId(e).compare(br.extractNumericId(n)):cy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class st extends br{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new st(n)}static emptyPath(){return new st([])}}const U6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends br{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return U6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Mt([NE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(st.fromString(e))}static fromName(e){return new le(st.fromString(e).popFirst(5))}static empty(){return new le(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z6(t,e,n,r){if(e===!0&&r===!0)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PE(t){if(!le.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ww(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function ru(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ww(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vu(t,e){if(!vI(t))throw new se(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new se(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,jE=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RE)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:yt("string",Xe._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Xe(0,0))}static max(){return new me(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function B6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=me.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new bi(s,le.empty(),e)}function W6(t){return new bi(t.readTime,t.key,su)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(me.min(),le.empty(),su)}static max(){return new bi(me.max(),le.empty(),su)}}function H6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==q6)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function G6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}op.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=-1;function ap(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function Q6(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="";function Y6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OE(e)),e=Z6(t.get(n),e);return OE(e)}function Z6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case wI:n+="";break;default:n+=i}}return n}function OE(t){return t+wI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Tt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _I("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const X6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Fe(!!t,39018),typeof t=="string"){let e=0;const n=X6.exec(t);if(Fe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="server_timestamp",bI="__type__",SI="__previous_value__",TI="__local_write_time__";function _w(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bI])==null?void 0:r.stringValue)===EI}function lp(t){const e=t.mapValue.fields[SI];return _w(e)?lp(e):e}function iu(t){const e=Si(t.mapValue.fields[TI].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,s,i,o,a,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=f}}const Zh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Zh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function e9(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="__type__",t9="__max__",kd={mapValue:{}},AI="__vector__",Xh="value";function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_w(t)?4:r9(t)?9007199254740991:n9(t)?10:11:he(28295,{value:t})}function Br(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Si(s.timestampValue),a=Si(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ti(s.bytesValue).isEqual(Ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),a=dt(i.doubleValue);return o===a?Yh(o)===Yh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(DE(o)!==DE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Br(o[l],a[l])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function au(t,e){return(t.values||[]).find(n=>Br(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=dt(i.integerValue||i.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ME(t.timestampValue,e.timestampValue);case 4:return ME(iu(t),iu(e));case 5:return cy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ti(i),l=Ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ie(a[c],l[c]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(dt(i.latitude),dt(o.latitude));return a!==0?a:Ie(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return VE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,S,v;const a=i.fields||{},l=o.fields||{},c=(p=a[Xh])==null?void 0:p.arrayValue,h=(g=l[Xh])==null?void 0:g.arrayValue,f=Ie(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:VE(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===kd.mapValue&&o===kd.mapValue)return 0;if(i===kd.mapValue)return 1;if(o===kd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=cy(l[f],h[f]);if(p!==0)return p;const g=tl(a[l[f]],c[h[f]]);if(g!==0)return g}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function ME(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Si(t),r=Si(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function VE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=tl(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function nl(t){return uy(t)}function uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=uy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${uy(n.fields[o])}`;return s+"}"}(t.mapValue):he(61005,{value:t})}function sh(t){switch(Ci(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lp(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Mo(r.fields,(i,o)=>{s+=i.length+sh(o)}),s}(t.mapValue);default:throw he(13486,{value:t})}}function dy(t){return!!t&&"integerValue"in t}function Ew(t){return!!t&&"arrayValue"in t}function FE(t){return!!t&&"nullValue"in t}function UE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function n9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CI])==null?void 0:r.stringValue)===AI}function Tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return{...t}}function r9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Tc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Dn(Tc(this.value))}}function II(t){const e=[];return Mo(t.fields,(n,r)=>{const s=new Mt([n]);if(ih(r)){const i=II(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,me.min(),me.min(),me.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,s){return new Qt(e,1,n,me.min(),r,s,0)}static newNoDocument(e,n){return new Qt(e,2,n,me.min(),me.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,me.min(),me.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function $E(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=tl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function s9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{}class bt extends kI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o9(e,n,r):n==="array-contains"?new c9(e,r):n==="in"?new u9(e,r):n==="not-in"?new d9(e,r):n==="array-contains-any"?new h9(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a9(e,r):new l9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends kI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wr(e,n)}matches(e){return NI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NI(t){return t.op==="and"}function PI(t){return i9(t)&&NI(t)}function i9(t){for(const e of t.filters)if(e instanceof Wr)return!1;return!0}function hy(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(PI(t))return t.filters.map(e=>hy(e)).join(",");{const e=t.filters.map(n=>hy(n)).join(",");return`${t.op}(${e})`}}function RI(t,e){return t instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&Br(r.value,s.value)}(t,e):t instanceof Wr?function(r,s){return s instanceof Wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RI(o,s.filters[a]),!0):!1}(t,e):void he(19439)}function jI(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof Wr?function(n){return n.op.toString()+" {"+n.getFilters().map(jI).join(" ,")+"}"}(t):"Filter"}class o9 extends bt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class a9 extends bt{constructor(e,n){super(e,"in",n),this.keys=OI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class l9 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=OI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class c9 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ew(n)&&au(n.arrayValue,this.value)}}class u9 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class d9 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class h9 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ew(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function BE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new f9(t,e,n,r,s,i,o)}function bw(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nl(r)).join(",")),e.Te=n}return e.Te}function Sw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function fy(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function p9(t,e,n,r,s,i,o,a){return new cp(t,e,n,r,s,i,o,a)}function Tw(t){return new cp(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m9(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function g9(t){return t.collectionGroup!==null}function Cc(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ef(i,r))}),n.has(Mt.keyField().canonicalString())||e.Ie.push(new ef(Mt.keyField(),r))}return e.Ie}function Mr(t){const e=xe(t);return e.Ee||(e.Ee=y9(e,Cc(t))),e.Ee}function y9(t,e){if(t.limitType==="F")return BE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ef(s.field,i)});const n=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return BE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function py(t,e,n){return new cp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return Sw(Mr(t),Mr(e))&&t.limitType===e.limitType}function DI(t){return`${bw(Mr(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jI(s)).join(", ")}]`),ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nl(s)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function dp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Cc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=$E(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Cc(r),s)||r.endAt&&!function(o,a,l){const c=$E(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Cc(r),s))}(t,e)}function v9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LI(t){return(e,n)=>{let r=!1;for(const s of Cc(t)){const i=w9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function w9(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?tl(l,c):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new at(le.comparator);function vs(){return x9}const MI=new at(le.comparator);function lc(...t){let e=MI;for(const n of t)e=e.insert(n.key,n);return e}function VI(t){let e=MI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function eo(){return Ac()}function FI(){return Ac()}function Ac(){return new Vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const _9=new at(le.comparator),E9=new Tt(le.comparator);function ke(...t){let e=E9;for(const n of t)e=e.add(n);return e}const b9=new Tt(Ie);function S9(){return b9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function UI(t){return{integerValue:""+t}}function T9(t,e){return Q6(e)?UI(e):Cw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this._=void 0}}function C9(t,e,n){return t instanceof lu?function(s,i){const o={fields:{[bI]:{stringValue:EI},[TI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_w(i)&&(i=lp(i)),i&&(o.fields[SI]=i),{mapValue:o}}(n,e):t instanceof cu?zI(t,e):t instanceof uu?BI(t,e):function(s,i){const o=$I(s,i),a=HE(o)+HE(s.Ae);return dy(o)&&dy(s.Ae)?UI(a):Cw(s.serializer,a)}(t,e)}function A9(t,e,n){return t instanceof cu?zI(t,e):t instanceof uu?BI(t,e):n}function $I(t,e){return t instanceof tf?function(r){return dy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lu extends hp{}class cu extends hp{constructor(e){super(),this.elements=e}}function zI(t,e){const n=WI(e);for(const r of t.elements)n.some(s=>Br(s,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends hp{constructor(e){super(),this.elements=e}}function BI(t,e){let n=WI(e);for(const r of t.elements)n=n.filter(s=>!Br(s,r));return{arrayValue:{values:n}}}class tf extends hp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HE(t){return dt(t.integerValue||t.doubleValue)}function WI(t){return Ew(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.field=e,this.transform=n}}function k9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof cu&&s instanceof cu||r instanceof uu&&s instanceof uu?el(r.elements,s.elements,Br):r instanceof tf&&s instanceof tf?Br(r.Ae,s.Ae):r instanceof lu&&s instanceof lu}(t.transform,e.transform)}class N9{constructor(e,n){this.version=e,this.transformResults=n}}class ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fp{}function HI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KI(t.key,ls.none()):new Fu(t.key,t.data,ls.none());{const n=t.data,r=Dn.empty();let s=new Tt(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Fo(t.key,r,new nr(s.toArray()),ls.none())}}function P9(t,e,n){t instanceof Fu?function(s,i,o){const a=s.value.clone(),l=KE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(s,i,o){if(!oh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=KE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(qI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof Fu?function(i,o,a,l){if(!oh(i.precondition,o))return a;const c=i.value.clone(),h=GE(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(i,o,a,l){if(!oh(i.precondition,o))return a;const c=GE(i.fieldTransforms,l,o),h=o.data;return h.setAll(qI(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return oh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function R9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$I(r.transform,s||null);i!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,i))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&el(r,s,(i,o)=>k9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends fp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fo extends fp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KE(t,e,n){const r=new Map;Fe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,A9(o,a,n[s]))}return r}function GE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,C9(i,o,e))}return r}class KI extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j9 extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&P9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=HI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>qE(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>qE(n,r))}}class Aw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return _9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Aw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Re;function M9(t){switch(t){case B.OK:return he(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function GI(t){if(t===void 0)return ys("GRPC error has no .code"),B.UNKNOWN;switch(t){case mt.OK:return B.OK;case mt.CANCELLED:return B.CANCELLED;case mt.UNKNOWN:return B.UNKNOWN;case mt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case mt.INTERNAL:return B.INTERNAL;case mt.UNAVAILABLE:return B.UNAVAILABLE;case mt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case mt.NOT_FOUND:return B.NOT_FOUND;case mt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case mt.ABORTED:return B.ABORTED;case mt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case mt.DATA_LOSS:return B.DATA_LOSS;default:return he(39323,{code:t})}}(Re=mt||(mt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new fi([4294967295,4294967295],0);function QE(t){const e=V9().encode(t),n=new uI;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fi([n,r],0),new fi([s,i],0)]}class Iw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(r<0)throw new cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(fi.fromNumber(r)));return s.compare(F9)===1&&(s=new fi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,s]=YE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Iw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=QE(e),[r,s]=YE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pp(me.min(),s,new at(Ie),vs(),ke())}}class Uu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uu(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class QI{constructor(e,n){this.targetId=e,this.Ce=n}}class YI{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ZE{constructor(){this.ve=0,this.Fe=XE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he(38017,{changeType:i})}}),new Uu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=XE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class U9{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.He=Nd(),this.Je=Nd(),this.Ze=new at(Ie)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(fy(i))if(r===0){const o=new le(i.path);this.et(n,o,Qt.newNoDocument(o,me.min()))}else Fe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ti(r).toUint8Array()}catch(l){if(l instanceof _I)return So("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Iw(o,s,i)}catch(l){return So(l instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&fy(a.target)){const l=new le(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Qt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ke();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new pp(e,n,this.Ze,this.je,r);return this.je=vs(),this.He=Nd(),this.Je=Nd(),this.Ze=new at(Ie),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ZE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Tt(Ie),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Tt(Ie),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nd(){return new at(le.comparator)}function XE(){return new at(le.comparator)}const $9={asc:"ASCENDING",desc:"DESCENDING"},z9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B9={and:"AND",or:"OR"};class W9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function my(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H9(t,e){return nf(t,e.toTimestamp())}function Vr(t){return Fe(!!t,49232),me.fromTimestamp(function(n){const r=Si(n);return new Xe(r.seconds,r.nanos)}(t))}function kw(t,e){return gy(t,e).canonicalString()}function gy(t,e){const n=function(s){return new st(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XI(t){const e=st.fromString(t);return Fe(rk(e),10190,{key:e.toString()}),e}function yy(t,e){return kw(t.databaseId,e.path)}function km(t,e){const n=XI(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(ek(n))}function JI(t,e){return kw(t.databaseId,e)}function q9(t){const e=XI(t);return e.length===4?st.emptyPath():ek(e)}function vy(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ek(t){return Fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JE(t,e,n){return{name:yy(t,e),fields:n.value.mapValue.fields}}function K9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:he(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Fe(h===void 0||typeof h=="string",58123),$t.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),$t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:GI(c.code);return new se(h,c.message||"")}(o);n=new YI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=km(t,r.document.name),i=Vr(r.document.updateTime),o=r.document.createTime?Vr(r.document.createTime):me.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ah(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=km(t,r.document),i=r.readTime?Vr(r.readTime):me.min(),o=Qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ah([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=km(t,r.document),i=r.removedTargetIds||[];n=new ah([],i,s,null)}else{if(!("filter"in e))return he(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new L9(s,i),a=r.targetId;n=new QI(a,o)}}return n}function G9(t,e){let n;if(e instanceof Fu)n={update:JE(t,e.key,e.value)};else if(e instanceof KI)n={delete:yy(t,e.key)};else if(e instanceof Fo)n={update:JE(t,e.key,e.data),updateMask:rU(e.fieldMask)};else{if(!(e instanceof j9))return he(16599,{dt:e.type});n={verify:yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw he(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:H9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he(27497)}(t,e.precondition)),n}function Q9(t,e){return t&&t.length>0?(Fe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Vr(s.updateTime):Vr(i);return o.isEqual(me.min())&&(o=Vr(i)),new N9(o,s.transformResults||[])}(n,e))):[]}function Y9(t,e){return{documents:[JI(t,e.path)]}}function Z9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JI(t,s);const i=function(c){if(c.length!==0)return nk(Wr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:na(p.field),direction:eU(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=my(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function X9(t){let e=q9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=tk(f);return p instanceof Wr&&PI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new ef(ra(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ap(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Jh(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Jh(g,p)}(n.endAt)),p9(e,s,o,i,a,"F",l,c)}function J9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(n.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ra(n.unaryFilter.field);return bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return bt.create(ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wr.create(n.compositeFilter.filters.map(r=>tk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function eU(t){return $9[t]}function tU(t){return z9[t]}function nU(t){return B9[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return Mt.fromServerFormat(t.fieldPath)}function nk(t){return t instanceof bt?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:tU(n.op),value:n.value}}}(t):t instanceof Wr?function(n){const r=n.getFilters().map(s=>nk(s));return r.length===1?r[0]:{compositeFilter:{op:nU(n.op),filters:r}}}(t):he(54877,{filter:t})}function rU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,s,i=me.min(),o=me.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.yt=e}}function iU(t){const e=X9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?py(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.Sn=new aU}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(bi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class aU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ik=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(ik,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new rl(0)}static ar(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="LruGarbageCollector",lU=1048576;function n1([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class cU{constructor(e){this.Pr=e,this.buffer=new Tt(n1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();n1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Z(t1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?Z(t1,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)})}}class dU{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(op.ce);const r=new cU(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(e1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e1):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ea()<=Ae.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function hU(t,e){return new dU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(){this.changes=new Vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ic(r.mutation,s,nr.empty(),Xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=lc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=vs();const o=Ac(),a=function(){return Ac()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Fo)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ic(h.mutation,c,h.mutation.getFieldMask(),Xe.now())):o.set(c.key,nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new pU(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ac();let s=new at((o,a)=>o-a),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||nr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||ke()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=FI();h.forEach(p=>{if(!i.has(p)){const g=HI(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return m9(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(eo());let a=su,l=i;return o.next(c=>$.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ke())).next(h=>({batchId:a,changes:VI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=lc();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(f,p){return new cp(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Qt.newInvalidDocument(h)))});let a=lc();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Ic(h.mutation,c,nr.empty(),Xe.now()),dp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:iU(s.bundledQuery),readTime:Vr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.overlays=new at(le.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=eo();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=eo(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new at((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=eo(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=eo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return $.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new D9(n,r));let i=this.Lr.get(n);i===void 0&&(i=ke(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.kr=new Tt(Pt.Kr),this.qr=new Tt(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Pt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new le(new st([])),r=new Pt(n,e),s=new Pt(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new le(new st([])),r=new Pt(n,e),s=new Pt(n,e+1);let i=ke();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return le.comparator(e.key,n.key)||Ie(e.Hr,n.Hr)}static Ur(e,n){return Ie(e.Hr,n.Hr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Tt(Pt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new O9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xw:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Ie);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new le(i),0);let a=new Tt(Ie);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),$.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Pt(n,0),s=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.ti=e,this.docs=function(){return new at(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=vs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Qt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vs();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||H6(W6(h),r)<=0||(s.has(h.key)||dp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he(9500)}ni(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _U(this)}getSize(e){return $.resolve(this.size)}}class _U extends fU{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.persistence=e,this.ri=new Vo(n=>bw(n),Sw),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.ii=0,this.si=new Nw,this.targetCount=0,this.oi=rl._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this._i={},this.overlays={},this.ai=new op(0),this.ui=!1,this.ui=!0,this.ci=new vU,this.referenceDelegate=e(this),this.li=new EU(this),this.indexManager=new oU,this.remoteDocumentCache=function(s){return new xU(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new sU(n),this.Pi=new gU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new wU(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new bU(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return $.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class bU extends K6{constructor(e){super(),this.currentSequenceNumber=e}}class Pw{constructor(e){this.persistence=e,this.Ri=new Nw,this.Ai=null}static Vi(e){return new Pw(e)}get di(){if(this.Ai)return this.Ai;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,r=>{const s=le.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,me.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rf{constructor(e,n){this.persistence=e,this.fi=new Vo(r=>Y6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hU(this,n)}static Vi(e,n){return new rf(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return $.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,me.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Rw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return ZV()?8:G6(Zt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new SU;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(ea()<=Ae.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(ea()<=Ae.DEBUG&&Z("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ea()<=Ae.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):$.resolve())}gs(e,n){if(WE(n))return $.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=py(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ke(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ss(n,c,o,l.readTime)?this.gs(e,py(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,s){return WE(n)||s.isEqual(me.min())?$.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?$.resolve(null):(ea()<=Ae.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(n)),this.Ds(e,o,n,B6(s,su)).next(a=>a))})}bs(e,n){let r=new Tt(LI(e));return n.forEach((s,i)=>{dp(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return ea()<=Ae.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ta(n)),this.fs.getDocumentsMatchingQuery(e,n,bi.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="LocalStore",CU=3e8;class AU{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new at(Ie),this.Fs=new Vo(i=>bw(i),Sw),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mU(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function IU(t,e,n,r){return new AU(t,e,n,r)}async function ak(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ke();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function kU(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let g=$.resolve();return p.forEach(S=>{g=g.next(()=>h.getEntry(l,S)).next(v=>{const E=c.docVersions.get(S);Fe(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function lk(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function NU(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken($t.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=CU?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,h)&&a.push(n.li.updateTargetData(i,g))});let l=vs(),c=ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(PU(i,o,e.documentUpdates).next(h=>{l=h.Bs,c=h.Ls})),!r.isEqual(me.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.vs=s,i))}function PU(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=vs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(jw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function RU(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jU(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function wy(t,e,n){const r=xe(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Al(o))throw o;Z(jw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function r1(t,e,n){const r=xe(t);let s=me.min(),i=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=xe(l),p=f.Fs.get(h);return p!==void 0?$.resolve(f.vs.get(p)):f.li.getTargetData(c,h)}(r,o,Mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:me.min(),n?i:ke())).next(a=>(OU(r,v9(e),a),{documents:a,ks:i})))}function OU(t,e,n){let r=t.Ms.get(e)||me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class s1{constructor(){this.activeTargetIds=S9()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DU{constructor(){this.vo=new s1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="ConnectivityMonitor";class o1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Z(i1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Z(i1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function xy(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",MU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Zh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=xy(),a=this.Qo(e,n.toUriEncodedString());Z(Nm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:c}=new URL(a),h=Mi(c);return this.zo(e,a,l,r,h).then(f=>(Z(Nm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw So(Nm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=MU[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection",ec=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Pa extends VU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pa.c_){const e=pI();ec(e,fI.STAT_EVENT,n=>{n.stat===ly.PROXY?Z(Ht,"STAT_EVENT: detected buffering proxy"):n.stat===ly.NOPROXY&&Z(Ht,"STAT_EVENT: detected no buffering proxy")}),Pa.c_=!0}}zo(e,n,r,s,i){const o=xy();return new Promise((a,l)=>{const c=new dI;c.setWithCredentials(!0),c.listenOnce(hI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rh.NO_ERROR:const f=c.getResponseJson();Z(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case rh.TIMEOUT:Z(Ht,`RPC '${e}' ${o} timed out`),l(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const p=c.getStatus();if(Z(Ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(S.status);l(new se(v,S.message))}else l(new se(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new se(B.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Z(Ht,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Ht,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=xy(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");Z(Ht,`Creating RPC '${e}' stream ${s}: ${c}`,a);const h=o.createWebChannel(c,a);this.I_(h);let f=!1,p=!1;const g=new FU({Ho:S=>{p?Z(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(Z(Ht,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Z(Ht,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Jo:()=>h.close()});return ec(h,ac.EventType.OPEN,()=>{p||(Z(Ht,`RPC '${e}' stream ${s} transport opened.`),g.i_())}),ec(h,ac.EventType.CLOSE,()=>{p||(p=!0,Z(Ht,`RPC '${e}' stream ${s} transport closed`),g.o_(),this.E_(h))}),ec(h,ac.EventType.ERROR,S=>{p||(p=!0,So(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),g.o_(new se(B.UNAVAILABLE,"The operation could not be completed")))}),ec(h,ac.EventType.MESSAGE,S=>{var v;if(!p){const E=S.data[0];Fe(!!E,16349);const _=E,w=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(w){Z(Ht,`RPC '${e}' stream ${s} received error:`,w);const b=w.status;let I=function(T){const C=mt[T];if(C!==void 0)return GI(C)}(b),P=w.message;b==="NOT_FOUND"&&P.includes("database")&&P.includes("does not exist")&&P.includes(this.databaseId.database)&&So(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),I===void 0&&(I=B.INTERNAL,P="Unknown error status: "+b+" with message "+w.message),p=!0,g.o_(new se(I,P)),h.close()}else Z(Ht,`RPC '${e}' stream ${s} received:`,E),g.__(E)}}),Pa.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){return new Pa(t)}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return new W9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa.c_=!1;class ck{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="PersistentStream";class uk{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ck(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ys(n.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(a1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Z(a1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $U extends uk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K9(this.serializer,e),r=function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?Vr(o.readTime):me.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=vy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=fy(l)?{documents:Y9(i,l)}:{query:Z9(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZI(i,o.resumeToken);const c=my(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=nf(i,o.snapshotVersion.toTimestamp());const c=my(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=J9(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=vy(this.serializer),n.removeTarget=e,this.K_(n)}}class zU extends uk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Q9(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G9(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{}class WU extends BU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,gy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,gy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function HU(t,e,n,r){return new WU(t,e,n,r)}class qU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class KU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Uo(this)&&(Z(To,"Restarting streams for network reachability change."),await async function(l){const c=xe(l);c.Ea.add(4),await $u(c),c.Va.set("Unknown"),c.Ea.delete(4),await gp(c)}(this))})}),this.Va=new qU(r,s)}}async function gp(t){if(Uo(t))for(const e of t.Ra)await e(!0)}async function $u(t){for(const e of t.Ra)await e(!1)}function dk(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mw(n)?Lw(n):Il(n).O_()&&Dw(n,e))}function Ow(t,e){const n=xe(t),r=Il(n);n.Ia.delete(e),r.O_()&&hk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uo(n)&&n.Va.set("Unknown"))}function Dw(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function hk(t,e){t.da.$e(e),Il(t).X_(e)}function Lw(t){t.da=new U9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ua()}function Mw(t){return Uo(t)&&!Il(t).x_()&&t.Ia.size>0}function Uo(t){return xe(t).Ea.size===0}function fk(t){t.da=void 0}async function GU(t){t.Va.set("Online")}async function QU(t){t.Ia.forEach((e,n)=>{Dw(t,e)})}async function YU(t,e){fk(t),Mw(t)?(t.Va.ha(e),Lw(t)):t.Va.set("Unknown")}async function ZU(t,e,n){if(t.Va.set("Online"),e instanceof YI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Z(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sf(t,r)}else if(e instanceof ah?t.da.Xe(e):e instanceof QI?t.da.st(e):t.da.tt(e),!n.isEqual(me.min()))try{const r=await lk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken($t.EMPTY_BYTE_STRING,h.snapshotVersion)),hk(i,l);const f=new ei(h.target,l,c,h.sequenceNumber);Dw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(To,"Failed to raise snapshot:",r),await sf(t,r)}}async function sf(t,e,n){if(!Al(e))throw e;t.Ea.add(1),await $u(t),t.Va.set("Offline"),n||(n=()=>lk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(To,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gp(t)})}function pk(t,e){return e().catch(n=>sf(t,n,e))}async function yp(t){const e=xe(t),n=Ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xw;for(;XU(e);)try{const s=await RU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,JU(e,s)}catch(s){await sf(e,s)}mk(e)&&gk(e)}function XU(t){return Uo(t)&&t.Ta.length<10}function JU(t,e){t.Ta.push(e);const n=Ai(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function mk(t){return Uo(t)&&!Ai(t).x_()&&t.Ta.length>0}function gk(t){Ai(t).start()}async function e$(t){Ai(t).ra()}async function t$(t){const e=Ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function n$(t,e,n){const r=t.Ta.shift(),s=Aw.from(r,e,n);await pk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yp(t)}async function r$(t,e){e&&Ai(t).Y_&&await async function(r,s){if(function(o){return M9(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Ai(r).B_(),await pk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await yp(r)}}(t,e),mk(t)&&gk(t)}async function l1(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),Z(To,"RemoteStore received new credentials");const r=Uo(n);n.Ea.add(3),await $u(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gp(n)}async function s$(t,e){const n=xe(t);e?(n.Ea.delete(2),await gp(n)):e||(n.Ea.add(2),await $u(n),n.Va.set("Unknown"))}function Il(t){return t.ma||(t.ma=function(n,r,s){const i=xe(n);return i.sa(),new $U(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:GU.bind(null,t),Yo:QU.bind(null,t),t_:YU.bind(null,t),J_:ZU.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Mw(t)?Lw(t):t.Va.set("Unknown")):(await t.ma.stop(),fk(t))})),t.ma}function Ai(t){return t.fa||(t.fa=function(n,r,s){const i=xe(n);return i.sa(),new zU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:e$.bind(null,t),t_:r$.bind(null,t),ta:t$.bind(null,t),na:n$.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await yp(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(To,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Vw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fw(t,e){if(ys("AsyncQueue",`${e}: ${t}`),Al(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.ga=new at(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sl(e,n,Ra.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class o${constructor(){this.queries=u1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=xe(n),i=s.queries;s.queries=u1(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new se(B.ABORTED,"Firestore shutting down"))}}function u1(){return new Vo(t=>DI(t),up)}async function a$(t,e){const n=xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new i$,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Fw(o,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Uw(n)}async function l$(t,e){const n=xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c$(t,e){const n=xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Uw(n)}function u$(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Uw(t){t.Ca.forEach(e=>{e.next()})}var _y,d1;(d1=_y||(_y={})).Ma="default",d1.Cache="cache";class d${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class vk{constructor(e){this.key=e}}class h${constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=LI(e),this.tu=new Ra(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new c1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=dp(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?S!==v&&(r.track({type:3,doc:g}),E=!0):this.su(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,S){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:E})}};return v(g)-v(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new sl(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new vk(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new yk(r))}),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $w="SyncEngine";class f${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p${constructor(e){this.key=e,this.hu=!1}}class m${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Vo(a=>DI(a),up),this.Iu=new Map,this.Eu=new Set,this.Ru=new at(le.comparator),this.Au=new Map,this.Vu=new Nw,this.du={},this.mu=new Map,this.fu=rl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g$(t,e,n=!0){const r=Sk(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await wk(r,e,n,!0),s}async function y$(t,e){const n=Sk(t);await wk(n,e,!0,!1)}async function wk(t,e,n,r){const s=await jU(t.localStore,Mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await v$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&dk(t.remoteStore,s),a}async function v$(t,e,n,r,s){t.pu=(f,p,g)=>async function(v,E,_,w){let b=E.view.ru(_);b.Ss&&(b=await r1(v.localStore,E.query,!1).then(({documents:T})=>E.view.ru(T,b)));const I=w&&w.targetChanges.get(E.targetId),P=w&&w.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(b,v.isPrimaryClient,I,P);return f1(v,E.targetId,D.au),D.snapshot}(t,f,p,g);const i=await r1(t.localStore,e,!0),o=new h$(e,i.ks),a=o.ru(i.documents),l=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);f1(t,n,c.au);const h=new f$(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function w$(t,e,n){const r=xe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!up(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await wy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ow(r.remoteStore,s.targetId),Ey(r,s.targetId)}).catch(Cl)):(Ey(r,s.targetId),await wy(r.localStore,s.targetId,!0))}async function x$(t,e){const n=xe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ow(n.remoteStore,r.targetId))}async function _$(t,e,n){const r=I$(t);try{const s=await function(o,a){const l=xe(o),c=Xe.now(),h=a.reduce((g,S)=>g.add(S.key),ke());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=vs(),v=ke();return l.xs.getEntries(g,h).next(E=>{S=E,S.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(E=>{f=E;const _=[];for(const w of a){const b=R9(w,f.get(w.key).overlayedDocument);b!=null&&_.push(new Fo(w.key,b,II(b.value.mapValue),ls.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:VI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.du[o.currentUser.toKey()];c||(c=new at(Ie)),c=c.insert(a,l),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await zu(r,s.changes),await yp(r.remoteStore)}catch(s){const i=Fw(s,"Failed to persist write");n.reject(i)}}async function xk(t,e){const n=xe(t);try{const r=await NU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Fe(o.hu,14607):s.removedDocuments.size>0&&(Fe(o.hu,42227),o.hu=!1))}),await zu(n,r,e)}catch(r){await Cl(r)}}function h1(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=xe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.ba)p.va(a)&&(c=!0)}),c&&Uw(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E$(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new at(le.comparator);o=o.insert(i,Qt.newNoDocument(i,me.min()));const a=ke().add(i),l=new pp(me.min(),new Map,new at(Ie),o,a);await xk(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),zw(r)}else await wy(r.localStore,e,!1).then(()=>Ey(r,e,n)).catch(Cl)}async function b$(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await kU(n.localStore,e);Ek(n,r,null),_k(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,s)}catch(s){await Cl(s)}}async function S$(t,e,n){const r=xe(t);try{const s=await function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Fe(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Ek(r,e,n),_k(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zu(r,s)}catch(s){await Cl(s)}}function _k(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ek(t,e,n){const r=xe(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||bk(t,r)})}function bk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ow(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),zw(t))}function f1(t,e,n){for(const r of n)r instanceof yk?(t.Vu.addReference(r.key,e),T$(t,r)):r instanceof vk?(Z($w,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||bk(t,r.key)):he(19791,{wu:r})}function T$(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Z($w,"New document in limbo: "+n),t.Eu.add(r),zw(t))}function zw(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(st.fromString(e)),r=t.fu.next();t.Au.set(r,new p$(n)),t.Ru=t.Ru.insert(n,r),dk(t.remoteStore,new ei(Mr(Tw(n.path)),r,"TargetPurposeLimboResolution",op.ce))}}async function zu(t,e,n){const r=xe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Rw.Es(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,c){const h=xe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,p=>$.forEach(p.Ts,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>$.forEach(p.Is,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Al(f))throw f;Z(jw,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.vs.get(p),S=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(p,v)}}}(r.localStore,i))}async function C$(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){Z($w,"User change. New user:",e.toKey());const r=await ak(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new se(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(n,r.Ns)}}function A$(t,e){const n=xe(t),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let s=ke();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Sk(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E$.bind(null,e),e.Pu.J_=c$.bind(null,e.eventManager),e.Pu.yu=u$.bind(null,e.eventManager),e}function I$(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S$.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IU(this.persistence,new TU,e.initialUser,this.serializer)}Cu(e){return new ok(Pw.Vi,this.serializer)}Du(e){return new DU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class k$ extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof rf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new ok(r=>rf.Vi(r,n),this.serializer)}}class by{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C$.bind(null,this.syncEngine),await s$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o$}()}createDatastore(e){const n=mp(e.databaseInfo.databaseId),r=UU(e.databaseInfo);return HU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new KU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>h1(this.syncEngine,n,0),function(){return o1.v()?new o1:new LU}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new m$(s,i,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=xe(s);Z(To,"RemoteStore shutting down."),i.Ea.add(5),await $u(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}by.provider={build:()=>new by};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="FirestoreClient";class P${constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(Ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(Ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ak(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function p1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R$(t);Z(Ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>l1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>l1(e.remoteStore,s)),t._onlineComponents=e}async function R$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Ii,"Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new of)}}else Z(Ii,"Using default OfflineComponentProvider"),await Rm(t,new k$(void 0));return t._offlineComponents}async function Tk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Ii,"Using user provided OnlineComponentProvider"),await p1(t,t._uninitializedComponentsProvider._online)):(Z(Ii,"Using default OnlineComponentProvider"),await p1(t,new by))),t._onlineComponents}function j$(t){return Tk(t).then(e=>e.syncEngine)}async function O$(t){const e=await Tk(t),n=e.eventManager;return n.onListen=g$.bind(null,e.syncEngine),n.onUnlisten=w$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x$.bind(null,e.syncEngine),n}function D$(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new N$({next:p=>{h.Nu(),o.enqueueAndForget(()=>l$(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new se(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new se(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new d$(Tw(a.path),h,{includeMetadataChanges:!0,Ka:!0});return a$(i,f)}(await O$(t),t.asyncQueue,e,n,r)),r.promise}function L$(t,e){const n=new pi;return t.asyncQueue.enqueueAndForget(async()=>_$(await j$(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="ComponentProvider",m1=new Map;function V$(t,e,n,r,s){return new J6(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Ck(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="firestore.googleapis.com",g1=!0;class y1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ak,this.ssl=g1}else this.host=e.host,this.ssl=e.ssl??g1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ik;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lU)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ck(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new P6;switch(r.type){case"firstParty":return new D6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=m1.get(n);r&&(Z(M$,"Removing Datastore"),m1.delete(n),r.terminate())}(this),Promise.resolve()}}function F$(t,e,n,r={}){var c;t=ru(t,Bw);const s=Mi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(sw(`https://${a}`),iw("Firestore",!0)),i.host!==Ak&&i.host!==a&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!wo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Kt.MOCK_USER;else{h=zV(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(p)}t._authCredentials=new R6(new yI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ww(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vu(n,jt._jsonSchema))return new jt(e,r||null,new le(st.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:yt("string",jt._jsonSchemaVersion),referencePath:yt("string")};class du extends Ww{constructor(e,n,r){super(e,n,Tw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new le(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function Sy(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=vw.newId()),$6("doc","path",e),t instanceof Bw){const r=st.fromString(e,...n);return PE(r),new jt(t,null,new le(r))}{if(!(t instanceof jt||t instanceof du))throw new se(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return PE(r),new jt(t.firestore,t instanceof du?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="AsyncQueue";class w1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ck(this,"async_queue_retry"),this._c=()=>{const r=Pm();r&&Z(v1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;Z(v1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",x1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Vw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&he(47125,{Pc:x1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function x1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hw extends Bw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new w1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w1(e),this._firestoreClient=void 0,await e}}}function U$(t,e){const n=typeof t=="object"?t:lw(),r=typeof t=="string"?t:Zh,s=np(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=EA("firestore");i&&F$(s,...i)}return s}function Ik(t){if(t._terminated)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$$(t),t._firestoreClient}function $$(t){var r,s,i,o;const e=t._freezeSettings(),n=V$(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new P$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln($t.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:yt("string",Ln._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:yt("string",Fr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ir(e.vectorValues);throw new se(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:yt("string",ir._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=/^__.*__$/;class B${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}function Nk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{dataSource:t})}}class Kw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Kw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return af(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Nk(this.dataSource)&&z$.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class W${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mp(e)}createContext(e,n,r,s=!1){return new Kw({dataSource:e,methodName:n,targetDoc:r,path:Mt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H$(t){const e=t._freezeSettings(),n=mp(t._databaseId);return new W$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q$(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Ok("Data must be an object, but it was:",o,r);const a=Rk(r,o);let l,c;if(i.merge)l=new nr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Qw(e,f,n);if(!o.contains(p))throw new se(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Q$(h,p)||h.push(p)}l=new nr(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new B$(new Dn(a),l,c)}class Gw extends qw{_toFieldTransform(e){return new I9(e.path,new lu)}isEqual(e){return e instanceof Gw}}function Pk(t,e){if(jk(t=Xt(t)))return Ok("Unsupported field value:",e,t),Rk(t,e);if(t instanceof qw)return function(r,s){if(!Nk(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Pk(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xe.fromDate(r);return{timestampValue:nf(s.serializer,i)}}if(r instanceof Xe){const i=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nf(s.serializer,i)}}if(r instanceof Fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:ZI(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ir)return function(o,a){const l=o instanceof ir?o.toArray():o;return{mapValue:{fields:{[CI]:{stringValue:AI},[Xh]:{arrayValue:{values:l.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Cw(a.serializer,h)})}}}}}}(r,s);if(sk(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${ww(r)}`)}(t,e)}function Rk(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,s)=>{const i=Pk(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Fr||t instanceof Ln||t instanceof jt||t instanceof qw||t instanceof ir||sk(t))}function Ok(t,e,n){if(!jk(n)||!vI(n)){const r=ww(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Qw(t,e,n){if((e=Xt(e))instanceof kk)return e._internalPath;if(typeof e=="string")return G$(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}const K$=new RegExp("[~\\*/\\[\\]]");function G$(t,e,n){if(e.search(K$)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kk(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new se(B.INVALID_ARGUMENT,a+t+l)}function Q$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Xh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>dt(o.doubleValue));return new ir(n)}convertGeoPoint(e){return new Fr(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Fe(rk(r),9688,{name:e});const s=new ou(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||ys(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z$ extends Y${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function X$(){return new Gw("serverTimestamp")}const _1="@firebase/firestore",E1="4.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Qw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J$ extends Dk{data(){return super.data()}}function e8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends Dk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:yt("string",co._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class lh extends co{data(e={}){return super.data(e)}}class kc{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lh(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new lh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new lh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:t8(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kc._jsonSchemaVersion="firestore/querySnapshot/1.0",kc._jsonSchema={type:yt("string",kc._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){t=ru(t,jt);const e=ru(t.firestore,Hw),n=Ik(e);return D$(n,t._key).then(r=>s8(e,t,r))}function n8(t,e,n){t=ru(t,jt);const r=ru(t.firestore,Hw),s=e8(t.converter,e,n),i=H$(r);return r8(r,[q$(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ls.none())])}function r8(t,e){const n=Ik(t);return L$(n,e)}function s8(t,e,n){const r=n.docs.get(e._key),s=new Z$(t);return new co(t,s,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){N6(bl),xo(new Ei("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Hw(new j6(r.getProvider("auth-internal")),new L6(o,r.getProvider("app-check-internal")),e9(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Or(_1,E1,e),Or(_1,E1,"esm2020")})();var i8="firebase",o8="12.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(i8,o8,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="type.googleapis.com/google.protobuf.Int64Value",l8="type.googleapis.com/google.protobuf.UInt64Value";function Mk(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function lf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>lf(e));if(typeof t=="function"||typeof t=="object")return Mk(t,e=>lf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function il(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case a8:case l8:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>il(e)):typeof t=="function"||typeof t=="object"?Mk(t,e=>il(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fn extends qr{constructor(e,n,r){super(`${Yw}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,fn.prototype)}}function c8(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function cf(t,e){let n=c8(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!b1[o])return new fn("internal","internal");n=b1[o],r=o}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=il(s))}}catch{}return n==="ok"?null:new fn(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_n(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="us-central1",d8=/^data: (.*?)(?:\n|$)/;function h8(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new fn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class f8{constructor(e,n,r,s,i=Ty,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new u8(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Ty}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function p8(t,e,n){const r=Mi(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(sw(t.emulatorOrigin+"/backends"),iw("Functions",!0))}function m8(t,e,n){const r=s=>y8(t,e,s,{});return r.stream=(s,i)=>w8(t,e,s,i),r}function Vk(t){return t.emulatorOrigin&&Mi(t.emulatorOrigin)?"include":void 0}async function g8(t,e,n,r,s){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:Vk(s)})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}async function Fk(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function y8(t,e,n,r){const s=t._url(e);return v8(t,s,n,r)}async function v8(t,e,n,r){n=lf(n);const s={data:n},i=await Fk(t,r),o=r.timeout||7e4,a=h8(o),l=await Promise.race([g8(e,s,i,t.fetchImpl,t),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new fn("cancelled","Firebase Functions instance was deleted.");const c=cf(l.status,l.json);if(c)throw c;if(!l.json)throw new fn("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new fn("internal","Response is missing data field.");return{data:il(h)}}function w8(t,e,n,r){const s=t._url(e);return x8(t,s,n,r||{})}async function x8(t,e,n,r){var p;n=lf(n);const s={data:n},i=await Fk(t,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:i,signal:r==null?void 0:r.signal,credentials:Vk(t)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const v=new fn("cancelled","Request was cancelled.");return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}const S=cf(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let a,l;const c=new Promise((g,S)=>{a=g,l=S});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const g=new fn("cancelled","Request was cancelled.");l(g)});const h=o.body.getReader(),f=_8(h,a,l,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const g=f.getReader();return{async next(){const{value:S,done:v}=await g.read();return{value:S,done:v}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:c}}function _8(t,e,n,r){const s=(o,a)=>{const l=o.match(d8);if(!l)return;const c=l[1];try{const h=JSON.parse(c);if("result"in h){e(il(h.result));return}if("message"in h){a.enqueue(il(h.message));return}if("error"in h){const f=cf(0,h);a.error(f),n(f);return}}catch(h){if(h instanceof fn){a.error(h),n(h);return}}},i=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(r!=null&&r.aborted){const c=new fn("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:h}=await t.read();if(h){a.trim()&&s(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const p=new fn("cancelled","Request was cancelled");o.error(p),n(p),await t.cancel();return}a+=i.decode(c,{stream:!0});const f=a.split(`
`);a=f.pop()||"";for(const p of f)p.trim()&&s(p.trim(),o);return l()}catch(c){const h=c instanceof fn?c:cf(0,null);o.error(h),n(h)}}},cancel(){return t.cancel()}})}const S1="@firebase/functions",T1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="auth-internal",b8="app-check-internal",S8="messaging-internal";function T8(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(E8),o=n.getProvider(S8),a=n.getProvider(b8);return new f8(s,i,o,a,r)};xo(new Ei(Yw,e,"PUBLIC").setMultipleInstances(!0)),Or(S1,T1,t),Or(S1,T1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t=lw(),e=Ty){const r=np(Xt(t),Yw).getImmediate({identifier:e}),s=EA("functions");return s&&A8(r,...s),r}function A8(t,e,n){p8(Xt(t),e,n)}function hu(t,e,n){return m8(Xt(t),e)}T8();const Cy={apiKey:"AIzaSyDBhvAHTWdd-Kst9iXY_g-eAL65_d6oCZ0",authDomain:"farm-fresh-advice.firebaseapp.com",projectId:"farm-fresh-advice",storageBucket:"farm-fresh-advice.firebasestorage.app",messagingSenderId:"642084093245",appId:"1:642084093245:web:a95ac94925cbb85c411954"};if(!Cy.apiKey||!Cy.projectId)throw new Error("Firebase config missing. Set VITE_FIREBASE_* values in .env.");const Zw=AA(Cy),Rd=I6(Zw),Ay=U$(Zw),fu=C8(Zw,"us-central1"),Uk=y.createContext(void 0),I8=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(!1),a=async f=>{try{const p=Sy(Ay,"profiles",f);(await Lk(p)).exists()?localStorage.setItem("onboardingComplete","true"):localStorage.removeItem("onboardingComplete")}catch(p){console.error("Error checking profile:",p)}finally{o(!0)}};y.useEffect(()=>{const f=gF(Rd,async p=>{if(n(p),!p){o(!0),s(!1);return}await a(p.uid),s(!1)});return()=>f()},[]);const l=async(f,p)=>{try{return await hF(Rd,f,p),{error:null}}catch(g){return{error:g}}},c=async(f,p)=>{try{return await fF(Rd,f,p),{error:null}}catch(g){return{error:g}}},h=async()=>{await yF(Rd),localStorage.removeItem("farmerProfile"),localStorage.removeItem("onboardingComplete")};return d.jsx(Uk.Provider,{value:{user:e,loading:r,profileChecked:i,signUp:l,signIn:c,signOut:h},children:t})},$o=()=>{const t=y.useContext(Uk);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};var k8=Symbol.for("react.lazy"),uf=xf[" use ".trim().toString()];function N8(t){return typeof t=="object"&&t!==null&&"then"in t}function $k(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===k8&&"_payload"in t&&N8(t._payload)}function zk(t){const e=R8(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;$k(i)&&typeof uf=="function"&&(i=uf(i._payload));const a=y.Children.toArray(i),l=a.find(O8);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var P8=zk("Slot");function R8(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if($k(s)&&typeof uf=="function"&&(s=uf(s._payload)),y.isValidElement(s)){const o=L8(s),a=D8(i,s.props);return s.type!==y.Fragment&&(a.ref=r?gl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var j8=Symbol("radix.slottable");function O8(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j8}function D8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function L8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const M8=Ff("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-farmer-base font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-button hover:bg-primary/90 active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground shadow-button text-farmer-lg hover:bg-primary/90 active:scale-[0.98]",accent:"bg-accent text-accent-foreground shadow-button hover:bg-accent/90 active:scale-[0.98]",weather:"bg-secondary text-secondary-foreground shadow-card hover:bg-secondary/90 active:scale-[0.98]"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-md px-4",lg:"h-14 rounded-xl px-8 text-farmer-lg",xl:"h-16 rounded-2xl px-10 text-farmer-xl",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),vt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?P8:"button";return d.jsx(o,{className:ie(M8({variant:e,size:n,className:t})),ref:i,...s})});vt.displayName="Button";const V8=[{code:"en",label:"English",native:"English"},{code:"hi",label:"Hindi",native:""},{code:"mr",label:"Marathi",native:""},{code:"ta",label:"Tamil",native:""},{code:"te",label:"Telugu",native:""},{code:"kn",label:"Kannada",native:""},{code:"bn",label:"Bengali",native:""},{code:"gu",label:"Gujarati",native:""},{code:"or",label:"Odia",native:""},{code:"ml",label:"Malayalam",native:""},{code:"pa",label:"Punjabi",native:""}],F8=()=>{const t=hr(),{language:e,setLanguage:n,t:r}=et(),s=o=>{n(o)},i=()=>{t("/auth")};return d.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[d.jsxs("div",{className:"relative flex flex-1 flex-col items-center justify-center px-6 py-12",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-20 -right-20 h-64 w-64 rounded-full bg-primary/5"}),d.jsx("div",{className:"absolute -bottom-32 -left-32 h-80 w-80 rounded-full bg-accent/10"})]}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[d.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-3xl bg-primary shadow-elevated",children:d.jsx(wi,{className:"h-12 w-12 text-primary-foreground"})}),d.jsx("h1",{className:"mb-2 text-farmer-2xl font-bold text-foreground",children:r("appName")}),d.jsx("p",{className:"mb-8 max-w-xs text-farmer-base text-muted-foreground",children:r("tagline")}),d.jsxs("div",{className:"mb-4 flex items-center gap-2 text-muted-foreground",children:[d.jsx(dC,{className:"h-5 w-5"}),d.jsx("span",{className:"text-farmer-base font-medium",children:r("selectLanguage")})]}),d.jsx("div",{className:"flex w-full max-w-xs flex-col gap-3",children:V8.map(o=>d.jsxs(vt,{variant:e===o.code?"default":"outline",size:"xl",onClick:()=>s(o.code),className:`w-full justify-between ${e===o.code?"border-2 border-primary":"border-2 border-border"}`,children:[d.jsx("span",{className:"text-farmer-lg",children:o.native}),o.code!=="en"&&d.jsxs("span",{className:"text-farmer-sm opacity-70",children:["(",o.label,")"]})]},o.code))}),d.jsxs(vt,{variant:"hero",size:"xl",onClick:i,className:"mt-8 w-full max-w-xs",children:[r("continue"),d.jsx(Vg,{className:"ml-2 h-5 w-5"})]})]})]}),d.jsx("div",{className:"flex h-16 items-center justify-center border-t border-border bg-muted/30",children:d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:r("madeForFarmers")})})]})},uo=y.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));uo.displayName="Input";var U8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$8=U8.reduce((t,e)=>{const n=zk(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),z8="Label",Bk=y.forwardRef((t,e)=>d.jsx($8.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Bk.displayName=z8;var Wk=Bk;const B8=Ff("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ur=y.forwardRef(({className:t,...e},n)=>d.jsx(Wk,{ref:n,className:ie(B8(),t),...e}));Ur.displayName=Wk.displayName;function C1(t,[e,n]){return Math.min(n,Math.max(e,t))}var W8=y.createContext(void 0);function H8(t){const e=y.useContext(W8);return t||e||"ltr"}var jm=0;function Hk(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??A1()),document.body.insertAdjacentElement("beforeend",t[1]??A1()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jm--}},[])}function A1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Om="focusScope.autoFocusOnMount",Dm="focusScope.autoFocusOnUnmount",I1={bubbles:!1,cancelable:!0},q8="FocusScope",Xw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=ar(s),h=ar(i),f=y.useRef(null),p=ze(e,v=>l(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const I=b.target;a.contains(I)?f.current=I:js(f.current,{select:!0})},E=function(b){if(g.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||js(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&js(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){N1.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Om,I1);a.addEventListener(Om,c),a.dispatchEvent(_),_.defaultPrevented||(K8(X8(qk(a)),{select:!0}),document.activeElement===v&&js(a))}return()=>{a.removeEventListener(Om,c),setTimeout(()=>{const _=new CustomEvent(Dm,I1);a.addEventListener(Dm,h),a.dispatchEvent(_),_.defaultPrevented||js(v??document.body,{select:!0}),a.removeEventListener(Dm,h),N1.remove(g)},0)}}},[a,c,h,g]);const S=y.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const w=v.currentTarget,[b,I]=G8(w);b&&I?!v.shiftKey&&_===I?(v.preventDefault(),n&&js(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&js(I,{select:!0})):_===w&&v.preventDefault()}},[n,r,g.paused]);return d.jsx(Se.div,{tabIndex:-1,...o,ref:p,onKeyDown:S})});Xw.displayName=q8;function K8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(js(r,{select:e}),document.activeElement!==n)return}function G8(t){const e=qk(t),n=k1(e,t),r=k1(e.reverse(),t);return[n,r]}function qk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function k1(t,e){for(const n of t)if(!Q8(n,{upTo:e}))return n}function Q8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Y8(t){return t instanceof HTMLInputElement&&"select"in t}function js(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Y8(t)&&e&&t.select()}}var N1=Z8();function Z8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=P1(t,e),t.unshift(e)},remove(e){var n;t=P1(t,e),(n=t[0])==null||n.resume()}}}function P1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function X8(t){return t.filter(e=>e.tagName!=="A")}function J8(t){const e=ez(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(nz);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function ez(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=sz(s),a=rz(i,s.props);return s.type!==y.Fragment&&(a.ref=r?gl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tz=Symbol("radix.slottable");function nz(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tz}function rz(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jw(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var iz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yo=new WeakMap,jd=new WeakMap,Od={},Lm=0,Kk=function(t){return t&&(t.host||Kk(t.parentNode))},oz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Kk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},az=function(t,e,n,r){var s=oz(e,Array.isArray(t)?t:[t]);Od[n]||(Od[n]=new WeakMap);var i=Od[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var g=p.getAttribute(r),S=g!==null&&g!=="false",v=(Yo.get(p)||0)+1,E=(i.get(p)||0)+1;Yo.set(p,v),i.set(p,E),o.push(p),v===1&&S&&jd.set(p,!0),E===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return h(e),a.clear(),Lm++,function(){o.forEach(function(f){var p=Yo.get(f)-1,g=i.get(f)-1;Yo.set(f,p),i.set(f,g),p||(jd.has(f)||f.removeAttribute(r),jd.delete(f)),g||f.removeAttribute(n)}),Lm--,Lm||(Yo=new WeakMap,Yo=new WeakMap,jd=new WeakMap,Od={})}},Gk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=iz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),az(r,s,n,"aria-hidden")):function(){return null}},kr=function(){return kr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kr.apply(this,arguments)};function Qk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function lz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ch="right-scroll-bar-position",uh="width-before-scroll-bar",cz="with-scroll-bars-hidden",uz="--removed-body-scroll-bar-size";function Mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var hz=typeof window<"u"?y.useLayoutEffect:y.useEffect,R1=new WeakMap;function fz(t,e){var n=dz(null,function(r){return t.forEach(function(s){return Mm(s,r)})});return hz(function(){var r=R1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Mm(a,null)}),i.forEach(function(a){s.has(a)||Mm(a,o)})}R1.set(n,t)},[t]),n}function pz(t){return t}function mz(t,e){e===void 0&&(e=pz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function gz(t){t===void 0&&(t={});var e=mz(null);return e.options=kr({async:!0,ssr:!1},t),e}var Yk=function(t){var e=t.sideCar,n=Qk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,kr({},n))};Yk.isSideCarExport=!0;function yz(t,e){return t.useMedium(e),Yk}var Zk=gz(),Vm=function(){},vp=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Vm,onWheelCapture:Vm,onTouchMoveCapture:Vm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,S=t.noIsolation,v=t.inert,E=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,b=t.gapMode,I=Qk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,D=fz([n,e]),T=kr(kr({},I),s);return y.createElement(y.Fragment,null,h&&y.createElement(P,{sideCar:Zk,removeScrollBar:c,shards:f,noRelative:g,noIsolation:S,inert:v,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(a),kr(kr({},T),{ref:D})):y.createElement(w,kr({},T,{className:l,ref:D}),a))});vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vp.classNames={fullWidth:uh,zeroRight:ch};var vz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vz();return e&&t.setAttribute("nonce",e),t}function xz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _z(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ez=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wz())&&(xz(e,n),_z(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bz=function(){var t=Ez();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Xk=function(){var t=bz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Sz={left:0,top:0,right:0,gap:0},Fm=function(t){return parseInt(t||"",10)||0},Tz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Fm(n),Fm(r),Fm(s)]},Cz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Sz;var e=Tz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Az=Xk(),ja="data-scroll-locked",Iz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ch,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ja,`] {
    `).concat(uz,": ").concat(a,`px;
  }
`)},j1=function(){var t=parseInt(document.body.getAttribute(ja)||"0",10);return isFinite(t)?t:0},kz=function(){y.useEffect(function(){return document.body.setAttribute(ja,(j1()+1).toString()),function(){var t=j1()-1;t<=0?document.body.removeAttribute(ja):document.body.setAttribute(ja,t.toString())}},[])},Nz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;kz();var i=y.useMemo(function(){return Cz(s)},[s]);return y.createElement(Az,{styles:Iz(i,!e,s,n?"":"!important")})},Iy=!1;if(typeof window<"u")try{var Dd=Object.defineProperty({},"passive",{get:function(){return Iy=!0,!0}});window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{Iy=!1}var Zo=Iy?{passive:!1}:!1,Pz=function(t){return t.tagName==="TEXTAREA"},Jk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Pz(t)&&n[e]==="visible")},Rz=function(t){return Jk(t,"overflowY")},jz=function(t){return Jk(t,"overflowX")},O1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=eN(t,r);if(s){var i=tN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Oz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Dz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},eN=function(t,e){return t==="v"?Rz(e):jz(e)},tN=function(t,e){return t==="v"?Oz(e):Dz(e)},Lz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Mz=function(t,e,n,r,s){var i=Lz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,p=0;do{if(!a)break;var g=tN(t,a),S=g[0],v=g[1],E=g[2],_=v-E-i*S;(S||_)&&eN(t,a)&&(f+=_,p+=S);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(c=!0),c},Ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},D1=function(t){return[t.deltaX,t.deltaY]},L1=function(t){return t&&"current"in t?t.current:t},Vz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Uz=0,Xo=[];function $z(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(Uz++)[0],i=y.useState(Xk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=lz([t.lockRef.current],(t.shards||[]).map(L1),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Ld(v),w=n.current,b="deltaX"in v?v.deltaX:w[0]-_[0],I="deltaY"in v?v.deltaY:w[1]-_[1],P,D=v.target,T=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&T==="h"&&D.type==="range")return!1;var C=window.getSelection(),A=C&&C.anchorNode,N=A?A===D||A.contains(D):!1;if(N)return!1;var j=O1(T,D);if(!j)return!0;if(j?P=T:(P=T==="v"?"h":"v",j=O1(T,D)),!j)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=P),!P)return!0;var O=r.current||P;return Mz(O,E,v,O==="h"?b:I)},[]),l=y.useCallback(function(v){var E=v;if(!(!Xo.length||Xo[Xo.length-1]!==i)){var _="deltaY"in E?D1(E):Ld(E),w=e.current.filter(function(P){return P.name===E.type&&(P.target===E.target||E.target===P.shadowParent)&&Vz(P.delta,_)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(L1).filter(Boolean).filter(function(P){return P.contains(E.target)}),I=b.length>0?a(E,b[0]):!o.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),c=y.useCallback(function(v,E,_,w){var b={name:v,delta:E,target:_,should:w,shadowParent:zz(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),h=y.useCallback(function(v){n.current=Ld(v),r.current=void 0},[]),f=y.useCallback(function(v){c(v.type,D1(v),v.target,a(v,t.lockRef.current))},[]),p=y.useCallback(function(v){c(v.type,Ld(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Xo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Zo),document.addEventListener("touchmove",l,Zo),document.addEventListener("touchstart",h,Zo),function(){Xo=Xo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Zo),document.removeEventListener("touchmove",l,Zo),document.removeEventListener("touchstart",h,Zo)}},[]);var g=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:Fz(s)}):null,g?y.createElement(Nz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Bz=yz(Zk,$z);var e0=y.forwardRef(function(t,e){return y.createElement(vp,kr({},t,{ref:e,sideCar:Bz}))});e0.classNames=vp.classNames;var Wz=[" ","Enter","ArrowUp","ArrowDown"],Hz=[" ","Enter"],Co="Select",[wp,xp,qz]=RT(Co),[kl]=Oi(Co,[qz,Qf]),_p=Qf(),[Kz,Ui]=kl(Co),[Gz,Qz]=kl(Co),nN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:f,disabled:p,required:g,form:S}=t,v=_p(e),[E,_]=y.useState(null),[w,b]=y.useState(null),[I,P]=y.useState(!1),D=H8(c),[T,C]=Ya({prop:r,defaultProp:s??!1,onChange:i,caller:Co}),[A,N]=Ya({prop:o,defaultProp:a,onChange:l,caller:Co}),j=y.useRef(null),O=E?S||!!E.closest("form"):!0,[R,z]=y.useState(new Set),ne=Array.from(R).map(J=>J.props.value).join(";");return d.jsx(RL,{...v,children:d.jsxs(Kz,{required:g,scope:e,trigger:E,onTriggerChange:_,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:I,onValueNodeHasChildrenChange:P,contentId:Ca(),value:A,onValueChange:N,open:T,onOpenChange:C,dir:D,triggerPointerDownPosRef:j,disabled:p,children:[d.jsx(wp.Provider,{scope:e,children:d.jsx(Gz,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{z(oe=>new Set(oe).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{z(oe=>{const V=new Set(oe);return V.delete(J),V})},[]),children:n})}),O?d.jsxs(CN,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:J=>N(J.target.value),disabled:p,form:S,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(R)]},ne):null]})})};nN.displayName=Co;var rN="SelectTrigger",sN=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=_p(n),o=Ui(rN,n),a=o.disabled||r,l=ze(e,o.onTriggerChange),c=xp(n),h=y.useRef("touch"),[f,p,g]=IN(v=>{const E=c().filter(b=>!b.disabled),_=E.find(b=>b.value===o.value),w=kN(E,v,_);w!==void 0&&o.onValueChange(w.value)}),S=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(HC,{asChild:!0,...i,children:d.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AN(o.value)?"":void 0,...s,ref:l,onClick:ye(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&S(v)}),onPointerDown:ye(s.onPointerDown,v=>{h.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:ye(s.onKeyDown,v=>{const E=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(E&&v.key===" ")&&Wz.includes(v.key)&&(S(),v.preventDefault())})})})});sN.displayName=rN;var iN="SelectValue",oN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ui(iN,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,f=ze(e,l.onValueNodeChange);return Ut(()=>{c(h)},[c,h]),d.jsx(Se.span,{...a,ref:f,style:{pointerEvents:"none"},children:AN(l.value)?d.jsx(d.Fragment,{children:o}):i})});oN.displayName=iN;var Yz="SelectIcon",aN=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});aN.displayName=Yz;var Zz="SelectPortal",lN=t=>d.jsx(Lf,{asChild:!0,...t});lN.displayName=Zz;var Ao="SelectContent",cN=y.forwardRef((t,e)=>{const n=Ui(Ao,t.__scopeSelect),[r,s]=y.useState();if(Ut(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?jo.createPortal(d.jsx(uN,{scope:t.__scopeSelect,children:d.jsx(wp.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(dN,{...t,ref:e})});cN.displayName=Ao;var Gn=10,[uN,$i]=kl(Ao),Xz="SelectContentImpl",Jz=J8("SelectContent.RemoveScroll"),dN=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:v,avoidCollisions:E,..._}=t,w=Ui(Ao,n),[b,I]=y.useState(null),[P,D]=y.useState(null),T=ze(e,G=>I(G)),[C,A]=y.useState(null),[N,j]=y.useState(null),O=xp(n),[R,z]=y.useState(!1),ne=y.useRef(!1);y.useEffect(()=>{if(b)return Gk(b)},[b]),Hk();const J=y.useCallback(G=>{const[je,...Ge]=O().map(Ne=>Ne.ref.current),[Oe]=Ge.slice(-1),Ce=document.activeElement;for(const Ne of G)if(Ne===Ce||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===je&&P&&(P.scrollTop=0),Ne===Oe&&P&&(P.scrollTop=P.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==Ce))return},[O,P]),oe=y.useCallback(()=>J([C,b]),[J,C,b]);y.useEffect(()=>{R&&oe()},[R,oe]);const{onOpenChange:V,triggerPointerDownPosRef:U}=w;y.useEffect(()=>{if(b){let G={x:0,y:0};const je=Oe=>{var Ce,Ne;G={x:Math.abs(Math.round(Oe.pageX)-(((Ce=U.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ne=U.current)==null?void 0:Ne.y)??0))}},Ge=Oe=>{G.x<=10&&G.y<=10?Oe.preventDefault():b.contains(Oe.target)||V(!1),document.removeEventListener("pointermove",je),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ge,{capture:!0})}}},[b,V,U]),y.useEffect(()=>{const G=()=>V(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[V]);const[Q,ce]=IN(G=>{const je=O().filter(Ce=>!Ce.disabled),Ge=je.find(Ce=>Ce.ref.current===document.activeElement),Oe=kN(je,G,Ge);Oe&&setTimeout(()=>Oe.ref.current.focus())}),re=y.useCallback((G,je,Ge)=>{const Oe=!ne.current&&!Ge;(w.value!==void 0&&w.value===je||Oe)&&(A(G),Oe&&(ne.current=!0))},[w.value]),ge=y.useCallback(()=>b==null?void 0:b.focus(),[b]),fe=y.useCallback((G,je,Ge)=>{const Oe=!ne.current&&!Ge;(w.value!==void 0&&w.value===je||Oe)&&j(G)},[w.value]),Ue=r==="popper"?ky:hN,He=Ue===ky?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return d.jsx(uN,{scope:n,content:b,viewport:P,onViewportChange:D,itemRefCallback:re,selectedItem:C,onItemLeave:ge,itemTextRefCallback:fe,focusSelectedItem:oe,selectedItemText:N,position:r,isPositioned:R,searchRef:Q,children:d.jsx(e0,{as:Jz,allowPinchZoom:!0,children:d.jsx(Xw,{asChild:!0,trapped:w.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:ye(s,G=>{var je;(je=w.trigger)==null||je.focus({preventScroll:!0}),G.preventDefault()}),children:d.jsx(Au,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(Ue,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:G=>G.preventDefault(),..._,...He,onPlaced:()=>z(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ye(_.onKeyDown,G=>{const je=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!je&&G.key.length===1&&ce(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let Oe=O().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(G.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const Ce=G.target,Ne=Oe.indexOf(Ce);Oe=Oe.slice(Ne+1)}setTimeout(()=>J(Oe)),G.preventDefault()}})})})})})})});dN.displayName=Xz;var e7="SelectItemAlignedPosition",hN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ui(Ao,n),o=$i(Ao,n),[a,l]=y.useState(null),[c,h]=y.useState(null),f=ze(e,T=>h(T)),p=xp(n),g=y.useRef(!1),S=y.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:w}=o,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&E&&_){const T=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=N.left-C.left,Ne=A.left-Ce,pt=T.left-Ne,Jt=T.width+pt,Kr=Math.max(Jt,C.width),kn=window.innerWidth-Gn,zn=C1(Ne,[Gn,Math.max(Gn,kn-Kr)]);a.style.minWidth=Jt+"px",a.style.left=zn+"px"}else{const Ce=C.right-N.right,Ne=window.innerWidth-A.right-Ce,pt=window.innerWidth-T.right-Ne,Jt=T.width+pt,Kr=Math.max(Jt,C.width),kn=window.innerWidth-Gn,zn=C1(Ne,[Gn,Math.max(Gn,kn-Kr)]);a.style.minWidth=Jt+"px",a.style.right=zn+"px"}const j=p(),O=window.innerHeight-Gn*2,R=v.scrollHeight,z=window.getComputedStyle(c),ne=parseInt(z.borderTopWidth,10),J=parseInt(z.paddingTop,10),oe=parseInt(z.borderBottomWidth,10),V=parseInt(z.paddingBottom,10),U=ne+J+R+V+oe,Q=Math.min(E.offsetHeight*5,U),ce=window.getComputedStyle(v),re=parseInt(ce.paddingTop,10),ge=parseInt(ce.paddingBottom,10),fe=T.top+T.height/2-Gn,Ue=O-fe,He=E.offsetHeight/2,G=E.offsetTop+He,je=ne+J+G,Ge=U-je;if(je<=fe){const Ce=j.length>0&&E===j[j.length-1].ref.current;a.style.bottom="0px";const Ne=c.clientHeight-v.offsetTop-v.offsetHeight,pt=Math.max(Ue,He+(Ce?ge:0)+Ne+oe),Jt=je+pt;a.style.height=Jt+"px"}else{const Ce=j.length>0&&E===j[0].ref.current;a.style.top="0px";const pt=Math.max(fe,ne+v.offsetTop+(Ce?re:0)+He)+Ge;a.style.height=pt+"px",v.scrollTop=je-fe+v.offsetTop}a.style.margin=`${Gn}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,E,_,i.dir,r]);Ut(()=>b(),[b]);const[I,P]=y.useState();Ut(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const D=y.useCallback(T=>{T&&S.current===!0&&(b(),w==null||w(),S.current=!1)},[b,w]);return d.jsx(n7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hN.displayName=e7;var t7="SelectPopperPosition",ky=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gn,...i}=t,o=_p(n);return d.jsx(qC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ky.displayName=t7;var[n7,t0]=kl(Ao,{}),Ny="SelectViewport",fN=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=$i(Ny,n),o=t0(Ny,n),a=ze(e,i.onViewportChange),l=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(wp.Slot,{scope:n,children:d.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ye(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-h.scrollTop);if(g>0){const S=window.innerHeight-Gn*2,v=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),_=Math.max(v,E);if(_<S){const w=_+g,b=Math.min(S,w),I=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});fN.displayName=Ny;var pN="SelectGroup",[r7,s7]=kl(pN),i7=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ca();return d.jsx(r7,{scope:n,id:s,children:d.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});i7.displayName=pN;var mN="SelectLabel",gN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=s7(mN,n);return d.jsx(Se.div,{id:s.id,...r,ref:e})});gN.displayName=mN;var df="SelectItem",[o7,yN]=kl(df),vN=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ui(df,n),l=$i(df,n),c=a.value===r,[h,f]=y.useState(i??""),[p,g]=y.useState(!1),S=ze(e,w=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,w,r,s)}),v=Ca(),E=y.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(o7,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:y.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(wp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Se.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ye(o.onFocus,()=>g(!0)),onBlur:ye(o.onBlur,()=>g(!1)),onClick:ye(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ye(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ye(o.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:ye(o.onPointerMove,w=>{var b;E.current=w.pointerType,s?(b=l.onItemLeave)==null||b.call(l):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ye(o.onKeyDown,w=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&w.key===" "||(Hz.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});vN.displayName=df;var dc="SelectItemText",wN=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ui(dc,n),a=$i(dc,n),l=yN(dc,n),c=Qz(dc,n),[h,f]=y.useState(null),p=ze(e,_=>f(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),g=h==null?void 0:h.textContent,S=y.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Ut(()=>(v(S),()=>E(S)),[v,E,S]),d.jsxs(d.Fragment,{children:[d.jsx(Se.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jo.createPortal(i.children,o.valueNode):null]})});wN.displayName=dc;var xN="SelectItemIndicator",_N=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yN(xN,n).isSelected?d.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});_N.displayName=xN;var Py="SelectScrollUpButton",EN=y.forwardRef((t,e)=>{const n=$i(Py,t.__scopeSelect),r=t0(Py,t.__scopeSelect),[s,i]=y.useState(!1),o=ze(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(SN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});EN.displayName=Py;var Ry="SelectScrollDownButton",bN=y.forwardRef((t,e)=>{const n=$i(Ry,t.__scopeSelect),r=t0(Ry,t.__scopeSelect),[s,i]=y.useState(!1),o=ze(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(SN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});bN.displayName=Ry;var SN=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=$i("SelectScrollButton",n),o=y.useRef(null),a=xp(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Ut(()=>{var h;const c=a().find(f=>f.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(s.onPointerLeave,()=>{l()})})}),a7="SelectSeparator",TN=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});TN.displayName=a7;var jy="SelectArrow",l7=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_p(n),i=Ui(jy,n),o=$i(jy,n);return i.open&&o.position==="popper"?d.jsx(KC,{...s,...r,ref:e}):null});l7.displayName=jy;var c7="SelectBubbleInput",CN=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=ze(r,s),o=Jw(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Se.select,{...n,style:{...MT,...n.style},ref:i,defaultValue:e})});CN.displayName=c7;function AN(t){return t===""||t===void 0}function IN(t){const e=ar(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function kN(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=u7(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function u7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var d7=nN,NN=sN,h7=oN,f7=aN,p7=lN,PN=cN,m7=fN,RN=gN,jN=vN,g7=wN,y7=_N,ON=EN,DN=bN,LN=TN;const pu=d7,mu=h7,ol=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(NN,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(f7,{asChild:!0,children:d.jsx(Uf,{className:"h-4 w-4 opacity-50"})})]}));ol.displayName=NN.displayName;const MN=y.forwardRef(({className:t,...e},n)=>d.jsx(ON,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(oC,{className:"h-4 w-4"})}));MN.displayName=ON.displayName;const VN=y.forwardRef(({className:t,...e},n)=>d.jsx(DN,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Uf,{className:"h-4 w-4"})}));VN.displayName=DN.displayName;const al=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(p7,{children:d.jsxs(PN,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(MN,{}),d.jsx(m7,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(VN,{})]})}));al.displayName=PN.displayName;const v7=y.forwardRef(({className:t,...e},n)=>d.jsx(RN,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));v7.displayName=RN.displayName;const Nt=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(jN,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(y7,{children:d.jsx(ku,{className:"h-4 w-4"})})}),d.jsx(g7,{children:e})]}));Nt.displayName=jN.displayName;const w7=y.forwardRef(({className:t,...e},n)=>d.jsx(LN,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));w7.displayName=LN.displayName;const n0=()=>{const{user:t}=$o(),[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(null),a=async()=>{if(!t){n(null),s(!1);return}try{s(!0);const h=Sy(Ay,"profiles",t.uid),f=await Lk(h);if(f.exists()){const p=f.data(),g={name:p.name||"",location:p.location||"",village:p.village||"",farmingSeason:p.farmingSeason||"",farms:Array.isArray(p.farms)?p.farms.map(S=>({id:S.id,name:S.name||"",size:S.size,crops:Array.isArray(S.crops)?S.crops:[]})):[]};n(g),localStorage.setItem("farmerProfile",JSON.stringify(g)),localStorage.setItem("onboardingComplete","true")}else n(null)}catch(h){console.error("Error fetching profile:",h),o("Failed to load profile");const f=localStorage.getItem("farmerProfile");if(f)try{n(JSON.parse(f))}catch(p){console.error("Error parsing local profile:",p)}}finally{s(!1)}},l=async h=>{if(!t)return{error:new Error("Not authenticated")};try{const f=Sy(Ay,"profiles",t.uid);return await n8(f,{userId:t.uid,name:h.name||"",location:h.location||"",village:h.village||"",farmingSeason:h.farmingSeason||"",farms:h.farms||[],updatedAt:X$()},{merge:!0}),n(h),localStorage.setItem("farmerProfile",JSON.stringify(h)),localStorage.setItem("onboardingComplete","true"),{error:null}}catch(f){return console.error("Error saving profile:",f),{error:f}}},c=()=>e!==null&&e.location!==""&&e.farms.length>0;return y.useEffect(()=>{a()},[t]),{profile:e,loading:r,error:i,saveProfile:l,hasProfile:c,refetch:a}},Be=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Be.displayName="Card";const x7=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",t),...e}));x7.displayName="CardHeader";const _7=y.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));_7.displayName="CardTitle";const E7=y.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));E7.displayName="CardDescription";const Bs=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ie("p-6 pt-0",t),...e}));Bs.displayName="CardContent";const b7=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",t),...e}));b7.displayName="CardFooter";const S7=t=>t.startsWith("01")?d.jsx(yo,{className:"h-6 w-6 text-warning"}):t.startsWith("02")||t.startsWith("03")?d.jsx($f,{className:"h-6 w-6 text-warning"}):t.startsWith("04")?d.jsx(lC,{className:"h-6 w-6 text-muted-foreground"}):t.startsWith("09")||t.startsWith("10")?d.jsx(Za,{className:"h-6 w-6 text-primary"}):t.startsWith("11")?d.jsx(Za,{className:"h-6 w-6 text-accent"}):t.startsWith("13")?d.jsx(hC,{className:"h-6 w-6 text-primary"}):t.startsWith("50")?d.jsx(aC,{className:"h-6 w-6 text-muted-foreground"}):d.jsx(yo,{className:"h-6 w-6 text-warning"}),T7=({forecast:t,className:e})=>{const{t:n}=et();return!t||t.length===0?null:d.jsxs(Be,{className:ie("card-elevated overflow-hidden p-4",e),children:[d.jsx("h3",{className:"text-farmer-base font-semibold text-foreground mb-4",children:n("fiveDayForecast")}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.slice(0,5).map((r,s)=>d.jsxs("div",{className:ie("flex-shrink-0 flex flex-col items-center p-3 rounded-xl min-w-[72px]",s===0?"bg-primary/10":"bg-muted/50"),children:[d.jsx("span",{className:"text-farmer-xs font-medium text-muted-foreground",children:s===0?n("tomorrow"):r.dayName.slice(0,3)}),d.jsx("div",{className:"my-2",children:S7(r.icon)}),d.jsxs("div",{className:"flex items-center gap-1 text-farmer-sm",children:[d.jsxs("span",{className:"font-bold text-foreground",children:[r.tempMax,""]}),d.jsxs("span",{className:"text-muted-foreground",children:[r.tempMin,""]})]}),r.rainfall>0&&d.jsxs("span",{className:"text-farmer-xs text-primary mt-1",children:[r.rainfall,"mm"]})]},r.date))})]})};function C7(t){const e=A7(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(k7);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function A7(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=P7(s),a=N7(i,s.props);return s.type!==y.Fragment&&(a.ref=r?gl(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var I7=Symbol("radix.slottable");function k7(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===I7}function N7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function P7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ep="Dialog",[FN]=Oi(Ep),[R7,fr]=FN(Ep),UN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,h]=Ya({prop:r,defaultProp:s??!1,onChange:i,caller:Ep});return d.jsx(R7,{scope:e,triggerRef:a,contentRef:l,contentId:Ca(),titleId:Ca(),descriptionId:Ca(),open:c,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};UN.displayName=Ep;var $N="DialogTrigger",zN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr($N,n),i=ze(e,s.triggerRef);return d.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":i0(s.open),...r,ref:i,onClick:ye(t.onClick,s.onOpenToggle)})});zN.displayName=$N;var r0="DialogPortal",[j7,BN]=FN(r0,{forceMount:void 0}),WN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=fr(r0,e);return d.jsx(j7,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(Oo,{present:n||i.open,children:d.jsx(Lf,{asChild:!0,container:s,children:o})}))})};WN.displayName=r0;var hf="DialogOverlay",HN=y.forwardRef((t,e)=>{const n=BN(hf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(hf,t.__scopeDialog);return i.modal?d.jsx(Oo,{present:r||i.open,children:d.jsx(D7,{...s,ref:e})}):null});HN.displayName=hf;var O7=C7("DialogOverlay.RemoveScroll"),D7=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(hf,n);return d.jsx(e0,{as:O7,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Se.div,{"data-state":i0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Io="DialogContent",qN=y.forwardRef((t,e)=>{const n=BN(Io,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(Io,t.__scopeDialog);return d.jsx(Oo,{present:r||i.open,children:i.modal?d.jsx(L7,{...s,ref:e}):d.jsx(M7,{...s,ref:e})})});qN.displayName=Io;var L7=y.forwardRef((t,e)=>{const n=fr(Io,t.__scopeDialog),r=y.useRef(null),s=ze(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Gk(i)},[]),d.jsx(KN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault())})}),M7=y.forwardRef((t,e)=>{const n=fr(Io,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(KN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),KN=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=fr(Io,n),l=y.useRef(null),c=ze(e,l);return Hk(),d.jsxs(d.Fragment,{children:[d.jsx(Xw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Au,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":i0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(V7,{titleId:a.titleId}),d.jsx(U7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),s0="DialogTitle",GN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(s0,n);return d.jsx(Se.h2,{id:s.titleId,...r,ref:e})});GN.displayName=s0;var QN="DialogDescription",YN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(QN,n);return d.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});YN.displayName=QN;var ZN="DialogClose",XN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(ZN,n);return d.jsx(Se.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>s.onOpenChange(!1))})});XN.displayName=ZN;function i0(t){return t?"open":"closed"}var JN="DialogTitleWarning",[IW,eP]=Ij(JN,{contentName:Io,titleName:s0,docsSlug:"dialog"}),V7=({titleId:t})=>{const e=eP(JN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},F7="DialogDescriptionWarning",U7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eP(F7).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$7=UN,z7=zN,B7=WN,tP=HN,nP=qN,rP=GN,sP=YN,W7=XN;const H7=$7,q7=z7,K7=B7,iP=y.forwardRef(({className:t,...e},n)=>d.jsx(tP,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iP.displayName=tP.displayName;const oP=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(K7,{children:[d.jsx(iP,{}),d.jsxs(nP,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(W7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Wf,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oP.displayName=nP.displayName;const aP=({className:t,...e})=>d.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});aP.displayName="DialogHeader";const lP=y.forwardRef(({className:t,...e},n)=>d.jsx(rP,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",t),...e}));lP.displayName=rP.displayName;const G7=y.forwardRef(({className:t,...e},n)=>d.jsx(sP,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));G7.displayName=sP.displayName;var bp="Checkbox",[Q7]=Oi(bp),[Y7,o0]=Q7(bp);function Z7(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:c,value:h="on",internal_do_not_use_render:f}=t,[p,g]=Ya({prop:n,defaultProp:s??!1,onChange:l,caller:bp}),[S,v]=y.useState(null),[E,_]=y.useState(null),w=y.useRef(!1),b=S?!!o||!!S.closest("form"):!0,I={checked:p,disabled:i,setChecked:g,control:S,setControl:v,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:mi(s)?!1:s,isFormControl:b,bubbleInput:E,setBubbleInput:_};return d.jsx(Y7,{scope:e,...I,children:X7(f)?f(I):r})}var cP="CheckboxTrigger",uP=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:c,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:S}=o0(cP,t),v=ze(s,h),E=y.useRef(l);return y.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const w=()=>f(E.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[i,f]),d.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":mi(l)?"mixed":l,"aria-required":c,"data-state":mP(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:v,onKeyDown:ye(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ye(n,_=>{f(w=>mi(w)?!0:!w),S&&g&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})})});uP.displayName=cP;var a0=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:c,form:h,...f}=t;return d.jsx(Z7,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:c,name:r,form:h,value:l,internal_do_not_use_render:({isFormControl:p})=>d.jsxs(d.Fragment,{children:[d.jsx(uP,{...f,ref:e,__scopeCheckbox:n}),p&&d.jsx(pP,{__scopeCheckbox:n})]})})});a0.displayName=bp;var dP="CheckboxIndicator",hP=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=o0(dP,n);return d.jsx(Oo,{present:r||mi(i.checked)||i.checked===!0,children:d.jsx(Se.span,{"data-state":mP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});hP.displayName=dP;var fP="CheckboxBubbleInput",pP=y.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:c,value:h,form:f,bubbleInput:p,setBubbleInput:g}=o0(fP,t),S=ze(n,g),v=Jw(i),E=Kv(r);y.useEffect(()=>{const w=p;if(!w)return;const b=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(b,"checked").set,D=!s.current;if(v!==i&&P){const T=new Event("click",{bubbles:D});w.indeterminate=mi(i),P.call(w,mi(i)?!1:i),w.dispatchEvent(T)}},[p,v,i,s]);const _=y.useRef(mi(i)?!1:i);return d.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:a,disabled:l,name:c,value:h,form:f,...e,tabIndex:-1,ref:S,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pP.displayName=fP;function X7(t){return typeof t=="function"}function mi(t){return t==="indeterminate"}function mP(t){return mi(t)?"indeterminate":t?"checked":"unchecked"}const gP=y.forwardRef(({className:t,...e},n)=>d.jsx(a0,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(hP,{className:ie("flex items-center justify-center text-current"),children:d.jsx(ku,{className:"h-4 w-4"})})}));gP.displayName=a0.displayName;const J7=()=>`farm_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,eB=({onAdd:t,crops:e,farmSizes:n})=>{const{t:r}=et(),[s,i]=y.useState(!1),[o,a]=y.useState(""),[l,c]=y.useState(""),[h,f]=y.useState([]),p=v=>{f(E=>E.includes(v)?E.filter(_=>_!==v):[...E,v])},g=()=>{if(l&&h.length>0){const v={id:J7(),name:o.trim(),size:l,crops:h};t(v),a(""),c(""),f([]),i(!1)}},S=l&&h.length>0;return d.jsxs(H7,{open:s,onOpenChange:i,children:[d.jsx(q7,{asChild:!0,children:d.jsxs(vt,{variant:"secondary",size:"lg",className:"w-full gap-2 border-2 border-dashed border-primary/30",children:[d.jsx(zO,{className:"h-5 w-5"}),r("addFarm")]})}),d.jsxs(oP,{className:"mx-4 max-w-md rounded-2xl bg-card",children:[d.jsx(aP,{children:d.jsx(lP,{className:"text-farmer-xl",children:r("addNewFarm")})}),d.jsxs("div",{className:"space-y-5 pt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2 text-farmer-base",children:[d.jsx(zf,{className:"h-5 w-5 text-primary"}),r("farmName")," ",r("optional")]}),d.jsx(uo,{placeholder:r("enterFarmName"),value:o,onChange:v=>a(v.target.value),className:"h-12 text-farmer-base"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2 text-farmer-base",children:[d.jsx(WO,{className:"h-5 w-5 text-primary"}),r("farmSize")," ",r("required")]}),d.jsxs(pu,{value:l,onValueChange:c,children:[d.jsx(ol,{className:"h-12 text-farmer-base",children:d.jsx(mu,{placeholder:r("selectFarmSize")})}),d.jsx(al,{className:"bg-card",children:n.map(v=>d.jsx(Nt,{value:v.value,className:"text-farmer-base py-3",children:v.label},v.value))})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(Ur,{className:"flex items-center gap-2 text-farmer-base",children:[d.jsx(Bf,{className:"h-5 w-5 text-primary"}),r("selectCrops")," ",r("required")]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(v=>d.jsxs("label",{className:`flex cursor-pointer items-center gap-3 rounded-xl border-2 p-3 transition-all ${h.includes(v.value)?"border-primary bg-primary/10":"border-border bg-background"}`,children:[d.jsx(gP,{checked:h.includes(v.value),onCheckedChange:()=>p(v.value)}),d.jsx("span",{className:"text-farmer-sm font-medium",children:v.label})]},v.value))})]}),d.jsx(vt,{variant:"hero",size:"lg",onClick:g,disabled:!S,className:"w-full",children:r("addFarm")})]})]})]})},tB="modulepreload",nB=function(t){return"/"+t},M1={},l0=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=nB(l),l in M1)return;M1[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tB,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ll;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ll||(ll={}));class Um extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const rB=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},sB=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:rB(t),i=()=>s()!=="web",o=f=>{const p=c.get(f);return!!(p!=null&&p.platforms.has(s())||a(f))},a=f=>{var p;return(p=n.PluginHeaders)===null||p===void 0?void 0:p.find(g=>g.name===f)},l=f=>t.console.error(f),c=new Map,h=(f,p={})=>{const g=c.get(f);if(g)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),g.proxy;const S=s(),v=a(f);let E;const _=async()=>(!E&&S in p?E=typeof p[S]=="function"?E=await p[S]():E=p[S]:e!==null&&!E&&"web"in p&&(E=typeof p.web=="function"?E=await p.web():E=p.web),E),w=(C,A)=>{var N,j;if(v){const O=v==null?void 0:v.methods.find(R=>A===R.name);if(O)return O.rtype==="promise"?R=>n.nativePromise(f,A.toString(),R):(R,z)=>n.nativeCallback(f,A.toString(),R,z);if(C)return(N=C[A])===null||N===void 0?void 0:N.bind(C)}else{if(C)return(j=C[A])===null||j===void 0?void 0:j.bind(C);throw new Um(`"${f}" plugin is not implemented on ${S}`,ll.Unimplemented)}},b=C=>{let A;const N=(...j)=>{const O=_().then(R=>{const z=w(R,C);if(z){const ne=z(...j);return A=ne==null?void 0:ne.remove,ne}else throw new Um(`"${f}.${C}()" is not implemented on ${S}`,ll.Unimplemented)});return C==="addListener"&&(O.remove=async()=>A()),O};return N.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(N,"name",{value:C,writable:!1,configurable:!1}),N},I=b("addListener"),P=b("removeListener"),D=(C,A)=>{const N=I({eventName:C},A),j=async()=>{const R=await N;P({eventName:C,callbackId:R},A)},O=new Promise(R=>N.then(()=>R({remove:j})));return O.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await j()},O},T=new Proxy({},{get(C,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?D:I;case"removeListener":return P;default:return b(A)}}});return r[f]=T,c.set(f,{name:f,proxy:T,platforms:new Set([...Object.keys(p),...v?[S]:[]])}),T};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=h,n.Exception=Um,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},iB=t=>t.Capacitor=sB(t),ko=iB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),zo=ko.registerPlugin;class c0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new ko.Exception(e,ll.Unimplemented)}unavailable(e="not available"){return new ko.Exception(e,ll.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const V1=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),F1=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class oB extends c0{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=F1(s).trim(),i=F1(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=V1(e.key),r=V1(e.value),s=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}zo("CapacitorCookies",{web:()=>new oB});const aB=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),lB=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},cB=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,uB=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=lB(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(t.data))i.append(a,t.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class dB extends c0{async request(e){const n=uB(e,e.webFetchExtra),r=cB(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await aB(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const h={};return i.headers.forEach((f,p)=>{h[p]=f}),{data:l,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}zo("CapacitorHttp",{web:()=>new dB});var U1;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(U1||(U1={}));var $1;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})($1||($1={}));class hB extends c0{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}zo("SystemBars",{web:()=>new hB});function fB(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(r,s){return(i,o,a)=>{const l=t.Capacitor.Plugins[n];if(l===void 0){a(new Error(`Capacitor plugin ${n} not found`));return}if(typeof l[s]!="function"){a(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const c=await l[s](i);o(c)}catch(c){a(c)}})()}}})}})}function pB(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function mB(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?fB(window):window.cordova!==void 0&&pB(window))}const ff=zo("Geolocation",{web:()=>l0(()=>import("./web-B1mScO-f.js"),[]).then(t=>new t.GeolocationWeb)});mB();const gB=()=>{const t=hr(),{t:e}=et(),{user:n}=$o(),{profile:r,loading:s,saveProfile:i}=n0(),[o,a]=y.useState(!1),[l,c]=y.useState(!1),[h,f]=y.useState({name:"",location:"",village:"",farms:[],farmingSeason:""}),p=[{value:"rice",label:e("rice")},{value:"wheat",label:e("wheat")},{value:"cotton",label:e("cotton")},{value:"tomato",label:e("tomato")}],g=[{value:"small",label:e("small")},{value:"medium",label:e("medium")},{value:"large",label:e("large")}],S=Object.fromEntries(p.map(P=>[P.value,P.label])),v=Object.fromEntries(g.map(P=>[P.value,P.label]));y.useEffect(()=>{!s&&r&&f(r)},[r,s]);const E=P=>{f({...h,farms:[...h.farms,P]})},_=P=>{f({...h,farms:h.farms.filter(D=>D.id!==P)})},w=async()=>{if(!n){Ar.error("Please login first");return}c(!0);try{const{error:P}=await i(h);P?(Ar.error(`Failed to save profile: ${P.message||"Unknown error"}`),console.error("Profile save error:",P)):(Ar.success("Profile saved successfully!"),t("/"))}catch(P){const D=P instanceof Error?P.message:"Unexpected error";Ar.error(`Unexpected error: ${D}`),console.error("Unexpected save error:",P)}finally{c(!1)}},b=async()=>{try{if(a(!0),(await ff.requestPermissions()).location!=="granted"){Ar.error("Location permission denied");return}const D=await ff.getCurrentPosition({enableHighAccuracy:!0,timeout:3e4}),{latitude:T,longitude:C}=D.coords,A=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${T}&lon=${C}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"FarmAdvisoryApp/1.0"}});if(A.ok){const j=(await A.json()).address||{},O=j.village||j.town||j.city||j.county||j.state||"";f({...h,location:O||`${T.toFixed(6)}, ${C.toFixed(6)}`}),localStorage.setItem("userGeoLocation",JSON.stringify({lat:T,lon:C}))}else f({...h,location:`${T.toFixed(4)}, ${C.toFixed(4)}`})}catch(P){console.error("GPS Error:",P),Ar.error("Unable to get location")}finally{a(!1)}},I=h.name.trim()&&h.location.trim()&&h.farms.length>0&&h.farmingSeason;return d.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[d.jsxs("div",{className:"border-b bg-card px-6 py-6",children:[d.jsx("h1",{className:"text-xl font-bold",children:e("welcomeFarmer")}),d.jsx("p",{className:"mt-1 text-muted-foreground",children:e("tellUsAboutFarm")})]}),d.jsx("div",{className:"flex-1 overflow-auto px-6 py-6",children:d.jsxs("div",{className:"mx-auto max-w-md space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2",children:[d.jsx(fC,{className:"h-5 w-5 text-primary"}),e("farmer")]}),d.jsx(uo,{value:h.name,onChange:P=>f({...h,name:P.target.value}),placeholder:e("farmer")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2",children:[d.jsx(zf,{className:"h-5 w-5 text-primary"}),e("enterCityDistrict")]}),d.jsx(uo,{value:h.location,onChange:P=>f({...h,location:P.target.value})}),d.jsxs("button",{type:"button",onClick:b,disabled:o,className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[d.jsx(Fg,{className:`h-4 w-4 ${o?"animate-pulse":""}`}),o?"Detecting...":e("useGPSLocation")]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2",children:[d.jsx(yl,{className:"h-5 w-5 text-primary"}),e("farmingSeason")]}),d.jsxs(pu,{value:h.farmingSeason,onValueChange:P=>f({...h,farmingSeason:P}),children:[d.jsx(ol,{children:d.jsx(mu,{placeholder:e("farmingSeason")})}),d.jsxs(al,{children:[d.jsx(Nt,{value:"kharif",children:e("kharif")}),d.jsx(Nt,{value:"rabi",children:e("rabi")}),d.jsx(Nt,{value:"zaid",children:e("zaid")})]})]})]}),d.jsx(eB,{onAdd:E,crops:p,farmSizes:g}),h.farms.length>0&&d.jsx("div",{className:"space-y-3",children:h.farms.map(P=>d.jsx(T7,{farm:P,onDelete:_,cropLabels:S,sizeLabels:v},P.id))}),d.jsx(vt,{onClick:w,disabled:!I||l,className:"w-full",children:l?"Saving...":"Save & Continue"})]})})]})},u0=()=>{const[t,e]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState(null),[o,a]=y.useState(""),[l,c]=y.useState(!1),[h,f]=y.useState(null),p=E=>{const _=typeof E=="object"&&E&&"message"in E?String(E.message??""):"",w=typeof E=="object"&&E&&"code"in E?String(E.code??""):"",b=_.toLowerCase(),I=w.toLowerCase();return b.includes("permission")||I.includes("permission")?"You do not have permission to access weather data.":b.includes("network")||b.includes("unavailable")||I.includes("unavailable")?"Network issue while fetching weather. Please check internet and try again.":b==="internal"||I.includes("internal")?"Weather service is temporarily unavailable. Please try again.":_||"Failed to fetch weather"},g=y.useCallback(async(E,_)=>{c(!0),f(null);try{console.log("Sending to Firebase:",E,_);const I=(await hu(fu,"getWeather")({lat:E,lon:_})).data;if(!I)throw new Error("No weather data returned");I.current&&(e({temperature:I.current.temperature,humidity:I.current.humidity,rainfall:I.current.rainfall,description:I.current.description,icon:I.current.icon,windSpeed:I.current.windSpeed}),r(I.forecast||[])),a(I.location||`${E.toFixed(4)}, ${_.toFixed(4)}`)}catch(w){console.error("Weather fetch error:",w),f(p(w))}finally{c(!1)}},[]),S=y.useCallback(async()=>{f(null),c(!0);try{if((await ff.requestPermissions()).location!=="granted"){f("Location permission denied. Please enable location access."),c(!1);return}const _=await ff.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3}),w=_.coords.latitude,b=_.coords.longitude,I={lat:w,lon:b};i(I),localStorage.setItem("userGeoLocation",JSON.stringify(I));const P=localStorage.getItem("pushDeviceToken");if(P)try{await hu(fu,"updateAlertDeviceLocation")({token:P,lat:w,lon:b})}catch(D){console.error("Failed to sync alert device location:",D)}await g(w,b)}catch(E){f((E==null?void 0:E.message)||"Unable to get your location"),c(!1)}},[g]),v=y.useCallback(async()=>{s?await g(s.lat,s.lon):await S()},[s,g,S]);return y.useEffect(()=>{const E=localStorage.getItem("userGeoLocation");if(E)try{const{lat:_,lon:w}=JSON.parse(E);i({lat:_,lon:w}),g(_,w)}catch(_){console.error("Error parsing cached location:",_)}},[g]),{weather:t,forecast:n,location:s,locationName:o,isLoading:l,error:h,refreshWeather:v,requestLocation:S}},Ws=zo("PushNotifications",{});var z1;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(z1||(z1={}));const B1=zo("LocalNotifications",{web:()=>l0(()=>import("./web-CbiR0fC7.js"),[]).then(t=>new t.LocalNotificationsWeb)}),_r={HEAVY_RAIN_MM:20,FROST_TEMP_C:5,HEAT_TEMP_C:40,STRONG_WIND_KMH:40,HIGH_HUMIDITY_PERCENT:85,LOW_RAINFALL_MM:5},d0=()=>{const[t,e]=y.useState("default"),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,a]=y.useState(null),{t:l,language:c}=et(),h=ko.isNativePlatform(),f=h||typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator;y.useEffect(()=>{if(!f)return;(async()=>{const b=localStorage.getItem("pushNotificationsEnabled")==="true";if(h){try{const I=await Ws.checkPermissions(),P=I.receive==="granted"?"granted":I.receive==="denied"?"denied":"default";e(P),r(b&&P==="granted")}catch(I){console.error("Failed to check native push permission:",I),e("default"),r(!1)}return}e(Notification.permission),r(b&&Notification.permission==="granted")})()},[f,h]);const p=y.useCallback(async()=>{if(!("serviceWorker"in navigator))return null;try{const w=await navigator.serviceWorker.register("/sw.js");return console.log("Service Worker registered:",w),a(w),w}catch(w){return console.error("Service Worker registration failed:",w),null}},[]);y.useEffect(()=>{if(!("serviceWorker"in navigator)){console.log("[SW effect] serviceWorker not available in navigator");return}(async()=>{try{console.log("[SW effect] Attempting navigator.serviceWorker.getRegistration()...");const w=await navigator.serviceWorker.getRegistration();if(w){console.log("[SW effect] Found existing SW registration:",w),a(w);return}console.log("[SW effect] No existing registration found, waiting for ready...");const b=await navigator.serviceWorker.ready;b&&(console.log("[SW effect] Service worker ready, set registration in hook:",b),a(b))}catch(w){console.warn("[SW effect] Could not get existing service worker registration",w)}})()},[]);const g=y.useCallback(async()=>{if(!f)return!1;console.log("[requestPermission] Starting permission request"),i(!0);try{if(h){const I=await Ws.requestPermissions(),P=I.receive==="granted"?"granted":I.receive==="denied"?"denied":"default";return e(P),I.receive==="granted"?(await Ws.register(),r(!0),localStorage.setItem("pushNotificationsEnabled","true"),!0):!1}console.log("[requestPermission] Registering service worker..."),await p()?console.log("[requestPermission] Service worker registered successfully"):console.warn("[requestPermission] Service worker registration returned null"),console.log("[requestPermission] Requesting Notification.permission...");const b=await Notification.requestPermission();return console.log("[requestPermission] Notification.requestPermission() returned:",b),e(b),b==="granted"?(console.log("[requestPermission] Permission granted, setting subscribed to true"),r(!0),localStorage.setItem("pushNotificationsEnabled","true"),!0):(console.warn("[requestPermission] Permission not granted:",b),!1)}catch(w){return console.error("[requestPermission] Error requesting notification permission:",w),!1}finally{i(!1)}},[f,h,p]),S=y.useCallback((w,b)=>{const I=[];if(b){b.rainfall>=_r.HEAVY_RAIN_MM&&I.push({type:"heavy_rain",title:` ${l("heavyRainAlert")}`,message:`${l("heavyRainfallWarning")} (${b.rainfall}mm now)`,recommendation:l("alertRecommendation")||"Avoid irrigation, ensure proper drainage",action:l("alertAction")||"Prepare drainage channels and cover vulnerable crops",severity:"warning"}),b.temperature>=_r.HEAT_TEMP_C&&I.push({type:"heat",title:` ${l("heatAlert")}`,message:`${l("heatAlert")} - ${b.temperature}C`,recommendation:l("alertRecommendation")||"Increase irrigation frequency, provide shade",action:l("alertAction")||"Water early morning and evening",severity:"danger"}),b.humidity>=_r.HIGH_HUMIDITY_PERCENT&&I.push({type:"disease_risk",title:` ${l("diseaseRiskAlert")}`,message:`${l("diseaseRiskAlert")} - ${b.humidity}% humidity`,recommendation:l("alertRecommendation")||"Improve air circulation, apply fungicide preventively",action:l("alertAction")||"Scout fields for disease signs",severity:"warning"});const T=Number(b.windSpeed||0);T>=_r.STRONG_WIND_KMH&&I.push({type:"strong_wind",title:` ${l("windAlert")}`,message:`${l("windAlert")} - ${Math.round(T)} km/h`,recommendation:l("alertRecommendation")||"Suspend spraying, secure structures",action:l("alertAction")||"Tie up climbing crops",severity:"warning"})}if(!w||w.length===0)return I;const P=w.slice(0,3);for(const T of P){T.rainfall>=_r.HEAVY_RAIN_MM&&I.push({type:"heavy_rain",title:` ${l("heavyRainAlert")}`,message:`${l("heavyRainfallWarning")} (${T.rainfall}mm on ${T.dayName})`,recommendation:l("alertRecommendation")||"Avoid irrigation, ensure proper drainage",action:l("alertAction")||"Prepare drainage channels and cover vulnerable crops",severity:"warning"}),T.tempMin<=_r.FROST_TEMP_C&&I.push({type:"frost",title:` ${l("frostAlert")}`,message:`${l("frostAlert")} - ${T.tempMin}C on ${T.dayName}`,recommendation:l("alertRecommendation")||"Cover crops, use frost protection cloth",action:l("alertAction")||"Apply protective measures before sunset",severity:"danger"}),T.tempMax>=_r.HEAT_TEMP_C&&I.push({type:"heat",title:` ${l("heatAlert")}`,message:`${l("heatAlert")} - ${T.tempMax}C on ${T.dayName}`,recommendation:l("alertRecommendation")||"Increase irrigation frequency, provide shade",action:l("alertAction")||"Water early morning and evening",severity:"danger"});const C=T.windSpeed*3.6;C>=_r.STRONG_WIND_KMH&&I.push({type:"strong_wind",title:` ${l("windAlert")}`,message:`${l("windAlert")} - ${Math.round(C)} km/h on ${T.dayName}`,recommendation:l("alertRecommendation")||"Suspend spraying, secure structures",action:l("alertAction")||"Tie up climbing crops",severity:"warning"}),T.humidity>=_r.HIGH_HUMIDITY_PERCENT&&I.push({type:"disease_risk",title:` ${l("diseaseRiskAlert")}`,message:`${l("diseaseRiskAlert")} - ${T.humidity}% on ${T.dayName}`,recommendation:l("alertRecommendation")||"Improve air circulation, apply fungicide preventively",action:l("alertAction")||"Scout fields for disease signs",severity:"warning"}),T.rainfall<_r.LOW_RAINFALL_MM&&T.rainfall>0&&I.push({type:"irrigation_advisory",title:` ${l("irrigationAdvisoryAlert")}`,message:`${l("irrigationAdvisoryAlert")} - ${T.rainfall}mm on ${T.dayName}`,recommendation:l("alertRecommendation")||"Schedule irrigation, check soil moisture",action:l("alertAction")||"Arrange water supply",severity:"info"}),T.tempMax>=25&&T.humidity>=70&&I.push({type:"pest_alert",title:` ${l("pestActivityAlert")}`,message:`${l("pestActivityAlert")} (${T.tempMax}C, ${T.humidity}% humidity).`,recommendation:l("preventiveMeasures")||"Monitor crops, use IPM",action:l("alertAction")||"Scout field for pests",severity:"warning"})}return I.filter((T,C,A)=>C===A.findIndex(N=>N.type===T.type))},[]),v=y.useCallback(async w=>{if(console.log("[showLocalNotification] Called with alert:",w.type,"Permission:",t,"SW Reg:",!!o),t!=="granted"){console.warn("[showLocalNotification] Permission not granted:",t);return}const b=`alert_${w.type}_${new Date().toDateString()}`;if(localStorage.getItem(b)){console.log("[showLocalNotification] Alert already shown today:",w.type);return}const I=`${w.message}${w.recommendation?` - ${w.recommendation}`:""}`;console.log("[showLocalNotification] Attempting to show notification with body:",I.substring(0,50)+"...");try{if(h)(await B1.requestPermissions()).display==="granted"&&await B1.schedule({notifications:[{id:Date.now()%2147483647,title:w.title,body:I,schedule:{at:new Date(Date.now()+1e3)}}]});else if(o)console.log("[showLocalNotification] Showing via Service Worker registration"),await o.showNotification(w.title,{body:I,icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",tag:w.type,requireInteraction:!0,data:{url:"/advisory"}});else{console.log("[showLocalNotification] No SW registration, using Notification API directly");const C=new Notification(w.title,{body:I,icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",tag:w.type,requireInteraction:!0});C.onclick=()=>{window.focus(),C.close()}}console.log("[showLocalNotification] Notification shown successfully"),localStorage.setItem(b,"true");const P=E(),D={...w,timestamp:Date.now()};P.unshift(D);const T=P.slice(0,30);localStorage.setItem("alertHistory",JSON.stringify(T))}catch(P){console.error("[showLocalNotification] Error showing notification:",P)}},[h,t,o,l]),E=y.useCallback(()=>{try{const w=localStorage.getItem("alertHistory");return w?JSON.parse(w):[]}catch{return[]}},[]),_=y.useCallback(()=>{localStorage.removeItem("alertHistory")},[]);return{isSupported:f,permission:t,isSubscribed:n,isLoading:s,requestPermission:g,checkWeatherAlerts:S,showLocalNotification:v,getAlertHistory:E,clearAlertHistory:_}},yP=({alerts:t,onDismiss:e})=>{const{t:n}=et(),[r,s]=y.useState(new Set),[i,o]=y.useState(null);y.useEffect(()=>{const f=new Date().toDateString(),p=localStorage.getItem(`dismissed_alerts_${f}`);p&&s(new Set(JSON.parse(p)))},[]);const a=f=>{const p=new Date().toDateString(),g=new Set(r).add(f);s(g),localStorage.setItem(`dismissed_alerts_${p}`,JSON.stringify([...g])),e==null||e(f)},l=t.filter(f=>!r.has(f.type));if(l.length===0)return null;const c=f=>{switch(f){case"danger":return"bg-destructive/10 border border-destructive/20";case"warning":return"bg-amber-50 border border-amber-200 dark:bg-amber-900/20 dark:border-amber-800";default:return"bg-blue-50 border border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}},h=f=>{switch(f){case"danger":return"bg-destructive/20 text-destructive";case"warning":return"bg-amber-100 dark:bg-amber-800 text-amber-600 dark:text-amber-400";default:return"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-400"}};return d.jsx("div",{className:"space-y-3 mb-4",children:l.map(f=>d.jsxs("div",{className:`relative rounded-xl overflow-hidden transition-all ${c(f.severity)}`,children:[d.jsx("button",{onClick:()=>a(f.type),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/5 z-10","aria-label":"Dismiss",children:d.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx("div",{className:"p-4 pr-10 cursor-pointer",onClick:()=>o(i===f.type?null:f.type),children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full ${h(f.severity)}`,children:d.jsx(Nu,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:`font-semibold text-farmer-base ${f.severity==="danger"?"text-destructive":f.severity==="warning"?"text-amber-800 dark:text-amber-200":"text-blue-800 dark:text-blue-200"}`,children:f.title}),d.jsx("p",{className:`text-farmer-sm mt-1 ${f.severity==="danger"?"text-destructive/80":f.severity==="warning"?"text-amber-700 dark:text-amber-300":"text-blue-700 dark:text-blue-300"}`,children:f.message})]}),(f.recommendation||f.action)&&d.jsx(Uf,{className:`h-5 w-5 shrink-0 transition-transform ${i===f.type?"rotate-180":""} mt-1`})]})}),i===f.type&&(f.recommendation||f.action)&&d.jsxs("div",{className:`border-t ${f.severity==="danger"?"border-destructive/10 bg-destructive/5":f.severity==="warning"?"border-amber-100 dark:border-amber-700 bg-amber-25 dark:bg-amber-900/10":"border-blue-100 dark:border-blue-700 bg-blue-25 dark:bg-blue-900/10"} px-4 py-3`,children:[f.recommendation&&d.jsxs("div",{className:"mb-3",children:[d.jsx("p",{className:"text-xs font-semibold uppercase text-muted-foreground mb-1",children:n("alertRecommendation")}),d.jsx("p",{className:"text-farmer-sm text-foreground",children:f.recommendation})]}),f.action&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase text-muted-foreground mb-1",children:n("alertAction")}),d.jsxs("p",{className:"text-farmer-sm text-foreground flex items-center gap-2",children:[d.jsx("span",{children:""}),f.action]})]})]})]},f.type))})},yB=[{path:"/",labelKey:"home",icon:LO},{path:"/advisory",labelKey:"advisory",icon:Kc},{path:"/farms",labelKey:"myFarms",icon:wi},{path:"/crop-calendar",labelKey:"calendar",icon:yl},{path:"/settings",labelKey:"settings",icon:Fv}],Bu=()=>{const t=Do(),{t:e}=et();return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border/50 glass-strong safe-area-bottom",children:d.jsx("div",{className:"mx-auto flex h-20 max-w-lg items-center justify-around px-1",children:yB.map(n=>{const r=t.pathname===n.path,s=n.icon;return d.jsxs(NV,{to:n.path,className:ie("flex flex-1 flex-col items-center justify-center gap-0.5 py-2 transition-all duration-300",r?"text-primary":"text-muted-foreground hover:text-primary/80"),children:[d.jsx("div",{className:ie("flex h-11 w-11 items-center justify-center rounded-2xl transition-all duration-300",r?"bg-primary/15 shadow-sm":"hover:bg-muted/50"),children:d.jsx(s,{className:ie("h-6 w-6 transition-transform duration-300",r&&"icon-bounce")})}),d.jsx("span",{className:ie("text-[11px] font-medium transition-all duration-300",r&&"font-semibold text-primary"),children:e(n.labelKey)})]},n.path)})})})},vB=Ff("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dh({className:t,variant:e,...n}){return d.jsx("div",{className:ie(vB({variant:e}),t),...n})}const wB=()=>{const t=hr(),{t:e}=et(),{profile:n}=n0(),{weather:r,forecast:s}=u0(),{checkWeatherAlerts:i}=d0(),[o,a]=y.useState([]),l=(n==null?void 0:n.farms.flatMap(v=>v.crops))||[],c=[...new Set(l)],h=(n==null?void 0:n.farms.length)||0;y.useEffect(()=>{if(s&&s.length>0){const v=i(s,r);a(v)}},[s,r,i]);const f=()=>{const v=new Date().getHours();return v<12?e("goodMorning"):v<17?e("goodAfternoon"):e("goodEvening")},p=v=>{const E=e(v);return E!==v?E:v},g=()=>n!=null&&n.farmingSeason?e(n.farmingSeason):"",S=window.matchMedia("(display-mode: standalone)").matches;return d.jsxs("div",{className:"flex min-h-screen flex-col bg-background pb-24",children:[d.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary to-primary/85 px-5 pb-10 pt-12",children:[d.jsxs("div",{className:"absolute right-4 top-4 flex gap-2",children:[!S&&d.jsx("button",{onClick:()=>t("/install"),className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white/15 text-white backdrop-blur-sm transition-all hover:bg-white/25",children:d.jsx(cC,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>t("/settings"),className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white/15 text-white backdrop-blur-sm transition-all hover:bg-white/25",children:d.jsx(Fv,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"absolute -bottom-12 -right-12 h-40 w-40 rounded-full bg-white/5"}),d.jsx("div",{className:"absolute -left-16 top-16 h-32 w-32 rounded-full bg-white/5"}),d.jsx("div",{className:"absolute right-20 top-32 h-16 w-16 rounded-full bg-accent/20"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-base text-white/80 font-medium",children:f()}),d.jsxs("h1",{className:"mt-1 text-3xl font-bold text-white",children:[(n==null?void 0:n.name)||e("farmer")," "]}),(n==null?void 0:n.location)&&d.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-2xl bg-white/15 px-4 py-2 backdrop-blur-sm",children:[d.jsx(zf,{className:"h-4 w-4 text-white/90"}),d.jsxs("span",{className:"text-sm font-medium text-white",children:[n.village?`${n.village}, `:"",n.location]})]})]})]}),d.jsx("div",{className:"relative z-10 -mt-6 px-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(Be,{className:"border-0 card-interactive cursor-pointer",onClick:()=>t("/farms"),children:d.jsxs(Bs,{className:"flex items-center gap-3 p-4",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10",children:d.jsx(Bf,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-foreground",children:h}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e("myFarms")})]})]})}),d.jsx(Be,{className:"border-0 card-elevated",children:d.jsxs(Bs,{className:"flex items-center gap-3 p-4",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-accent/20 to-accent/10",children:d.jsx(yl,{className:"h-6 w-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-bold text-foreground line-clamp-1",children:g()}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e("farmingSeason")})]})]})})]})}),d.jsxs("div",{className:"flex-1 space-y-6 px-4 pt-6",children:[o.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Vv,{className:"h-5 w-5 text-destructive"}),d.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e("activeAlerts")}),d.jsx(dh,{variant:"destructive",className:"ml-auto",children:o.length})]}),d.jsx(yP,{alerts:o})]}),d.jsxs(vt,{size:"lg",onClick:()=>t("/advisory"),className:"w-full h-16 text-lg font-semibold btn-glow-primary rounded-2xl",children:[d.jsx($f,{className:"mr-3 h-6 w-6"}),e("getTodaysAdvice")]}),o.length>0&&o[0].recommendation&&d.jsx(Be,{className:"border-0 card-elevated bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20",children:d.jsx(Bs,{className:"p-4",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-200 dark:bg-amber-800 flex-shrink-0",children:d.jsx(Kc,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-foreground",children:e("alertRecommendation")}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o[0].recommendation}),d.jsxs("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300 mt-2",children:[" ",o[0].action]})]})]})})}),c.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"mb-3 text-lg font-semibold text-foreground",children:e("yourCrops")}),d.jsx(Be,{className:"border-0 card-elevated",children:d.jsx(Bs,{className:"p-4",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.slice(0,6).map(v=>d.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-primary/15 to-primary/5 px-4 py-2.5 border border-primary/20",children:[d.jsx(Kc,{className:"h-4 w-4 text-primary"}),d.jsx("span",{className:"text-sm font-medium text-foreground",children:p(v)})]},v)),c.length>6&&d.jsx("div",{className:"inline-flex items-center rounded-2xl bg-muted/60 px-4 py-2.5",children:d.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",c.length-6]})})]})})})]}),(n==null?void 0:n.farms)&&n.farms.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e("myFarms")}),d.jsx("button",{onClick:()=>t("/farms"),className:"text-sm font-medium text-primary hover:underline",children:e("viewAll")})]}),d.jsx("div",{className:"space-y-3",children:n.farms.slice(0,2).map(v=>d.jsx(Be,{className:"border-0 card-interactive cursor-pointer",onClick:()=>t("/farms"),children:d.jsxs(Bs,{className:"flex items-center justify-between p-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-secondary/20 to-secondary/10",children:d.jsx(wi,{className:"h-6 w-6 text-secondary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-foreground",children:v.name||e("unnamedFarm")}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[e(v.size),"  ",v.crops.length," ",e("cropsLabel")]})]})]}),d.jsx(Vg,{className:"h-5 w-5 text-muted-foreground"})]})},v.id))})]}),d.jsx(Be,{className:"cursor-pointer border-0 card-interactive overflow-hidden",onClick:()=>t("/crop-calendar"),children:d.jsx("div",{className:"bg-gradient-to-r from-accent/10 to-accent/5 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-accent/30 to-accent/20",children:d.jsx(yo,{className:"h-6 w-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-foreground",children:e("cropCalendar")}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e("knowBestTimes")})]})]}),d.jsx(Vg,{className:"h-5 w-5 text-accent"})]})})})]}),d.jsx("div",{className:"mt-6 flex items-center justify-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:e("madeForFarmers")})}),d.jsx(Bu,{})]})},xB=({title:t,showBack:e=!1,className:n})=>{const r=hr();return d.jsxs("div",{className:ie("mb-6 flex items-center gap-3",n),children:[e&&d.jsx("button",{onClick:()=>r(-1),className:"flex h-11 w-11 items-center justify-center rounded-xl bg-muted text-foreground transition-colors hover:bg-muted/80",children:d.jsx(RO,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-farmer-2xl font-bold text-foreground",children:t})]})},_B=()=>{const t=hr(),{t:e}=et(),[n,r]=y.useState(""),[s,i]=y.useState(""),o=[{value:"rice",label:e("rice")},{value:"wheat",label:e("wheat")},{value:"cotton",label:e("cotton")},{value:"tomato",label:e("tomato")}],a=[{value:"black",label:e("blackSoil")},{value:"red",label:e("redSoil")},{value:"sandy",label:e("sandySoil")},{value:"alluvial",label:e("alluvialSoil")}],l=()=>{n&&s&&t("/advisory")},c=n&&s;return d.jsxs("div",{className:"page-container",children:[d.jsx(xB,{title:e("cropAndSoil"),showBack:!0}),d.jsxs("div",{className:"mx-auto max-w-md space-y-6",children:[d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[d.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-primary/10",children:d.jsx(Bf,{className:"h-6 w-6 text-primary"})}),d.jsx("label",{className:"text-farmer-lg font-semibold text-foreground",children:e("selectCrop")})]}),d.jsxs(pu,{value:n,onValueChange:r,children:[d.jsx(ol,{className:"h-14 text-farmer-base",children:d.jsx(mu,{placeholder:e("chooseCrop")})}),d.jsx(al,{children:o.map(h=>d.jsx(Nt,{value:h.value,className:"text-farmer-base py-3",children:h.label},h.value))})]})]}),d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[d.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-accent/10",children:d.jsx(VO,{className:"h-6 w-6 text-accent"})}),d.jsx("label",{className:"text-farmer-lg font-semibold text-foreground",children:e("soilType")})]}),d.jsxs(pu,{value:s,onValueChange:i,children:[d.jsx(ol,{className:"h-14 text-farmer-base",children:d.jsx(mu,{placeholder:e("chooseSoilType")})}),d.jsx(al,{children:a.map(h=>d.jsx(Nt,{value:h.value,className:"text-farmer-base py-3",children:h.label},h.value))})]})]}),c&&d.jsxs("div",{className:"flex items-center justify-center gap-2 rounded-xl bg-primary/10 p-4 animate-fade-in",children:[d.jsx(ku,{className:"h-5 w-5 text-primary"}),d.jsx("span",{className:"text-farmer-base font-medium text-primary",children:e("readyForAdvisory")})]}),d.jsx("div",{className:"pt-4",children:d.jsxs(vt,{variant:"hero",size:"xl",onClick:l,disabled:!c,className:"w-full",children:[e("saveAndContinue"),d.jsx(AO,{})]})})]})]})},EB=({weather:t,className:e})=>{const{t:n}=et(),r=()=>{var i;const s=((i=t.description)==null?void 0:i.toLowerCase())||"";return s.includes("rain")||s.includes("drizzle")?d.jsx(Za,{className:"h-10 w-10 text-white drop-shadow-lg"}):s.includes("cloud")?d.jsx(yo,{className:"h-10 w-10 text-white drop-shadow-lg"}):d.jsx(yo,{className:"h-10 w-10 text-white drop-shadow-lg"})};return d.jsxs(Be,{className:ie("overflow-hidden p-0 card-elevated border-0",e),children:[d.jsx("div",{className:"bg-gradient-to-br from-primary via-primary to-primary/90 p-4 text-primary-foreground",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium opacity-90",children:n("currentWeather")}),d.jsx("p",{className:"text-xl font-bold capitalize mt-0.5",children:t.description||"Clear Sky"})]}),d.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:r()})]})}),d.jsxs("div",{className:"grid grid-cols-3 divide-x divide-border/50 bg-card",children:[d.jsxs("div",{className:"flex flex-col items-center p-4 group",children:[d.jsx("div",{className:"mb-2 flex h-12 w-12 items-center justify-center rounded-2xl bg-weather-temp transition-transform duration-300 group-hover:scale-105",children:d.jsx(GO,{className:"h-6 w-6 text-white"})}),d.jsxs("span",{className:"text-2xl font-bold text-foreground",children:[t.temperature,""]}),d.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:n("temperature")})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 group",children:[d.jsx("div",{className:"mb-2 flex h-12 w-12 items-center justify-center rounded-2xl bg-weather-humidity transition-transform duration-300 group-hover:scale-105",children:d.jsx(uC,{className:"h-6 w-6 text-white"})}),d.jsxs("span",{className:"text-2xl font-bold text-foreground",children:[t.humidity,"%"]}),d.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:n("humidity")})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 group",children:[d.jsx("div",{className:"mb-2 flex h-12 w-12 items-center justify-center rounded-2xl bg-weather-rain transition-transform duration-300 group-hover:scale-105",children:d.jsx(Za,{className:"h-6 w-6 text-white"})}),d.jsxs("span",{className:"text-2xl font-bold text-foreground",children:[t.rainfall,d.jsx("span",{className:"text-sm",children:"mm"})]}),d.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:n("rainfall")})]})]}),t.windSpeed!==void 0&&d.jsxs("div",{className:"flex items-center justify-center gap-2 border-t border-border/50 bg-muted/30 py-3 px-4",children:[d.jsx(YO,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Wind: ",d.jsxs("span",{className:"font-semibold text-foreground",children:[t.windSpeed," km/h"]})]})]})]})},bB={low:{labelKey:"lowRisk",icon:jO,bgClass:"bg-gradient-to-r from-green-100 to-green-50 dark:from-green-900/30 dark:to-green-900/20",textClass:"text-green-700 dark:text-green-300",borderClass:"border-green-200/60 dark:border-green-700/40"},medium:{labelKey:"mediumRisk",icon:Vv,bgClass:"bg-gradient-to-r from-amber-100 to-amber-50 dark:from-amber-900/30 dark:to-amber-900/20",textClass:"text-amber-700 dark:text-amber-300",borderClass:"border-amber-200/60 dark:border-amber-700/40"},high:{labelKey:"highRisk",icon:Nu,bgClass:"bg-gradient-to-r from-red-100 to-red-50 dark:from-red-900/30 dark:to-red-900/20",textClass:"text-red-700 dark:text-red-300",borderClass:"border-red-200/60 dark:border-red-700/40"}},vP=({level:t,className:e})=>{const{t:n}=et(),r=bB[t],s=r.icon;return d.jsxs("div",{className:ie("inline-flex items-center gap-2 rounded-full border px-4 py-2 font-semibold transition-all",r.bgClass,r.textClass,r.borderClass,e),children:[d.jsx(s,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:n(r.labelKey)})]})};function va({className:t,...e}){return d.jsx("div",{className:ie("animate-pulse rounded-md bg-muted",t),...e})}var W1;(function(t){t[t.Flush=0]="Flush",t[t.Add=1]="Add"})(W1||(W1={}));const Md=zo("TextToSpeech",{web:()=>l0(()=>import("./web-DS6GXKYN.js"),[]).then(t=>new t.TextToSpeechWeb)}),Oa=({text:t,className:e,compact:n=!1})=>{const{language:r,t:s}=et(),[i,o]=y.useState(!1),[a,l]=y.useState(!1),c=ko.isNativePlatform(),h=()=>{switch(r){case"hi":return"hi-IN";case"mr":return"mr-IN";case"ta":return"ta-IN";case"te":return"te-IN";case"kn":return"kn-IN";case"bn":return"bn-IN";case"gu":return"gu-IN";case"or":return"or-IN";case"ml":return"ml-IN";case"pa":return"pa-IN";default:return"en-IN"}},f=v=>v instanceof Error&&v.message?v.message:typeof v=="string"?v:typeof v=="object"&&v&&"message"in v&&typeof v.message=="string"?v.message:"Unknown TTS error",p=async()=>{try{c?await Md.stop():typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel()}finally{o(!1)}},g=async v=>{if(typeof window>"u"||!("speechSynthesis"in window))throw new Error("Speech synthesis is not supported on this device");const E=new SpeechSynthesisUtterance(v);E.lang=h(),E.rate=.85,E.pitch=1,E.volume=1,await new Promise((_,w)=>{E.onend=()=>{o(!1),_()},E.onerror=()=>{w(new Error("Speech synthesis failed"))},window.speechSynthesis.cancel(),window.speechSynthesis.speak(E)})},S=async()=>{if(!t||t.trim().length===0)return;const v=t.replace(/\n/g,". ").replace(/  +/g," ").trim();l(!0),o(!0);try{if(c){await Md.stop();try{await Md.speak({text:v,lang:h(),rate:.6,pitch:1,volume:1})}catch{await Md.speak({text:v,lang:"en-US",rate:.6,pitch:1,volume:1})}o(!1)}else await g(v)}catch(E){const _=f(E);console.error("TTS error:",E),Ar.error(_.toLowerCase().includes("internal")?"Unable to start speaker. Please retry or restart the app.":`Speaker failed: ${_}`),o(!1)}finally{l(!1)}};return n?d.jsx(vt,{variant:"default",size:"icon",onClick:i?p:S,disabled:a||!t,className:`h-12 w-12 rounded-full shadow-lg ${e}`,children:a?d.jsx(Gc,{className:"h-5 w-5 animate-spin"}):i?d.jsx(y_,{className:"h-5 w-5"}):d.jsx(g_,{className:"h-5 w-5"})}):d.jsx(vt,{variant:"outline",size:"lg",onClick:i?p:S,disabled:a||!t,className:e,children:a?d.jsxs(d.Fragment,{children:[d.jsx(Gc,{className:"mr-2 h-5 w-5 animate-spin"}),s("loading")]}):i?d.jsxs(d.Fragment,{children:[d.jsx(y_,{className:"mr-2 h-5 w-5"}),s("stopListening")]}):d.jsxs(d.Fragment,{children:[d.jsx(g_,{className:"mr-2 h-5 w-5"}),s("listenToAdvice")]})})},wP=({advice:t,riskLevel:e,tips:n,irrigationAdvice:r,fertilizerAdvice:s,isLoading:i,className:o})=>{const{t:a}=et();return i?d.jsxs(Be,{className:ie("card-elevated overflow-hidden border-0",o),children:[d.jsx("div",{className:"bg-gradient-to-br from-primary via-primary to-primary/90 p-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:d.jsx(Gc,{className:"h-6 w-6 text-white animate-spin"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:a("whatShouldIDoToday")}),d.jsxs("p",{className:"text-sm text-white/70",children:[a("loading"),"..."]})]})]})}),d.jsxs("div",{className:"p-5 space-y-4",children:[d.jsx(va,{className:"h-20 w-full rounded-xl"}),d.jsx(va,{className:"h-6 w-28 rounded-full"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(va,{className:"h-16 w-full rounded-xl"}),d.jsx(va,{className:"h-16 w-full rounded-xl"})]})]})]}):d.jsxs(Be,{className:ie("card-elevated overflow-hidden border-0",o),children:[d.jsx("div",{className:"bg-gradient-to-br from-primary via-primary to-primary/90 p-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:d.jsx(FO,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:a("whatShouldIDoToday")}),d.jsxs("p",{className:"text-sm text-white/70 flex items-center gap-1",children:[d.jsx(m_,{className:"h-3 w-3"}),"AI-powered advice"]})]})]})}),d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[d.jsx("p",{className:"text-base leading-relaxed text-foreground flex-1",children:t}),d.jsx(Oa,{text:t,compact:!0,className:"shrink-0 h-10 w-10"})]}),d.jsx(vP,{level:e}),n&&n.length>0&&d.jsxs("div",{className:"mt-5 p-4 rounded-2xl bg-muted/50 border border-border/50",children:[d.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[d.jsx(m_,{className:"h-4 w-4 text-accent"}),a("quickTips")]}),d.jsx("ul",{className:"space-y-2.5",children:n.map((l,c)=>d.jsxs("li",{className:"flex items-start gap-2.5 text-sm text-muted-foreground",children:[d.jsx("span",{className:"mt-1.5 h-2 w-2 rounded-full bg-primary/60 flex-shrink-0"}),d.jsx("span",{children:l})]},c))})]}),(r||s)&&d.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3",children:[r&&d.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-secondary/10 to-secondary/5 p-4 border border-secondary/20",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-secondary/20",children:d.jsx(uC,{className:"h-4 w-4 text-secondary"})}),d.jsx("span",{className:"text-sm font-semibold text-secondary",children:a("bestIrrigationTime")})]}),d.jsx(Oa,{text:r,compact:!0,className:"h-8 w-8"})]}),d.jsx("p",{className:"text-sm text-foreground ml-10",children:r})]}),s&&d.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-accent/10 to-accent/5 p-4 border border-accent/20",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-accent/20",children:d.jsx(Kc,{className:"h-4 w-4 text-accent"})}),d.jsx("span",{className:"text-sm font-semibold text-accent",children:a("fertilizerTip")})]}),d.jsx(Oa,{text:s,compact:!0,className:"h-8 w-8"})]}),d.jsx("p",{className:"text-sm text-foreground ml-10",children:s})]})]})]})]})},SB=t=>t.startsWith("01")?d.jsx(yo,{className:"h-6 w-6 text-warning"}):t.startsWith("02")||t.startsWith("03")?d.jsx($f,{className:"h-6 w-6 text-warning"}):t.startsWith("04")?d.jsx(lC,{className:"h-6 w-6 text-muted-foreground"}):t.startsWith("09")||t.startsWith("10")?d.jsx(Za,{className:"h-6 w-6 text-primary"}):t.startsWith("11")?d.jsx(Za,{className:"h-6 w-6 text-accent"}):t.startsWith("13")?d.jsx(hC,{className:"h-6 w-6 text-primary"}):t.startsWith("50")?d.jsx(aC,{className:"h-6 w-6 text-muted-foreground"}):d.jsx(yo,{className:"h-6 w-6 text-warning"}),TB=({forecast:t,className:e})=>{const{t:n}=et();return!t||t.length===0?null:d.jsxs(Be,{className:ie("card-elevated overflow-hidden p-4",e),children:[d.jsx("h3",{className:"text-farmer-base font-semibold text-foreground mb-4",children:n("fiveDayForecast")}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.slice(0,5).map((r,s)=>d.jsxs("div",{className:ie("flex-shrink-0 flex flex-col items-center p-3 rounded-xl min-w-[72px]",s===0?"bg-primary/10":"bg-muted/50"),children:[d.jsx("span",{className:"text-farmer-xs font-medium text-muted-foreground",children:s===0?n("tomorrow"):r.dayName.slice(0,3)}),d.jsx("div",{className:"my-2",children:SB(r.icon)}),d.jsxs("div",{className:"flex items-center gap-1 text-farmer-sm",children:[d.jsxs("span",{className:"font-bold text-foreground",children:[r.tempMax,""]}),d.jsxs("span",{className:"text-muted-foreground",children:[r.tempMin,""]})]}),r.rainfall>0&&d.jsxs("span",{className:"text-farmer-xs text-primary mt-1",children:[r.rainfall,"mm"]})]},r.date))})]})},CB=({plan:t,className:e})=>{const{t:n}=et();if(!t||t.length===0)return null;const r=s=>{switch(s){case"high":return"from-destructive/10 to-destructive/5 border-destructive/30";case"medium":return"from-amber-100/80 to-amber-50/50 border-amber-300/40 dark:from-amber-900/20 dark:to-amber-900/10";default:return"from-primary/10 to-primary/5 border-primary/30"}};return d.jsxs(Be,{className:ie("card-elevated overflow-hidden border-0",e),children:[d.jsx("div",{className:"bg-gradient-to-br from-accent via-accent to-accent/90 p-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:d.jsx(yl,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:n("threeDayPlan")}),d.jsx("p",{className:"text-sm text-white/70",children:"Plan your week ahead"})]})]})}),d.jsx("div",{className:"p-4 space-y-3",children:t.map((s,i)=>d.jsxs("div",{className:ie("p-4 rounded-2xl border bg-gradient-to-br transition-all duration-300 hover:shadow-md",r(s.riskLevel)),children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:ie("flex h-8 w-8 items-center justify-center rounded-xl text-sm font-bold",s.riskLevel==="high"?"bg-destructive/20 text-destructive":s.riskLevel==="medium"?"bg-amber-500/20 text-amber-700 dark:text-amber-300":"bg-primary/20 text-primary"),children:s.day}),d.jsx("span",{className:"text-sm font-semibold text-foreground",children:s.dayName})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(vP,{level:s.riskLevel}),d.jsx(Oa,{text:`${s.dayName}: ${s.activity}. ${s.reason}`,compact:!0,className:"h-8 w-8"})]})]}),d.jsx("p",{className:"text-base font-medium text-foreground mb-1.5",children:s.activity}),d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.reason})]},s.day))})]})},AB=({alerts:t})=>{const{t:e}=et(),[n,r]=y.useState(null);if(!t||t.length===0)return null;const s=a=>{switch(a){case"high":return{container:"from-destructive/10 to-destructive/5 border-destructive/30",icon:"text-destructive",badge:"bg-destructive hover:bg-destructive/90"};case"medium":return{container:"from-amber-100/80 to-amber-50/50 border-amber-300/40 dark:from-amber-900/20 dark:to-amber-900/10 dark:border-amber-700/40",icon:"text-amber-600 dark:text-amber-400",badge:"bg-amber-500 hover:bg-amber-600"};default:return{container:"from-primary/10 to-primary/5 border-primary/30",icon:"text-primary",badge:"bg-primary/80 hover:bg-primary/90"}}},i=a=>{const l=s(a);switch(a){case"high":return d.jsx(dh,{className:l.badge,children:e("highRisk")});case"medium":return d.jsx(dh,{className:l.badge,children:e("mediumRisk")});default:return d.jsx(dh,{variant:"secondary",children:e("lowRisk")})}},o=a=>{r(n===a?null:a)};return d.jsxs(Be,{className:"card-elevated overflow-hidden border-0",children:[d.jsx("div",{className:"bg-gradient-to-br from-amber-500 via-amber-500 to-orange-500 p-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:d.jsx(PO,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:e("pestAlerts")}),d.jsx("p",{className:"text-sm text-white/70",children:e("pestAlertsSubtitle")})]})]})}),d.jsx("div",{className:"p-4 space-y-3",children:t.map((a,l)=>{const c=s(a.risk);return d.jsxs("div",{className:`rounded-2xl border bg-gradient-to-br p-4 transition-all duration-300 ${c.container}`,children:[d.jsxs("button",{onClick:()=>o(l),className:"flex w-full items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-xl bg-background/50 ${c.icon}`,children:d.jsx(Nu,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx("span",{className:"font-semibold text-foreground",children:a.pest}),i(a.risk)]}),d.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-1",children:a.conditions})]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsx(Oa,{text:`${a.pest}: ${a.conditions}. Prevention: ${a.prevention.join(". ")}`,compact:!0,className:"h-8 w-8"}),n===l?d.jsx(oC,{className:"h-5 w-5 text-muted-foreground"}):d.jsx(Uf,{className:"h-5 w-5 text-muted-foreground"})]})]}),n===l&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(qO,{className:"h-4 w-4 text-primary"}),d.jsx("span",{className:"font-medium text-sm text-foreground",children:e("preventiveMeasures")})]}),d.jsx("ul",{className:"space-y-2 ml-6",children:a.prevention.map((h,f)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[d.jsx("span",{className:"mt-1.5 h-1.5 w-1.5 shrink-0 rounded-full bg-primary/60"}),d.jsx("span",{children:h})]},f))})]})]},l)})})]})},H1=({message:t,type:e="warning",dismissible:n=!0,className:r})=>{const[s,i]=y.useState(!0);return s?d.jsxs("div",{className:ie("flex items-start gap-3 rounded-xl p-4",e==="warning"?"bg-amber-50 border border-amber-200":"bg-red-50 border border-red-200",r),children:[d.jsx(Nu,{className:ie("h-6 w-6 flex-shrink-0 mt-0.5",e==="warning"?"text-amber-600":"text-red-600")}),d.jsx("p",{className:ie("flex-1 text-farmer-base font-medium",e==="warning"?"text-amber-800":"text-red-800"),children:t}),n&&d.jsx("button",{onClick:()=>i(!1),className:ie("flex-shrink-0 rounded-lg p-1 transition-colors",e==="warning"?"text-amber-600 hover:bg-amber-100":"text-red-600 hover:bg-red-100"),children:d.jsx(Wf,{className:"h-5 w-5"})})]}):null},xP=()=>{const[t,e]=y.useState(null),[n,r]=y.useState(!1),[s,i]=y.useState(null),{language:o}=et(),a=c=>{const h=typeof c=="object"&&c&&"message"in c?String(c.message??""):"",f=typeof c=="object"&&c&&"code"in c?String(c.code??""):"",p=h.toLowerCase(),g=f.toLowerCase();return p.includes("rate limit")||g.includes("resource-exhausted")?"Too many requests. Please wait a moment and try again.":p.includes("credits")?"AI service credits exhausted.":p.includes("unavailable")||g.includes("unavailable")?"Advisory service is currently unavailable. Please retry shortly.":p==="internal"||g.includes("internal")?"Advisory service had a temporary issue. Please try again.":h||"Failed to generate advisory"},l=y.useCallback(async(c,h,f)=>{r(!0),i(null);try{const g=await hu(fu,"generateAdvisory")({weather:c,forecast:f,farm:h,language:o}),S=g==null?void 0:g.data;if(S.error)throw S.error.includes("Rate limit")?Ar.error("Too many requests. Please wait a moment and try again."):S.error.includes("credits")&&Ar.error("AI service credits exhausted."),new Error(S.error);e(S)}catch(p){console.error("Advisory generation error:",p);const g=a(p);i(g),Ar.error(g)}finally{r(!1)}},[o]);return{advisory:t,isLoading:n,error:s,generateAdvisory:l}},IB=()=>{const{t}=et(),{weather:e,forecast:n,locationName:r,isLoading:s,error:i,refreshWeather:o,requestLocation:a,location:l}=u0(),{advisory:c,isLoading:h,error:f,generateAdvisory:p}=xP(),{isSubscribed:g,checkWeatherAlerts:S,showLocalNotification:v}=d0(),[E,_]=y.useState(null),w=S(n,e),b=r||(E==null?void 0:E.location)||(l?`${l.lat.toFixed(4)}, ${l.lon.toFixed(4)}`:"");y.useEffect(()=>{const T=localStorage.getItem("farmerProfile");if(T)try{_(JSON.parse(T))}catch(C){console.error("Error parsing farmer profile:",C)}},[]),y.useEffect(()=>{!l&&!s&&a()},[l,s,a]),y.useEffect(()=>{if(e&&!c&&!h){const T=E?{crops:E.farms.flatMap(C=>C.crops),season:E.farmingSeason}:void 0;p(e,T,n)}},[e,n,E]),y.useEffect(()=>{if(console.log("[Advisory] Notification effect: isSubscribed=",g,"weatherAlerts length=",w.length),g&&w.length>0){const C=w.filter(A=>A.severity==="danger")[0]||w[0];C&&(console.log("[Advisory] Showing alert notification:",C.type),v(C))}},[g,w,v]),y.useEffect(()=>{if(console.log("[Advisory] Setting up polling: isSubscribed=",g),!g){console.log("[Advisory] isSubscribed is false, skipping polling setup");return}let T=!0;const C=setInterval(async()=>{console.log("[Advisory] Polling tick at",new Date().toISOString());try{if(await o(),!T)return;const A=S(n,e);if(console.log("[Advisory] Polling: found",A.length,"alerts"),A&&A.length>0){const j=A.filter(O=>O.severity==="danger")[0]||A[0];j&&(console.log("[Advisory] Showing alert from polling:",j.type),v(j))}}catch(A){console.error("[Advisory] Periodic weather poll failed:",A)}},60*1e3);return()=>{console.log("[Advisory] Cleaning up polling interval"),T=!1,clearInterval(C)}},[g,o,n,e,S,v]);const I=async()=>{if(await o(),e){const T=E?{crops:E.farms.flatMap(C=>C.crops),season:E.farmingSeason}:void 0;p(e,T,n)}},P=s||h,D=i||f;return d.jsxs("div",{className:"page-container",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-farmer-2xl font-bold text-foreground",children:t("todaysAdvisory")}),d.jsxs("div",{className:"mt-1 flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx(zf,{className:"h-4 w-4"}),s&&!b?d.jsx(va,{className:"h-4 w-32"}):b?d.jsx("span",{children:b}):d.jsxs("button",{onClick:a,className:"flex items-center gap-1 text-primary hover:underline",children:[d.jsx(Fg,{className:"h-3 w-3"}),t("useGPSLocation")]})]})]}),d.jsx(vt,{variant:"ghost",size:"icon",onClick:I,disabled:P,children:P?d.jsx(Gc,{className:"h-5 w-5 animate-spin"}):d.jsx(BO,{className:"h-5 w-5"})})]}),w.length>0&&d.jsx(yP,{alerts:w}),D&&d.jsx(H1,{message:D,type:"warning",className:"mb-6"}),(c==null?void 0:c.riskLevel)==="high"&&!w.length&&d.jsx(H1,{message:t("heavyRainfallWarning"),type:"warning",className:"mb-6"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"mb-3 text-farmer-lg font-semibold text-foreground",children:t("currentWeather")}),s&&!e?d.jsx(va,{className:"h-32 w-full rounded-xl"}):e?d.jsx(EB,{weather:e}):d.jsxs("div",{className:"rounded-xl bg-muted/50 p-6 text-center",children:[d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:t("useGPSLocation")}),d.jsxs(vt,{variant:"outline",className:"mt-3",onClick:a,children:[d.jsx(Fg,{className:"mr-2 h-4 w-4"}),t("detectingLocation")]})]})]}),n.length>0&&d.jsx("div",{className:"mb-6",children:d.jsx(TB,{forecast:n})}),d.jsxs("div",{className:"mb-6",children:[d.jsx(wP,{advice:(c==null?void 0:c.mainAdvice)||t("advisoryPlaceholder"),riskLevel:(c==null?void 0:c.riskLevel)||"medium",tips:c==null?void 0:c.tips,irrigationAdvice:c==null?void 0:c.irrigationAdvice,fertilizerAdvice:c==null?void 0:c.fertilizerAdvice,isLoading:h}),(c==null?void 0:c.mainAdvice)&&d.jsx(Oa,{text:c.mainAdvice,className:"mt-4 w-full"})]}),(c==null?void 0:c.threeDayPlan)&&c.threeDayPlan.length>0&&d.jsx("div",{className:"mb-6",children:d.jsx(CB,{plan:c.threeDayPlan})}),(c==null?void 0:c.pestAlerts)&&c.pestAlerts.length>0&&d.jsx("div",{className:"mb-6",children:d.jsx(AB,{alerts:c.pestAlerts})}),d.jsx(Bu,{})]})},kB=({cropName:t,sowingSeason:e,harvestWindow:n,className:r})=>{const{t:s}=et();return d.jsx(Be,{className:ie("card-elevated p-4",r),children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex h-14 w-14 flex-shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:d.jsx(Bf,{className:"h-7 w-7 text-primary"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"mb-2 text-farmer-lg font-bold text-foreground",children:t}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx(wi,{className:"h-4 w-4 text-primary"}),d.jsxs("span",{children:[d.jsxs("span",{className:"font-medium",children:[s("sowingSeason"),":"]})," ",e]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx(yl,{className:"h-4 w-4 text-accent"}),d.jsxs("span",{children:[d.jsxs("span",{className:"font-medium",children:[s("harvestWindow"),":"]})," ",n]})]})]})]})]})})},NB=()=>{const{t}=et(),e=[{cropName:t("ricePaddy"),sowingSeason:t("riceSowing"),harvestWindow:t("riceHarvest")},{cropName:t("wheat"),sowingSeason:t("wheatSowing"),harvestWindow:t("wheatHarvest")},{cropName:t("cotton"),sowingSeason:t("cottonSowing"),harvestWindow:t("cottonHarvest")},{cropName:t("tomato"),sowingSeason:t("tomatoSowing"),harvestWindow:t("tomatoHarvest")}];return d.jsxs("div",{className:"page-container",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-primary/10",children:d.jsx(yl,{className:"h-6 w-6 text-primary"})}),d.jsx("h1",{className:"text-farmer-2xl font-bold text-foreground",children:t("cropCalendar")})]}),d.jsx("p",{className:"text-farmer-base text-muted-foreground",children:t("knowBestTimes")})]}),d.jsx("div",{className:"space-y-4",children:e.map((n,r)=>d.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${r*100}ms`},children:d.jsx(kB,{cropName:n.cropName,sowingSeason:n.sowingSeason,harvestWindow:n.harvestWindow})},n.cropName))}),d.jsx("div",{className:"mt-6 rounded-xl bg-muted p-4",children:d.jsx("p",{className:"text-center text-farmer-sm text-muted-foreground",children:t("calendarNote")})}),d.jsx(Bu,{})]})};var Sp="Switch",[PB]=Oi(Sp),[RB,jB]=PB(Sp),_P=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:h,...f}=t,[p,g]=y.useState(null),S=ze(e,b=>g(b)),v=y.useRef(!1),E=p?h||!!p.closest("form"):!0,[_,w]=Ya({prop:s,defaultProp:i??!1,onChange:c,caller:Sp});return d.jsxs(RB,{scope:n,checked:_,disabled:a,children:[d.jsx(Se.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":TP(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:S,onClick:ye(t.onClick,b=>{w(I=>!I),E&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),E&&d.jsx(SP,{control:p,bubbles:!v.current,name:r,value:l,checked:_,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});_P.displayName=Sp;var EP="SwitchThumb",bP=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=jB(EP,n);return d.jsx(Se.span,{"data-state":TP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});bP.displayName=EP;var OB="SwitchBubbleInput",SP=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=ze(o,i),l=Jw(n),c=Kv(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const S=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(S)}},[l,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SP.displayName=OB;function TP(t){return t?"checked":"unchecked"}var CP=_P,DB=bP;const Xr=y.forwardRef(({className:t,...e},n)=>d.jsx(CP,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:d.jsx(DB,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xr.displayName=CP.displayName;const LB=()=>{const{t}=et(),{isSupported:e,permission:n,isSubscribed:r,isLoading:s,requestPermission:i}=d0(),o=async()=>{await i()};return e?d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[d.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-xl ${r?"bg-primary/20":"bg-accent/20"}`,children:r?d.jsx(kO,{className:"h-5 w-5 text-primary"}):d.jsx(NO,{className:"h-5 w-5 text-accent"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-farmer-lg font-semibold text-foreground",children:t("weatherAlerts")}),d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:t(r?"alertsEnabled":"alertsDisabled")})]}),r&&d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:d.jsx(ku,{className:"h-4 w-4 text-primary"})})]}),!r&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-farmer-base text-muted-foreground",children:t("alertsDescription")}),d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("heavyRainAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("frostAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("heatAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("windAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("highHumidityAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("diseaseRiskAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("pestActivityAlert")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-farmer-sm text-muted-foreground",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t("irrigationAdvisoryAlert")})]})]}),d.jsx(vt,{onClick:o,disabled:s,className:"w-full h-12 text-farmer-base",children:t(s?"enabling":"enableAlerts")}),n==="denied"&&d.jsxs("div",{className:"mt-3 flex items-start gap-2 rounded-lg bg-destructive/10 p-3",children:[d.jsx(Nu,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}),d.jsx("p",{className:"text-farmer-sm text-destructive",children:t("notificationsDenied")})]})]}),r&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("heavyRainAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("frostAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("heatAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("windAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("highHumidityAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("diseaseRiskAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("pestActivityAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("span",{className:"text-farmer-base",children:[" ",t("irrigationAdvisoryAlert")]}),d.jsx(Xr,{checked:!0,disabled:!0})]})]})]}):d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[d.jsx(IO,{className:"h-6 w-6 text-muted-foreground"}),d.jsx("h2",{className:"text-farmer-lg font-semibold text-foreground",children:t("notifications")})]}),d.jsx("p",{className:"text-farmer-base text-muted-foreground",children:t("notificationsNotSupported")})]})},MB=()=>{const{language:t,setLanguage:e,t:n}=et(),{user:r,signOut:s}=$o(),i=hr(),[o,a]=y.useState(!1),l=async()=>{a(!0);try{await s(),i("/auth")}catch(c){console.error("Logout error:",c)}finally{a(!1)}};return d.jsxs("div",{className:"page-container",children:[d.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-primary/10",children:d.jsx(Fv,{className:"h-6 w-6 text-primary"})}),d.jsx("h1",{className:"text-farmer-2xl font-bold text-foreground",children:n("settings")})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[d.jsx(fC,{className:"h-6 w-6 text-primary"}),d.jsx("h2",{className:"text-farmer-lg font-semibold text-foreground",children:n("account")})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:"Email"}),d.jsx("p",{className:"text-farmer-base font-medium text-foreground",children:r==null?void 0:r.email})]}),d.jsxs(vt,{variant:"destructive",size:"lg",onClick:l,disabled:o,className:"w-full",children:[d.jsx(UO,{className:"mr-2 h-5 w-5"}),n(o?"loggingOut":"logout")]})]})]}),d.jsx(LB,{}),d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[d.jsx(dC,{className:"h-6 w-6 text-secondary"}),d.jsx("h2",{className:"text-farmer-lg font-semibold text-foreground",children:n("language")})]}),d.jsxs(pu,{value:t,onValueChange:c=>e(c),children:[d.jsx(ol,{className:"h-14 text-farmer-base",children:d.jsx(mu,{})}),d.jsxs(al,{children:[d.jsx(Nt,{value:"en",className:"text-farmer-base py-3",children:"English"}),d.jsx(Nt,{value:"hi",className:"text-farmer-base py-3",children:" (Hindi)"}),d.jsx(Nt,{value:"mr",className:"text-farmer-base py-3",children:" (Marathi)"}),d.jsx(Nt,{value:"ta",className:"text-farmer-base py-3",children:" (Tamil)"}),d.jsx(Nt,{value:"te",className:"text-farmer-base py-3",children:" (Telugu)"}),d.jsx(Nt,{value:"kn",className:"text-farmer-base py-3",children:" (Kannada)"}),d.jsx(Nt,{value:"bn",className:"text-farmer-base py-3",children:" (Bengali)"}),d.jsx(Nt,{value:"gu",className:"text-farmer-base py-3",children:" (Gujarati)"}),d.jsx(Nt,{value:"or",className:"text-farmer-base py-3",children:" (Odia)"}),d.jsx(Nt,{value:"ml",className:"text-farmer-base py-3",children:" (Malayalam)"}),d.jsx(Nt,{value:"pa",className:"text-farmer-base py-3",children:" (Punjabi)"})]})]})]}),d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[d.jsx(QO,{className:"h-6 w-6 text-accent"}),d.jsx("h2",{className:"text-farmer-lg font-semibold text-foreground",children:n("offlineMode")})]}),d.jsx("p",{className:"text-farmer-base text-muted-foreground",children:n("offlineModeInfo")}),d.jsx("div",{className:"mt-4 rounded-lg bg-muted p-3",children:d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:n("lastSynced")})})]}),d.jsxs(Be,{className:"card-elevated p-5",children:[d.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[d.jsx(MO,{className:"h-6 w-6 text-primary"}),d.jsx("h2",{className:"text-farmer-lg font-semibold text-foreground",children:n("about")})]}),d.jsxs("div",{className:"space-y-3 text-farmer-base text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary",children:d.jsx(wi,{className:"h-6 w-6 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-foreground",children:n("appName")}),d.jsx("p",{className:"text-farmer-sm",children:n("version")})]})]}),d.jsx("p",{children:n("aboutDescription")}),d.jsx("p",{className:"text-farmer-sm",children:n("developedWith")})]})]})]}),d.jsx(Bu,{})]})},VB=()=>{const t=hr(),{t:e,language:n}=et(),{profile:r}=n0(),{weather:s,forecast:i}=u0();xP();const[o,a]=y.useState(null),[l,c]=y.useState({}),[h,f]=y.useState(null),p=S=>{const v=e(S);return v!==S?v:S},g=async(S,v)=>{var E;if(s){f(S),a(S);try{const _={crops:v,farmSize:(E=r==null?void 0:r.farms.find(T=>T.id===S))==null?void 0:E.size,season:r==null?void 0:r.farmingSeason},w={temperature:s.temperature,humidity:s.humidity,rainfall:s.rainfall||0,description:s.description,windSpeed:s.windSpeed},I=await hu(fu,"generateAdvisory")({weather:w,forecast:i,farm:_,language:n}),P=I==null?void 0:I.data;!(P?null:new Error("No advisory data returned"))&&P&&c(T=>({...T,[S]:P}))}catch(_){console.error("Error generating farm advice:",_)}finally{f(null)}}};return d.jsxs("div",{className:"flex min-h-screen flex-col bg-background pb-20",children:[d.jsx("div",{className:"bg-primary px-4 pb-6 pt-10",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>t(-1),className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-foreground/10 text-primary-foreground",children:d.jsx(Mv,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-farmer-xl font-bold text-primary-foreground",children:e("myFarms")})]})}),d.jsx("div",{className:"flex-1 space-y-4 px-4 pt-6",children:r!=null&&r.farms&&r.farms.length>0?r.farms.map(S=>d.jsxs("div",{className:"space-y-3",children:[d.jsx(Be,{className:"border-0 shadow-card",children:d.jsxs(Bs,{className:"p-4",children:[d.jsx("div",{className:"flex items-start justify-between",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10",children:d.jsx(wi,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-farmer-lg font-semibold text-foreground",children:S.name||e("unnamedFarm")}),d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:e(S.size)})]})]})}),d.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:S.crops.map(v=>d.jsx("span",{className:"inline-flex items-center rounded-full bg-secondary/10 px-3 py-1 text-farmer-sm font-medium text-secondary",children:p(v)},v))}),d.jsx(vt,{variant:"outline",className:"mt-4 w-full",onClick:()=>g(S.id,S.crops),disabled:h===S.id||!s,children:h===S.id?d.jsxs(d.Fragment,{children:[d.jsx(Gc,{className:"mr-2 h-4 w-4 animate-spin"}),e("loading")]}):d.jsxs(d.Fragment,{children:[d.jsx($f,{className:"mr-2 h-4 w-4"}),e("getAdviceForFarm")]})})]})}),o===S.id&&l[S.id]&&d.jsx(wP,{advice:l[S.id].mainAdvice,riskLevel:l[S.id].riskLevel,tips:l[S.id].tips,irrigationAdvice:l[S.id].irrigationAdvice,fertilizerAdvice:l[S.id].fertilizerAdvice})]},S.id)):d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:d.jsx(wi,{className:"h-8 w-8 text-muted-foreground"})}),d.jsx("p",{className:"mt-4 text-farmer-base text-muted-foreground",children:e("noFarmsYet")}),d.jsx(vt,{variant:"default",className:"mt-4",onClick:()=>t("/settings"),children:e("addFarm")})]})}),d.jsx(Bu,{})]})};var Me;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Me||(Me={}));var q1;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(q1||(q1={}));const ee=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ls=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return Number.isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},H=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dr.create=t=>new dr(t);const Oy=(t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Me.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${Me.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Me.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${Me.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Me.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,Me.assertNever(t)}return{message:n}};let FB=Oy;function UB(){return FB}const $B=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function Y(t,e){const n=UB(),r=$B({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Oy?void 0:Oy].filter(s=>!!s)});t.common.issues.push(r)}class Cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ve=Object.freeze({status:"aborted"}),hc=t=>({status:"dirty",value:t}),$n=t=>({status:"valid",value:t}),K1=t=>t.status==="aborted",G1=t=>t.status==="dirty",cl=t=>t.status==="valid",pf=t=>typeof Promise<"u"&&t instanceof Promise;var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(te||(te={}));class ki{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q1=(t,e)=>{if(cl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dr(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Le{get description(){return this._def.description}_getType(e){return Ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cn,ctx:{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(pf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Q1(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return cl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>cl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(pf(s)?s:Promise.resolve(s));return Q1(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:H.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new dl({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gi.create(this,this._def)}nullable(){return hl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $r.create(this)}promise(){return vf.create(this,this._def)}or(e){return gf.create([this,e],this._def)}and(e){return yf.create(this,e,this._def)}transform(e){return new dl({...be(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ly({...be(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new uW({typeName:we.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new My({...be(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return h0.create(this,e)}readonly(){return Vy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zB=/^c[^\s-]{8,}$/i,BB=/^[0-9a-z]+$/,WB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,HB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qB=/^[a-z0-9_-]{21}$/i,KB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,QB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $m;const ZB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,AP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rW=new RegExp(`^${AP}$`);function IP(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function sW(t){return new RegExp(`^${IP(t)}$`)}function iW(t){let e=`${AP}T${IP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function oW(t,e){return!!((e==="v4"||!e)&&ZB.test(t)||(e==="v6"||!e)&&JB.test(t))}function aW(t,e){if(!KB.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function lW(t,e){return!!((e==="v4"||!e)&&XB.test(t)||(e==="v6"||!e)&&eW.test(t))}class ti extends Le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const i=this._getOrReturnCtx(e);return Y(i,{code:H.invalid_type,expected:ee.string,received:i.parsedType}),ve}const r=new Cn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Y(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Y(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")QB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"email",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")$m||($m=new RegExp(YB,"u")),$m.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"emoji",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")HB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"uuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")qB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")zB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")BB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")WB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"ulid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Y(s,{validation:"url",code:H.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"regex",code:H.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Y(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Y(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Y(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?iW(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:H.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?rW.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:H.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?sW(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:H.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?GB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"duration",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?oW(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"ip",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?aW(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"jwt",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?lW(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cidr",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?tW.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"base64",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?nW.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"base64url",code:H.invalid_string,message:i.message}),r.dirty()):Me.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:H.invalid_string,...te.errToObj(r)})}_addCheck(e){return new ti({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...te.errToObj(n)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new ti({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ti({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ti({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ti.create=t=>new ti({checks:[],typeName:we.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...be(t)});function cW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class gu extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const i=this._getOrReturnCtx(e);return Y(i,{code:H.invalid_type,expected:ee.number,received:i.parsedType}),ve}let r;const s=new Cn;for(const i of this._def.checks)i.kind==="int"?Me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Y(r,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Y(r,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Y(r,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?cW(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Y(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Y(r,{code:H.not_finite,message:i.message}),s.dirty()):Me.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,te.toString(n))}setLimit(e,n,r,s){return new gu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:te.toString(s)}]})}_addCheck(e){return new gu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Me.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}gu.create=t=>new gu({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class yu extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ee.bigint)return this._getInvalidInput(e);let r;const s=new Cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Y(r,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Y(r,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Y(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Me.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Y(n,{code:H.invalid_type,expected:ee.bigint,received:n.parsedType}),ve}gte(e,n){return this.setLimit("min",e,!0,te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,te.toString(n))}setLimit(e,n,r,s){return new yu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:te.toString(s)}]})}_addCheck(e){return new yu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yu.create=t=>new yu({checks:[],typeName:we.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...be(t)});class Y1 extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return Y(r,{code:H.invalid_type,expected:ee.boolean,received:r.parsedType}),ve}return $n(e.data)}}Y1.create=t=>new Y1({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class mf extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const i=this._getOrReturnCtx(e);return Y(i,{code:H.invalid_type,expected:ee.date,received:i.parsedType}),ve}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Y(i,{code:H.invalid_date}),ve}const r=new Cn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Me.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}mf.create=t=>new mf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...be(t)});class Z1 extends Le{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return Y(r,{code:H.invalid_type,expected:ee.symbol,received:r.parsedType}),ve}return $n(e.data)}}Z1.create=t=>new Z1({typeName:we.ZodSymbol,...be(t)});class X1 extends Le{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return Y(r,{code:H.invalid_type,expected:ee.undefined,received:r.parsedType}),ve}return $n(e.data)}}X1.create=t=>new X1({typeName:we.ZodUndefined,...be(t)});class J1 extends Le{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return Y(r,{code:H.invalid_type,expected:ee.null,received:r.parsedType}),ve}return $n(e.data)}}J1.create=t=>new J1({typeName:we.ZodNull,...be(t)});class eb extends Le{constructor(){super(...arguments),this._any=!0}_parse(e){return $n(e.data)}}eb.create=t=>new eb({typeName:we.ZodAny,...be(t)});class tb extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $n(e.data)}}tb.create=t=>new tb({typeName:we.ZodUnknown,...be(t)});class Ni extends Le{_parse(e){const n=this._getOrReturnCtx(e);return Y(n,{code:H.invalid_type,expected:ee.never,received:n.parsedType}),ve}}Ni.create=t=>new Ni({typeName:we.ZodNever,...be(t)});class nb extends Le{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return Y(r,{code:H.invalid_type,expected:ee.void,received:r.parsedType}),ve}return $n(e.data)}}nb.create=t=>new nb({typeName:we.ZodVoid,...be(t)});class $r extends Le{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ee.array)return Y(n,{code:H.invalid_type,expected:ee.array,received:n.parsedType}),ve;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Y(n,{code:o?H.too_big:H.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Y(n,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Y(n,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ki(n,o,n.path,a)))).then(o=>Cn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ki(n,o,n.path,a)));return Cn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new $r({...this._def,minLength:{value:e,message:te.toString(n)}})}max(e,n){return new $r({...this._def,maxLength:{value:e,message:te.toString(n)}})}length(e,n){return new $r({...this._def,exactLength:{value:e,message:te.toString(n)}})}nonempty(e){return this.min(1,e)}}$r.create=(t,e)=>new $r({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...be(e)});function sa(t){if(t instanceof _t){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gi.create(sa(r))}return new _t({...t._def,shape:()=>e})}else return t instanceof $r?new $r({...t._def,type:sa(t.element)}):t instanceof gi?gi.create(sa(t.unwrap())):t instanceof hl?hl.create(sa(t.unwrap())):t instanceof No?No.create(t.items.map(e=>sa(e))):t}class _t extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Me.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ee.object){const c=this._getOrReturnCtx(e);return Y(c,{code:H.invalid_type,expected:ee.object,received:c.parsedType}),ve}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ni&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const h=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new ki(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ni){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of a)l.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(c==="strict")a.length>0&&(Y(s,{code:H.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of a){const f=s.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new ki(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of l){const f=await h.key,p=await h.value;c.push({key:f,value:p,alwaysSet:h.alwaysSet})}return c}).then(c=>Cn.mergeObjectSync(r,c)):Cn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new _t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:te.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(e){return new _t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _t({...this._def,catchall:e})}pick(e){const n={};for(const r of Me.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new _t({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Me.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new _t({...this._def,shape:()=>n})}deepPartial(){return sa(this)}partial(e){const n={};for(const r of Me.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new _t({...this._def,shape:()=>n})}required(e){const n={};for(const r of Me.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof gi;)i=i._def.innerType;n[r]=i}return new _t({...this._def,shape:()=>n})}keyof(){return kP(Me.objectKeys(this.shape))}}_t.create=(t,e)=>new _t({shape:()=>t,unknownKeys:"strip",catchall:Ni.create(),typeName:we.ZodObject,...be(e)});_t.strictCreate=(t,e)=>new _t({shape:()=>t,unknownKeys:"strict",catchall:Ni.create(),typeName:we.ZodObject,...be(e)});_t.lazycreate=(t,e)=>new _t({shape:t,unknownKeys:"strip",catchall:Ni.create(),typeName:we.ZodObject,...be(e)});class gf extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new dr(a.ctx.common.issues));return Y(n,{code:H.invalid_union,unionErrors:o}),ve}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=l._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new dr(l));return Y(n,{code:H.invalid_union,unionErrors:a}),ve}}get options(){return this._def.options}}gf.create=(t,e)=>new gf({options:t,typeName:we.ZodUnion,...be(e)});function Dy(t,e){const n=Ls(t),r=Ls(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const s=Me.objectKeys(e),i=Me.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Dy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Dy(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yf extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(K1(i)||K1(o))return ve;const a=Dy(i.value,o.value);return a.valid?((G1(i)||G1(o))&&n.dirty(),{status:n.value,value:a.data}):(Y(r,{code:H.invalid_intersection_types}),ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yf.create=(t,e,n)=>new yf({left:t,right:e,typeName:we.ZodIntersection,...be(n)});class No extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return Y(r,{code:H.invalid_type,expected:ee.array,received:r.parsedType}),ve;if(r.data.length<this._def.items.length)return Y(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&r.data.length>this._def.items.length&&(Y(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ki(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Cn.mergeArray(n,o)):Cn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new No({...this._def,rest:e})}}No.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new No({items:t,typeName:we.ZodTuple,rest:null,...be(e)})};class rb extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return Y(r,{code:H.invalid_type,expected:ee.map,received:r.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ki(r,a,r.path,[c,"key"])),value:i._parse(new ki(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,h=await l.value;if(c.status==="aborted"||h.status==="aborted")return ve;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return ve;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}}}}rb.create=(t,e,n)=>new rb({valueType:e,keyType:t,typeName:we.ZodMap,...be(n)});class vu extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return Y(r,{code:H.invalid_type,expected:ee.set,received:r.parsedType}),ve;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Y(r,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Y(r,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const h of l){if(h.status==="aborted")return ve;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ki(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new vu({...this._def,minSize:{value:e,message:te.toString(n)}})}max(e,n){return new vu({...this._def,maxSize:{value:e,message:te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}vu.create=(t,e)=>new vu({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...be(e)});class sb extends Le{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}sb.create=(t,e)=>new sb({getter:t,typeName:we.ZodLazy,...be(e)});class ib extends Le{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Y(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}ib.create=(t,e)=>new ib({value:t,typeName:we.ZodLiteral,...be(e)});function kP(t,e){return new ul({values:t,typeName:we.ZodEnum,...be(e)})}class ul extends Le{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Y(n,{expected:Me.joinValues(r),received:n.parsedType,code:H.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Y(n,{received:n.data,code:H.invalid_enum_value,options:r}),ve}return $n(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ul.create(e,{...this._def,...n})}exclude(e,n=this._def){return ul.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ul.create=kP;class ob extends Le{_parse(e){const n=Me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const s=Me.objectValues(n);return Y(r,{expected:Me.joinValues(s),received:r.parsedType,code:H.invalid_type}),ve}if(this._cache||(this._cache=new Set(Me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Me.objectValues(n);return Y(r,{received:r.data,code:H.invalid_enum_value,options:s}),ve}return $n(e.data)}get enum(){return this._def.values}}ob.create=(t,e)=>new ob({values:t,typeName:we.ZodNativeEnum,...be(e)});class vf extends Le{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return Y(n,{code:H.invalid_type,expected:ee.promise,received:n.parsedType}),ve;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return $n(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vf.create=(t,e)=>new vf({type:t,typeName:we.ZodPromise,...be(e)});class dl extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Y(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ve;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ve:l.status==="dirty"||n.value==="dirty"?hc(l.value):l});{if(n.value==="aborted")return ve;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ve:a.status==="dirty"||n.value==="dirty"?hc(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!cl(o))return ve;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>cl(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):ve);Me.assertNever(s)}}dl.create=(t,e,n)=>new dl({schema:t,typeName:we.ZodEffects,effect:e,...be(n)});dl.createWithPreprocess=(t,e,n)=>new dl({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...be(n)});class gi extends Le{_parse(e){return this._getType(e)===ee.undefined?$n(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gi.create=(t,e)=>new gi({innerType:t,typeName:we.ZodOptional,...be(e)});class hl extends Le{_parse(e){return this._getType(e)===ee.null?$n(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hl.create=(t,e)=>new hl({innerType:t,typeName:we.ZodNullable,...be(e)});class Ly extends Le{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ly.create=(t,e)=>new Ly({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class My extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return pf(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}My.create=(t,e)=>new My({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class ab extends Le{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return Y(r,{code:H.invalid_type,expected:ee.nan,received:r.parsedType}),ve}return{status:"valid",value:e.data}}}ab.create=t=>new ab({typeName:we.ZodNaN,...be(t)});class uW extends Le{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class h0 extends Le{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ve:i.status==="dirty"?(n.dirty(),hc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ve:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new h0({in:e,out:n,typeName:we.ZodPipeline})}}class Vy extends Le{_parse(e){const n=this._def.innerType._parse(e),r=s=>(cl(s)&&(s.value=Object.freeze(s.value)),s);return pf(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Vy.create=(t,e)=>new Vy({innerType:t,typeName:we.ZodReadonly,...be(e)});var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const NP=ti.create;Ni.create;$r.create;gf.create;yf.create;No.create;ul.create;vf.create;gi.create;hl.create;const dW=NP().email("Invalid email address"),hW=NP().min(6,"Password must be at least 6 characters"),fW=()=>{const t=hr(),{user:e,signUp:n,signIn:r,loading:s}=$o(),{t:i}=et(),[o,a]=y.useState(!0),[l,c]=y.useState(""),[h,f]=y.useState(""),[p,g]=y.useState(""),[S,v]=y.useState(!1),[E,_]=y.useState(!1),[w,b]=y.useState("");y.useEffect(()=>{if(e&&!s){const D=localStorage.getItem("onboardingComplete")==="true";t(D?"/":"/onboarding")}},[e,s,t]);const I=()=>{try{dW.parse(l)}catch(D){if(D instanceof dr)return g(D.errors[0].message),!1}try{hW.parse(h)}catch(D){if(D instanceof dr)return g(D.errors[0].message),!1}return!o&&h!==w?(g(i("passwordsDoNotMatch")),!1):!0},P=async D=>{if(D.preventDefault(),g(""),!!I()){v(!0);try{if(o){const{error:T}=await r(l,h);T&&(T.message.includes("invalid-credential")||T.message.includes("wrong-password")||T.message.includes("user-not-found")||T.message.includes("Invalid login credentials")?g(i("invalidCredentials")):g(T.message))}else{const{error:T}=await n(l,h);T&&(T.message.includes("email-already-in-use")||T.message.includes("User already registered")?g(i("userAlreadyExists")):g(T.message))}}catch{g(i("unexpectedError"))}finally{v(!1)}}};return s?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):d.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[d.jsx("div",{className:"absolute left-4 top-4 z-10",children:d.jsx("button",{onClick:()=>t("/welcome"),className:"flex h-10 w-10 items-center justify-center rounded-full bg-muted/80 text-foreground transition-colors hover:bg-muted",children:d.jsx(Mv,{className:"h-5 w-5"})})}),d.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center px-6 py-12",children:[d.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[d.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-2xl bg-primary shadow-elevated",children:d.jsx(wi,{className:"h-10 w-10 text-primary-foreground"})}),d.jsx("h1",{className:"text-farmer-2xl font-bold text-foreground",children:i("appName")}),d.jsx("p",{className:"mt-1 text-farmer-base text-muted-foreground",children:i("tagline")})]}),d.jsx(Be,{className:"w-full max-w-sm border-0 shadow-elevated",children:d.jsxs(Bs,{className:"p-6",children:[d.jsx("h2",{className:"mb-6 text-center text-farmer-xl font-semibold text-foreground",children:i(o?"login":"signUp")}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2 text-farmer-base",children:[d.jsx($O,{className:"h-4 w-4 text-primary"}),i("email")]}),d.jsx(uo,{type:"email",placeholder:i("enterEmail"),value:l,onChange:D=>c(D.target.value),className:"h-12 text-farmer-base",disabled:S})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2 text-farmer-base",children:[d.jsx(p_,{className:"h-4 w-4 text-primary"}),i("password")]}),d.jsxs("div",{className:"relative",children:[d.jsx(uo,{type:E?"text":"password",placeholder:i("enterPassword"),value:h,onChange:D=>f(D.target.value),className:"h-12 pr-12 text-farmer-base",disabled:S}),d.jsx("button",{type:"button",onClick:()=>_(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:E?d.jsx(OO,{className:"h-5 w-5"}):d.jsx(DO,{className:"h-5 w-5"})})]})]}),!o&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ur,{className:"flex items-center gap-2 text-farmer-base",children:[d.jsx(p_,{className:"h-4 w-4 text-primary"}),i("confirmPassword")]}),d.jsx(uo,{type:E?"text":"password",placeholder:i("reEnterPassword"),value:w,onChange:D=>b(D.target.value),className:"h-12 text-farmer-base",disabled:S})]}),p&&d.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-farmer-sm text-destructive",children:[d.jsx(Vv,{className:"h-4 w-4 flex-shrink-0"}),p]}),d.jsx(vt,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:S,children:i(S?"pleaseWait":o?"login":"signUp")})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{type:"button",onClick:()=>{a(!o),g("")},className:"text-farmer-sm text-primary hover:underline",children:i(o?"dontHaveAccount":"alreadyHaveAccount")})})]})})]}),d.jsx("div",{className:"flex items-center justify-center border-t border-border bg-muted/30 py-4",children:d.jsx("p",{className:"text-farmer-sm text-muted-foreground",children:i("madeForFarmers")})})]})},pW=()=>{const t=hr(),{t:e}=et(),[n,r]=y.useState(null),[s,i]=y.useState(!1),[o,a]=y.useState(!1);y.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&i(!0);const h=/iPad|iPhone|iPod/.test(navigator.userAgent);a(h);const f=p=>{p.preventDefault(),r(p)};return window.addEventListener("beforeinstallprompt",f),()=>{window.removeEventListener("beforeinstallprompt",f)}},[]);const l=async()=>{if(!n)return;await n.prompt();const{outcome:h}=await n.userChoice;h==="accepted"&&i(!0),r(null)},c=[{icon:"",text:"Real-time weather updates"},{icon:"",text:"AI-powered farming advice"},{icon:"",text:"Works offline"},{icon:"",text:"Weather alerts"},{icon:"",text:"Voice support in Hindi & Marathi"}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary/5 via-background to-background",children:[d.jsxs("div",{className:"bg-gradient-to-br from-primary via-primary to-primary/90 px-4 pb-8 pt-12",children:[d.jsx("button",{onClick:()=>t(-1),className:"mb-6 flex h-10 w-10 items-center justify-center rounded-full bg-white/20 text-white backdrop-blur-sm",children:d.jsx(Mv,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-3xl bg-white shadow-xl",children:d.jsx(Kc,{className:"h-10 w-10 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-white",children:e("appName")}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Install for the best experience"})]})]})]}),d.jsxs("div",{className:"px-4 py-6 space-y-6",children:[s?d.jsxs(Be,{className:"p-6 text-center card-elevated border-primary/20 bg-primary/5",children:[d.jsx("div",{className:"flex h-16 w-16 mx-auto items-center justify-center rounded-full bg-primary/20 mb-4",children:d.jsx(ku,{className:"h-8 w-8 text-primary"})}),d.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Already Installed!"}),d.jsx("p",{className:"text-muted-foreground",children:"You can find the app on your home screen."}),d.jsx(vt,{className:"mt-4 w-full",onClick:()=>t("/"),children:"Open App"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(Be,{className:"p-6 card-elevated border-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-primary/10",children:d.jsx(KO,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Install App"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Add to home screen"})]})]}),o?d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"To install on iPhone/iPad:"}),d.jsxs("ol",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:"1"}),d.jsxs("span",{children:["Tap the ",d.jsx(HO,{className:"inline h-4 w-4"})," Share button in Safari"]})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:"2"}),d.jsx("span",{children:'Scroll down and tap "Add to Home Screen"'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:"3"}),d.jsx("span",{children:'Tap "Add" in the top right corner'})]})]})]}):n?d.jsxs(vt,{className:"w-full btn-glow-primary",size:"lg",onClick:l,children:[d.jsx(cC,{className:"mr-2 h-5 w-5"}),"Install Now"]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"To install on Android:"}),d.jsxs("ol",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:"1"}),d.jsx("span",{children:"Tap the menu () in your browser"})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:"2"}),d.jsx("span",{children:'Tap "Install app" or "Add to Home Screen"'})]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:"3"}),d.jsx("span",{children:'Tap "Install" to confirm'})]})]})]})]}),d.jsxs(Be,{className:"p-6 card-elevated border-0",children:[d.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Why install?"}),d.jsx("ul",{className:"space-y-3",children:c.map((h,f)=>d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:h.icon}),d.jsx("span",{className:"text-sm text-foreground",children:h.text})]},f))})]})]}),d.jsx(vt,{variant:"ghost",className:"w-full",onClick:()=>t("/"),children:"Continue in Browser"})]})]})},mW=()=>{const t=Do();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},gW=({onFinish:t})=>{const[e,n]=y.useState(0);return y.useEffect(()=>{const r=setInterval(()=>{n(s=>s>=100?(clearInterval(r),setTimeout(()=>{t()},500),100):s+1)},50);return()=>clearInterval(r)},[t]),d.jsxs("div",{className:"splash-container",children:[d.jsx("div",{className:"glow-circle top"}),d.jsx("div",{className:"glow-circle bottom"}),d.jsxs("div",{className:"splash-content",children:[d.jsxs("div",{className:"icon-box",children:["",d.jsx("div",{className:"mini-badge",children:""})]}),d.jsxs("div",{className:"title",children:[d.jsx("span",{className:"dark",children:"FarmFresh"}),d.jsx("span",{className:"green",children:"Advisory"})]}),d.jsxs("div",{className:"subtitle",children:[d.jsx("span",{}),"SMART FARM ADVISORY",d.jsx("span",{})]}),d.jsxs("div",{className:"progress-wrapper",children:[d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${e}%`}})}),d.jsxs("div",{className:"progress-text",children:[d.jsx("span",{children:"SYSTEM LOAD"}),d.jsxs("span",{children:[e,"%"]})]})]}),d.jsxs("div",{className:"bottom-info",children:[d.jsx("div",{children:" SECURE NEURAL LINK"}),d.jsx("div",{className:"version",children:"v5.0.1  Dark Mode Active"})]})]})]})},yW=new CM,PP=({children:t})=>{const{user:e,loading:n}=$o();return n?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(Kn,{to:"/welcome",replace:!0})},vW=({children:t})=>{const{profileChecked:e}=$o(),n=localStorage.getItem("onboardingComplete")==="true";return e?n?d.jsx(d.Fragment,{children:t}):d.jsx(Kn,{to:"/onboarding",replace:!0}):d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})},Jo=({children:t})=>d.jsx(PP,{children:d.jsx(vW,{children:t})}),wW=()=>{const{user:t,loading:e}=$o(),n=!!localStorage.getItem("selectedLanguage");return e?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):d.jsxs(xV,{children:[d.jsx(Pn,{path:"/welcome",element:d.jsx(F8,{})}),d.jsx(Pn,{path:"/auth",element:n?t?d.jsx(Kn,{to:"/",replace:!0}):d.jsx(fW,{}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/onboarding",element:n?d.jsx(PP,{children:d.jsx(gB,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/",element:n?d.jsx(Jo,{children:d.jsx(wB,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/crop-selection",element:n?d.jsx(Jo,{children:d.jsx(_B,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/advisory",element:n?d.jsx(Jo,{children:d.jsx(IB,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/crop-calendar",element:n?d.jsx(Jo,{children:d.jsx(NB,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/farms",element:n?d.jsx(Jo,{children:d.jsx(VB,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/settings",element:n?d.jsx(Jo,{children:d.jsx(MB,{})}):d.jsx(Kn,{to:"/welcome",replace:!0})}),d.jsx(Pn,{path:"/install",element:d.jsx(pW,{})}),d.jsx(Pn,{path:"*",element:d.jsx(mW,{})})]})};function xW(){const[t,e]=y.useState(!localStorage.getItem("splashShown")),n=()=>{localStorage.setItem("splashShown","true"),e(!1)};return t?d.jsx(gW,{onFinish:n}):(y.useEffect(()=>{if(!ko.isNativePlatform())return;let r,s,i;const o=async l=>{const c=localStorage.getItem("userGeoLocation");if(!c){localStorage.setItem("pushDeviceToken",l);return}try{const{lat:h,lon:f}=JSON.parse(c);if(!Number.isFinite(h)||!Number.isFinite(f))return;await hu(fu,"registerAlertDevice")({token:l,lat:h,lon:f,platform:ko.getPlatform()}),localStorage.setItem("pushDeviceToken",l)}catch(h){console.error("Device registration failed:",h)}};return(async()=>{(await Ws.requestPermissions()).receive==="granted"&&await Ws.register();const c=await Ws.addListener("registration",p=>{console.log("FCM token received"),o(p.value)});r=()=>c.remove();const h=await Ws.addListener("registrationError",p=>{console.error("Push registration error:",p)});s=()=>h.remove();const f=await Ws.addListener("pushNotificationReceived",p=>{console.log("Push notification received:",p)});i=()=>f.remove()})(),()=>{r==null||r(),s==null||s(),i==null||i()}},[]),d.jsx(IM,{client:yW,children:d.jsx(I8,{children:d.jsx(RV,{children:d.jsxs(XL,{children:[d.jsx(RD,{}),d.jsx(u4,{}),d.jsx(AV,{children:d.jsx(wW,{})})]})})})}))}PT(document.getElementById("root")).render(d.jsx(xW,{}));"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const t=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered at startup:",t)}catch(t){console.warn("Service Worker registration failed at startup:",t)}});export{c0 as W};
